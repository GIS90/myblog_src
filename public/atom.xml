<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>PyGo²</title>
  
  <subtitle>一个爱&lt;font size=&quot;5&quot; color=&quot;#BF0060&quot;&gt;老婆&lt;/font&gt;的&lt;font size=&quot;5&quot; color=&quot;#FF4500&quot;&gt;Python&lt;/font&gt;程序猿。。。。。。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://pygo2.top/"/>
  <updated>2022-10-08T15:12:19.000Z</updated>
  <id>http://pygo2.top/</id>
  
  <author>
    <name>mingliang.gao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>前端栅格布局xs sm md lg xl详解</title>
    <link href="http://pygo2.top/articles/6149/"/>
    <id>http://pygo2.top/articles/6149/</id>
    <published>2022-10-08T15:12:19.000Z</published>
    <updated>2022-10-08T15:12:19.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note primary">            <p>在写VUE的时候用到了Layout布局组件，el-col里面有多个属性是控制大小的，一直都是搞后台的，css基本是小白，查阅资料记录一下学习的内容。</p>          </div><span class="label info">前端</span><a id="more"></a><hr><p>看下官网实例，响应式设计：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-row :gutter=&quot;10&quot;&gt;</span><br><span class="line">  &lt;el-col :xs=&quot;8&quot; :sm=&quot;6&quot; :md=&quot;4&quot; :lg=&quot;3&quot; :xl=&quot;1&quot;&gt;&lt;div class=&quot;grid-content bg-purple&quot;&gt;&lt;/div&gt;&lt;/el-col&gt;</span><br><span class="line">  &lt;el-col :xs=&quot;4&quot; :sm=&quot;6&quot; :md=&quot;8&quot; :lg=&quot;9&quot; :xl=&quot;11&quot;&gt;&lt;div class=&quot;grid-content bg-purple-light&quot;&gt;&lt;/div&gt;&lt;/el-col&gt;</span><br><span class="line">  &lt;el-col :xs=&quot;4&quot; :sm=&quot;6&quot; :md=&quot;8&quot; :lg=&quot;9&quot; :xl=&quot;11&quot;&gt;&lt;div class=&quot;grid-content bg-purple&quot;&gt;&lt;/div&gt;&lt;/el-col&gt;</span><br><span class="line">  &lt;el-col :xs=&quot;8&quot; :sm=&quot;6&quot; :md=&quot;4&quot; :lg=&quot;3&quot; :xl=&quot;1&quot;&gt;&lt;div class=&quot;grid-content bg-purple-light&quot;&gt;&lt;/div&gt;&lt;/el-col&gt;</span><br><span class="line">&lt;/el-row&gt;</span><br></pre></td></tr></table></figure></p><p>里面包含了xs sm md lg xl属性来控制宽度，对这几个值进行详解：</p><ul><li>xl【extra large】：屏幕 &gt;= 1920px，超大显示器</li><li>lg【large】：1200px &lt;= 屏幕 &lt;= 1920px，台式1920*1080显示器</li><li>md【middle】：992px&lt;= 屏幕 &lt;= 1200px，适合笔记本</li><li>sm【small】：768px &lt;= 屏幕 &lt;= 992px，适合平板</li><li>xs【extra small】：屏幕&lt;=768，手机端屏幕</li></ul><blockquote><p>优点</p></blockquote><p>如果屏幕的大小发生改变，系统会根据设置的大小进行分别显示，感觉挺好用的。</p><blockquote><p>测试</p></blockquote><p>正常分辨率</p><p><img src="1.png" alt></p><p>更改分辨率</p><p><img src="2.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note primary&quot;&gt;
            &lt;p&gt;在写VUE的时候用到了Layout布局组件，el-col里面有多个属性是控制大小的，一直都是搞后台的，css基本是小白，查阅资料记录一下学习的内容。&lt;/p&gt;
          &lt;/div&gt;
&lt;span class=&quot;label info&quot;&gt;前端&lt;/span&gt;
    
    </summary>
    
      <category term="前端" scheme="http://pygo2.top/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="HTML" scheme="http://pygo2.top/tags/HTML/"/>
    
      <category term="CSS" scheme="http://pygo2.top/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>Bash脚本之自动解压zip</title>
    <link href="http://pygo2.top/articles/42651/"/>
    <id>http://pygo2.top/articles/42651/</id>
    <published>2022-09-24T01:00:12.000Z</published>
    <updated>2022-09-24T01:00:12.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_bash.jpeg" alt></p><span class="label primary">Bash</span> <span class="label info">Bash脚本系列</span><div class="post_cus_note">Bash脚本系列</div><a id="more"></a><hr><p>记录日常服务器运维用到的Bash脚本。</p><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>每天新接收新的zip文件，并且zip文件压缩的时候是直接集成了文件，没有把文件放在一个目录里面在进行压缩。</p><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/bash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">LDIR=/home/mingliang.gao/newdir</span><br><span class="line">cd $LDIR</span><br><span class="line">files=$(ls | grep &quot;.zip&quot;)</span><br><span class="line"></span><br><span class="line">for file in $files</span><br><span class="line">do</span><br><span class="line">  echo $file</span><br><span class="line">  NAME=`echo &quot;$file&quot; | cut -d&apos;.&apos; -f1`</span><br><span class="line">  #EXTENSION=`echo &quot;$file&quot; | cut -d&apos;.&apos; -f2`</span><br><span class="line">  if [ ! -e &quot;$&#123;NAME&#125;&quot; ]; then</span><br><span class="line">    unzip $&#123;LDIR&#125;/$&#123;file&#125; -d $&#123;LDIR&#125;/$&#123;NAME&#125;</span><br><span class="line">  fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>LDIR：*.zip文件所在的目录</p><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p>其他Bash系列请点击tag标签进行查看。</p><font size="6.5" color="red">Bash脚本系列，持续更新中。。。。。。</font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_bash.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;span class=&quot;label primary&quot;&gt;Bash&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;Bash脚本系列&lt;/span&gt;

&lt;div class=&quot;post_cus_note&quot;&gt;Bash脚本系列&lt;/div&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://pygo2.top/categories/Linux/"/>
    
      <category term="Bash" scheme="http://pygo2.top/categories/Linux/Bash/"/>
    
    
      <category term="Linux" scheme="http://pygo2.top/tags/Linux/"/>
    
      <category term="Bash" scheme="http://pygo2.top/tags/Bash/"/>
    
      <category term="Bash脚本系列" scheme="http://pygo2.top/tags/Bash%E8%84%9A%E6%9C%AC%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Oracle手工导入dat数据</title>
    <link href="http://pygo2.top/articles/30542/"/>
    <id>http://pygo2.top/articles/30542/</id>
    <published>2022-09-18T15:33:04.000Z</published>
    <updated>2022-09-18T15:33:04.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_oracle.jpeg" alt></p><div class="note info">            <p>最近开始搞Oracle数据库，看存储过程学习了一下Oracle怎么导入dat数据的，这里记录一下，方便日后查询使用。</p>          </div><span class="label info">Oracle</span> <span class="label primary">sqlplus</span> <span class="label default">sqlldr</span><a id="more"></a><hr><h4 id="SQL语句"><a href="#SQL语句" class="headerlink" title="SQL语句"></a>SQL语句</h4><blockquote><p>第一步：生成ctl文件</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/u01/app/oracle/product/11.2.0/dbhome_1/bin/sqlplus pas/pas @/home/oracle/pas_control/control.sql T01_CPCT_BSC_INF_FILE_H T01_CPCT_BSC_INF_FILE_H.dat /data/gtp/20220830/</span><br></pre></td></tr></table></figure><ul><li>/u01/app/oracle/product/11.2.0/dbhome_1/bin/sqlplus：为sqlplus命令的绝对路径，根据环境不同进行更改</li><li>pas/pas：账户/密码</li><li>@/home/oracle/pas_control/control.sql：下面会有control.sql文件详解，这里也是绝对路径</li><li>T01_CPCT_BSC_INF_FILE_H：表名，control.sql文件会用到列举表字段信息</li><li>T01_CPCT_BSC_INF_FILE_H.dat：dat文件名称</li><li>/data/gtp/20220830/：dat数据存放的绝对路径</li></ul><blockquote><p>第二步：根据生成的ctl导入数据</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/u01/app/oracle/product/11.2.0/dbhome_1/bin/sqlldr userid=pas/pas control=/data/gtp/20220830/T01_CPCT_BSC_INF_FILE_H.ctl log=/data/gtp/20220830/T01_CPCT_BSC_INF_FILE_H.log direct=true</span><br></pre></td></tr></table></figure><ul><li>/u01/app/oracle/product/11.2.0/dbhome_1/bin/sqlldr：sqlldr命令的绝对路径</li><li>userid=pas/pas：账户/密码</li><li>control=/data/gtp/20220830/T01_CPCT_BSC_INF_FILE_H.ctl：执行第一步sqlplus会生成新的ctl文件，存放的导入命令</li><li>log=/data/gtp/20220830/T01_CPCT_BSC_INF_FILE_H.log：导入日志</li><li>direct=true：是否为直接路径</li></ul><p>sqlldr是Oracle数据加载工具，还有bad、data、discard、skip等很多参数，详细查看man命令或者官网。</p><h4 id="control-sql"><a href="#control-sql" class="headerlink" title="control.sql"></a>control.sql</h4><p>目的产生新的ctl文件，导入数据时候使用。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">set echo off</span><br><span class="line">set heading off</span><br><span class="line">set verify off</span><br><span class="line">set feedback off</span><br><span class="line">set show off</span><br><span class="line">set trim off</span><br><span class="line">set pages 0</span><br><span class="line">set concat on</span><br><span class="line">set lines 300</span><br><span class="line">set trimspool on</span><br><span class="line">set trimout on</span><br><span class="line">spool &amp;3&amp;1..ctl</span><br><span class="line"></span><br><span class="line">select &apos;LOAD DATA&apos;||chr (10)||</span><br><span class="line">       &apos;CHARACTERSET ZHS16GBK&apos;||chr (10)||</span><br><span class="line">       &apos;INFILE &apos;&apos;&amp;3&amp;2&apos;&apos;&apos;||chr (10)||</span><br><span class="line">       &apos;APPEND INTO TABLE &apos;||table_name||chr (10)||</span><br><span class="line">       &apos;FIELDS TERMINATED BY &quot;&quot; optionally enclosed by &apos;&apos;&quot;&apos;&apos;&apos;||chr (10)||</span><br><span class="line">       &apos;TRAILING NULLCOLS&apos;||chr (10)||&apos;(&apos;</span><br><span class="line">from   USER_TABLES</span><br><span class="line">where  table_name = upper (&apos;&amp;1&apos;);</span><br><span class="line"></span><br><span class="line">select decode (column_id, 1, &apos;   &apos;, &apos; , &apos;)||</span><br><span class="line">       rpad (column_name, 33, &apos; &apos;)||</span><br><span class="line">       decode (data_type,</span><br><span class="line">               &apos;VARCHAR2&apos;, &apos;CHAR(2000) NULLIF (&apos;||column_name||&apos;=BLANKS)&apos;,</span><br><span class="line">               &apos;FLOAT&apos;,    &apos;DECIMAL EXTERNAL NULLIF(&apos;||column_name||&apos;=BLANKS)&apos;,</span><br><span class="line">               &apos;NUMBER&apos;,   decode (data_precision, 0,</span><br><span class="line">                           &apos;INTEGER EXTERNAL NULLIF (&apos;||column_name||</span><br><span class="line">                           &apos;=BLANKS)&apos;, decode (data_scale, 0,</span><br><span class="line">                           &apos;INTEGER EXTERNAL NULLIF (&apos;||</span><br><span class="line">                           column_name||&apos;=BLANKS)&apos;,</span><br><span class="line">                           &apos;DECIMAL EXTERNAL NULLIF (&apos;||</span><br><span class="line">                           column_name||&apos;=BLANKS)&apos;)),</span><br><span class="line">               &apos;DATE&apos;,     &apos;DATE &quot;MM/DD/YY&quot;  NULLIF (&apos;||column_name||&apos;=BLANKS)&apos;,</span><br><span class="line">               null)</span><br><span class="line">from   user_tab_columns</span><br><span class="line">where  table_name = upper (&apos;&amp;1&apos;)</span><br><span class="line">order  by column_id;</span><br><span class="line">select &apos;)&apos;</span><br><span class="line">from sys.dual;</span><br><span class="line">spool off</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_oracle.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;div class=&quot;note info&quot;&gt;
            &lt;p&gt;最近开始搞Oracle数据库，看存储过程学习了一下Oracle怎么导入dat数据的，这里记录一下，方便日后查询使用。&lt;/p&gt;
          &lt;/div&gt;
&lt;span class=&quot;label info&quot;&gt;Oracle&lt;/span&gt; &lt;span class=&quot;label primary&quot;&gt;sqlplus&lt;/span&gt; &lt;span class=&quot;label default&quot;&gt;sqlldr&lt;/span&gt;
    
    </summary>
    
      <category term="数据库" scheme="http://pygo2.top/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="Oracle" scheme="http://pygo2.top/tags/Oracle/"/>
    
  </entry>
  
  <entry>
    <title>Python模块之企业微信消息</title>
    <link href="http://pygo2.top/articles/33254/"/>
    <id>http://pygo2.top/articles/33254/</id>
    <published>2022-09-06T13:39:24.000Z</published>
    <updated>2022-09-06T13:39:24.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_python_module.jpeg" alt></p><span class="label primary">Python</span> <span class="label info">Python模块系列</span><div class="post_cus_note">Python模块系列</div><a id="more"></a><hr><p>Python项目常用的模块代码。</p><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">版本</th></tr></thead><tbody><tr><td style="text-align:center">Python</td><td style="text-align:center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>企业微信消息通知<br>腾讯企业微信官网提供一整套WebHook API接口，内容相当丰富，可以实现内部、第三方等各种各样的功能<br>详情参考reference urls</p><h4 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h4><p>运用requests模拟API请求，这里主要实现了2大请求：</p><ul><li>ACCESS TOKEN：认证token获取</li><li>SEND MESSAGE：发送消息</li></ul><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">qywx_lib = QYWXLib(corp_id=企业号标识, secret=管理组凭证密钥, agent_id=机器人应用ID)</span><br><span class="line">qywx_lib.send_to_user_by_markdown(to_user, message)</span><br></pre></td></tr></table></figure><p>初始化必须的参数：</p><ul><li>corp_id: 企业号标识</li><li>secret: 管理组凭证密钥</li><li>agent_id: 机器人应用ID</li></ul><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">------------------------------------------------</span><br><span class="line"></span><br><span class="line">describe:</span><br><span class="line">    企业微信消息通知</span><br><span class="line">    腾讯企业微信官网提供一整套WebHook API接口，内容相当丰富，可以实现内部、第三方等各种各样的功能</span><br><span class="line">    详情参考reference urls</span><br><span class="line"></span><br><span class="line">base_info:</span><br><span class="line">    __author__ = &quot;PyGo&quot;</span><br><span class="line">    __time__ = &quot;2022/9/14&quot;</span><br><span class="line">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="line">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="line">    __project__ = &quot;quality-inspect&quot;</span><br><span class="line"></span><br><span class="line">usage:</span><br><span class="line">    qywx_lib = QYWXLib(corp_id=企业号标识, secret=管理组凭证密钥, agent_id=机器人应用ID)</span><br><span class="line">    qywx_lib.send_to_user_by_markdown(to_user, message)</span><br><span class="line"></span><br><span class="line">    初始化必须的参数：</span><br><span class="line">        - corp_id: 企业号标识</span><br><span class="line">        - secret: 管理组凭证密钥</span><br><span class="line">        - agent_id: 机器人应用ID</span><br><span class="line"></span><br><span class="line">design:</span><br><span class="line">    运用requests模拟API请求，这里主要实现了2大请求：</span><br><span class="line">        - ACCESS TOKEN：认证token获取</span><br><span class="line">        - SEND MESSAGE：发送消息</span><br><span class="line"></span><br><span class="line">reference urls:</span><br><span class="line">  - ACCESS TOKEN：https://developer.work.weixin.qq.com/document/path/91039</span><br><span class="line">  - 发送应用消息：https://developer.work.weixin.qq.com/document/path/90236</span><br><span class="line">  - 全局错误码：https://developer.work.weixin.qq.com/document/path/90313#10649</span><br><span class="line">  --------------------------------------------------------------------------------------</span><br><span class="line">    企业微信API response：</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;errcode&quot; : 0,</span><br><span class="line">      &quot;errmsg&quot; : &quot;ok&quot;,</span><br><span class="line">      &quot;invaliduser&quot; : &quot;userid1|userid2&quot;,</span><br><span class="line">      &quot;invalidparty&quot; : &quot;partyid1|partyid2&quot;,</span><br><span class="line">      &quot;invalidtag&quot;: &quot;tagid1|tagid2&quot;,</span><br><span class="line">      &quot;unlicenseduser&quot; : &quot;userid3|userid4&quot;,</span><br><span class="line">      &quot;msgid&quot;: &quot;xxxx&quot;,</span><br><span class="line">      &quot;response_code&quot;: &quot;xyzxyz&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  --------------------------------------------------------------------------------------</span><br><span class="line">  - 错误码查询工具：https://open.work.weixin.qq.com/devtool/query</span><br><span class="line">  - 发消息API参考：https://developer.work.weixin.qq.com/document/path/90236</span><br><span class="line">  - MARKDOWN语法：https://developer.work.weixin.qq.com/document/path/90236#%E6%94%AF%E6%8C%81%E7%9A%84markdown%E8%AF%AD%E6%B3%95</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">python version:</span><br><span class="line">    python3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Enjoy the good time everyday！！!</span><br><span class="line">Life is short, I use python.</span><br><span class="line"></span><br><span class="line">------------------------------------------------</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"># ------------------------------------------------------------</span><br><span class="line"># usage: /usr/bin/python qywx_lib.py</span><br><span class="line"># ------------------------------------------------------------</span><br><span class="line">import requests</span><br><span class="line"></span><br><span class="line">from deploy.status import Status</span><br><span class="line">from config import QYWX_SEND_MESSAGE, \</span><br><span class="line">    QYWX_ACCESS_TOKEN, DEBUG</span><br><span class="line">from deploy.logger import logger as LOG</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class QYWXLib(object):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    QYWX class</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def __init__(self, corp_id, secret, agent_id):</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        Initialize parameter</span><br><span class="line">        :param corp_id: 企业号标识</span><br><span class="line">        :param secret: 管理组凭证密钥</span><br><span class="line">        :param agent_id: 机器人应用ID</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        if DEBUG:</span><br><span class="line">            LOG.debug(&apos;QYWX lib is loading.&apos;)</span><br><span class="line">        self.CORP_ID = corp_id</span><br><span class="line">        self.SECRET = secret</span><br><span class="line">        self.AGENT_ID = agent_id</span><br><span class="line">        self.token = self.__init_token()   # 每次实例化调用初始化access token</span><br><span class="line"></span><br><span class="line">    def __init_token(self):</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        Initialize access token</span><br><span class="line">        :return: string</span><br><span class="line"></span><br><span class="line">        请求方式： GET（HTTPS）</span><br><span class="line">        请求地址： https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ID&amp;corpsecret=SECRET</span><br><span class="line">            - ID：企业号标识</span><br><span class="line">            - SECRET：管理组凭证密钥</span><br><span class="line">        返回示例：</span><br><span class="line">            &#123;</span><br><span class="line">               &quot;errcode&quot;: 0,</span><br><span class="line">               &quot;errmsg&quot;: &quot;ok&quot;,</span><br><span class="line">               &quot;access_token&quot;: &quot;accesstoken000001&quot;,</span><br><span class="line">               &quot;expires_in&quot;: 7200</span><br><span class="line">            &#125;</span><br><span class="line">            - errcode：出错返回码，为0表示成功，非0表示调用失败</span><br><span class="line">            - errmsg：返回码提示语</span><br><span class="line">            - access_token：获取到的凭证，最长为512字节</span><br><span class="line">            - expires_in：凭证的有效时间（秒）</span><br><span class="line"></span><br><span class="line">        ACCESS TOKEN API参考：https://developer.work.weixin.qq.com/document/path/91039</span><br><span class="line"></span><br><span class="line">        TODO</span><br><span class="line">        7200秒（2小时）后续优化为缓存机制，避免在有效期内频繁调用</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        if DEBUG:</span><br><span class="line">            LOG.debug(&apos;QYWX lib start to apply access token.&apos;)</span><br><span class="line">        data = &#123;</span><br><span class="line">            &quot;corpid&quot;: self.CORP_ID,</span><br><span class="line">            &quot;corpsecret&quot;: self.SECRET</span><br><span class="line">        &#125;</span><br><span class="line">        req = requests.get(url=QYWX_ACCESS_TOKEN, params=data)</span><br><span class="line">        res = req.json()</span><br><span class="line">        if res.get(&quot;errcode&quot;) == 0 and res.get(&quot;errmsg&quot;) == &quot;ok&quot;:</span><br><span class="line">            if DEBUG:</span><br><span class="line">                LOG.debug(&apos;QYWX lib access token apply success.&apos;)</span><br><span class="line">            return res.get(&quot;access_token&quot;)</span><br><span class="line">        else:</span><br><span class="line">            LOG.error(&apos;QYWX lib access token apply failure: %s&apos; % res.get(&apos;errmsg&apos;))</span><br><span class="line">            return None</span><br><span class="line"></span><br><span class="line">    def check_token(self):</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        check access token is or not available</span><br><span class="line">        :return: bool</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        return True if self.token else False</span><br><span class="line"></span><br><span class="line">    def send_to_user_by_markdown(self, to_user: list, content: str, **kwargs):</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        用户私发消息 &gt;&gt;&gt; markdown语法消息体</span><br><span class="line"></span><br><span class="line">        send message to user list by the content of markdown type data</span><br><span class="line">        :param to_user: 企业微信用户ID列表，列表类型参数</span><br><span class="line">        :param content: markdown消息体</span><br><span class="line">        :param kwargs: 其他key-value参数</span><br><span class="line">        :return: json</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        请求方式：POST（HTTPS）</span><br><span class="line">        请求地址： https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token=ACCESS_TOKEN</span><br><span class="line">            - ACCESS_TOKEN：access token</span><br><span class="line">        请求数据：</span><br><span class="line">            &#123;</span><br><span class="line">               &quot;touser&quot; : &quot;UserID1|UserID2|UserID3&quot;,</span><br><span class="line">               &quot;toparty&quot; : &quot;PartyID1|PartyID2&quot;,</span><br><span class="line">               &quot;totag&quot; : &quot;TagID1 | TagID2&quot;,</span><br><span class="line">               &quot;msgtype&quot;: &quot;markdown&quot;,</span><br><span class="line">               &quot;agentid&quot; : 1,</span><br><span class="line">               &quot;markdown&quot;: &#123;</span><br><span class="line">                    &quot;content&quot;: &quot;&quot;</span><br><span class="line">               &#125;,</span><br><span class="line">               &quot;enable_duplicate_check&quot;: 0,</span><br><span class="line">               &quot;duplicate_check_interval&quot;: 1800</span><br><span class="line">            &#125;</span><br><span class="line">        参数说明：</span><br><span class="line">            参数         是否必须            说明</span><br><span class="line">            touser        否            成员ID列表（消息接收者，多个接收者用‘|’分隔，最多支持1000个）。特殊情况：指定为@all，则向关注该企业应用的全部成员发送</span><br><span class="line">            toparty        否            部门ID列表，多个接收者用‘|’分隔，最多支持100个。当touser为@all时忽略本参数</span><br><span class="line">            totag        否            标签ID列表，多个接收者用‘|’分隔，最多支持100个。当touser为@all时忽略本参数</span><br><span class="line">            msgtype        是            消息类型，此时固定为：markdown</span><br><span class="line">            agentid        是            企业应用的id，整型。企业内部开发，可在应用的设置页面查看；第三方服务商，可通过接口 获取企业授权信息 获取该参数值</span><br><span class="line">            content        是            markdown内容，最长不超过2048个字节，必须是utf8编码</span><br><span class="line">            enable_duplicate_check否    表示是否开启重复消息检查，0表示否，1表示是，默认0</span><br><span class="line">            duplicate_check_interval否表示是否重复消息检查的时间间隔，默认1800s，最大不超过4小时</span><br><span class="line">        返回示例：</span><br><span class="line">            &#123;</span><br><span class="line">              &quot;errcode&quot; : 0,</span><br><span class="line">              &quot;errmsg&quot; : &quot;ok&quot;,</span><br><span class="line">              &quot;invaliduser&quot; : &quot;userid1|userid2&quot;,</span><br><span class="line">              &quot;invalidparty&quot; : &quot;partyid1|partyid2&quot;,</span><br><span class="line">              &quot;invalidtag&quot;: &quot;tagid1|tagid2&quot;,</span><br><span class="line">              &quot;unlicenseduser&quot; : &quot;userid3|userid4&quot;,</span><br><span class="line">              &quot;msgid&quot;: &quot;xxxx&quot;,</span><br><span class="line">              &quot;response_code&quot;: &quot;xyzxyz&quot;</span><br><span class="line">            &#125;</span><br><span class="line">            - errcode：返回码</span><br><span class="line">            - errmsg：对返回码的文本描述内容</span><br><span class="line">            - invaliduser：不合法的userid，不区分大小写，统一转为小写</span><br><span class="line">            - invalidparty：不合法的partyid</span><br><span class="line">            - invalidtag：不合法的标签id</span><br><span class="line">            - unlicenseduser：没有基础接口许可(包含已过期)的userid</span><br><span class="line">            - msgid：消息id，用于撤回应用消息</span><br><span class="line">            - response_code：仅消息类型为“按钮交互型”，“投票选择型”和“多项选择型”的模板卡片消息返回，应用可使用response_code调用更新模版卡片消息接口，24小时内有效，且只能使用一次</span><br><span class="line"></span><br><span class="line">        发消息API参考：https://developer.work.weixin.qq.com/document/path/90236</span><br><span class="line">        MARKDOWN语法：https://developer.work.weixin.qq.com/document/path/90236#%E6%94%AF%E6%8C%81%E7%9A%84markdown%E8%AF%AD%E6%B3%95</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        if not self.token:</span><br><span class="line">            return Status(212, &apos;failure&apos;, &apos;请检查access token是否获取成功&apos;, &#123;&#125;).json()</span><br><span class="line">        if not to_user:</span><br><span class="line">            return Status(212, &apos;failure&apos;, &apos;缺少用户列表&apos;, &#123;&#125;).json()</span><br><span class="line">        if not isinstance(to_user, list):</span><br><span class="line">            return Status(213, &apos;failure&apos;, &apos;用户列表必须为List类型&apos;, &#123;&#125;).json()</span><br><span class="line">        if not content:</span><br><span class="line">            return Status(212, &apos;failure&apos;, &apos;缺少消息内容&apos;, &#123;&#125;).json()</span><br><span class="line"></span><br><span class="line">        url = &quot;%s?access_token=%s&quot; % (QYWX_SEND_MESSAGE, self.token)</span><br><span class="line">        data = &#123;</span><br><span class="line">            &quot;touser&quot;: &quot;|&quot;.join(to_user),</span><br><span class="line">            &quot;msgtype&quot;: &quot;markdown&quot;,</span><br><span class="line">            &quot;agentid&quot;: self.AGENT_ID,</span><br><span class="line">            &quot;markdown&quot;: &#123;</span><br><span class="line">                &quot;content&quot;: content</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;enable_duplicate_check&quot;: 0,</span><br><span class="line">            &quot;duplicate_check_interval&quot;: 1800</span><br><span class="line">        &#125;</span><br><span class="line">        req = requests.post(url=url, json=data)</span><br><span class="line">        res = req.json()</span><br><span class="line">        if res.get(&quot;errcode&quot;) == 0 and res.get(&quot;errmsg&quot;) == &quot;ok&quot;:</span><br><span class="line">            return Status(100, &apos;success&apos;, &apos;成功&apos;, &#123;&#125;).json()</span><br><span class="line">        else:</span><br><span class="line">            return Status(501, &apos;failure&apos;, res.get(&apos;errmsg&apos;), &#123;&#125;).json()</span><br></pre></td></tr></table></figure><h4 id="官网API教程"><a href="#官网API教程" class="headerlink" title="官网API教程"></a>官网API教程</h4><ul><li>ACCESS TOKEN：<a href="https://developer.work.weixin.qq.com/document/path/91039" target="_blank" rel="noopener">https://developer.work.weixin.qq.com/document/path/91039</a></li><li>发送应用消息：<a href="https://developer.work.weixin.qq.com/document/path/90236" target="_blank" rel="noopener">https://developer.work.weixin.qq.com/document/path/90236</a></li><li><p>全局错误码：<a href="https://developer.work.weixin.qq.com/document/path/90313#10649" target="_blank" rel="noopener">https://developer.work.weixin.qq.com/document/path/90313#10649</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">企业微信API response：</span><br><span class="line">&#123;</span><br><span class="line">  &quot;errcode&quot; : 0,</span><br><span class="line">  &quot;errmsg&quot; : &quot;ok&quot;,</span><br><span class="line">  &quot;invaliduser&quot; : &quot;userid1|userid2&quot;,</span><br><span class="line">  &quot;invalidparty&quot; : &quot;partyid1|partyid2&quot;,</span><br><span class="line">  &quot;invalidtag&quot;: &quot;tagid1|tagid2&quot;,</span><br><span class="line">  &quot;unlicenseduser&quot; : &quot;userid3|userid4&quot;,</span><br><span class="line">  &quot;msgid&quot;: &quot;xxxx&quot;,</span><br><span class="line">  &quot;response_code&quot;: &quot;xyzxyz&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>错误码查询工具：<a href="https://open.work.weixin.qq.com/devtool/query" target="_blank" rel="noopener">https://open.work.weixin.qq.com/devtool/query</a></p></li><li>发消息API参考：<a href="https://developer.work.weixin.qq.com/document/path/90236" target="_blank" rel="noopener">https://developer.work.weixin.qq.com/document/path/90236</a></li><li>MARKDOWN语法：<a href="https://developer.work.weixin.qq.com/document/path/90236#%E6%94%AF%E6%8C%81%E7%9A%84markdown%E8%AF%AD%E6%B3%95" target="_blank" rel="noopener">https://developer.work.weixin.qq.com/document/path/90236#%E6%94%AF%E6%8C%81%E7%9A%84markdown%E8%AF%AD%E6%B3%95</a></li></ul><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><font size="6.5" color="red"><strong><em>Python模块系列，持续更新中。。。。。。</em></strong></font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_python_module.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;span class=&quot;label primary&quot;&gt;Python&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;Python模块系列&lt;/span&gt;

&lt;div class=&quot;post_cus_note&quot;&gt;Python模块系列&lt;/div&gt;
    
    </summary>
    
      <category term="Python" scheme="http://pygo2.top/categories/Python/"/>
    
    
      <category term="Python" scheme="http://pygo2.top/tags/Python/"/>
    
      <category term="Python模块系列" scheme="http://pygo2.top/tags/Python%E6%A8%A1%E5%9D%97%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Python模块之dtalk钉钉消息</title>
    <link href="http://pygo2.top/articles/58292/"/>
    <id>http://pygo2.top/articles/58292/</id>
    <published>2022-09-05T12:59:18.000Z</published>
    <updated>2022-09-05T12:59:18.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_python_module.jpeg" alt></p><span class="label primary">Python</span> <span class="label info">Python模块系列</span><div class="post_cus_note">Python模块系列</div><a id="more"></a><hr><p>Python项目常用的模块代码。</p><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">版本</th></tr></thead><tbody><tr><td style="text-align:center">Python</td><td style="text-align:center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>DingApi类，主要用请求dingTalk openApi来操作DingDing进行发消息等操作。<br>目前，只支持机器人推送消息操作<br>类添加了is_avail对access token进行判断是否可用，如果不可用中止程序</p><h4 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h4><ul><li>官网发消息API：<a href="https://developers.dingtalk.com/document/robots/chatbots-send-one-on-one-chat-messages-in-batches/h2-xsq-kwt-wyg" target="_blank" rel="noopener">https://developers.dingtalk.com/document/robots/chatbots-send-one-on-one-chat-messages-in-batches/h2-xsq-kwt-wyg</a></li><li>Status JSON说明：<a href="http://pygo2.top/articles/40461/">http://pygo2.top/articles/40461/</a></li></ul><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">json_message = &#123;</span><br><span class="line">    &quot;title&quot;: &quot;2021-12绩效明细&quot;,</span><br><span class="line">    &quot;text&quot;: &quot;#### 2021-11绩效明细  \n  - 个人存款绩效：278  \n  - 贷款绩效：278  \n  - 部门履职绩效：278  \n  - 存款下降扣发：278  \n  - ![screenshot](https://img.alicdn.com/tfs/TB1NwmBEL9TBuNjy1zbXXXpepXa-2400-1218.png)&quot;</span><br><span class="line">&#125;</span><br><span class="line">user = &apos;manager2730&apos;</span><br><span class="line">dapi = DingApi()</span><br><span class="line">res = dapi.robot2send(message=json_message, to_id=user)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">------------------------------------------------</span><br><span class="line"></span><br><span class="line">describe:</span><br><span class="line">    DingTalk Api class, it use to push message</span><br><span class="line">    采用单例模式的DingApi类，主要用请求dingTalk openApi来操作DingDing进行发消息等操作。</span><br><span class="line">    目前，只支持机器人推送消息操作</span><br><span class="line">    类添加了is_avail对access token进行判断是否可用，如果不可用中止程序</span><br><span class="line"></span><br><span class="line">base_info:</span><br><span class="line">    __author__ = &quot;PyGo&quot;</span><br><span class="line">    __time__ = &quot;2021/11/23&quot;</span><br><span class="line">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="line">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="line">    __project__ = &quot;open2lisapi&quot;</span><br><span class="line"></span><br><span class="line">usage:</span><br><span class="line">    json_message = &#123;</span><br><span class="line">        &quot;title&quot;: &quot;2021-12绩效明细&quot;,</span><br><span class="line">        &quot;text&quot;: &quot;#### 2021-11绩效明细  \n  - 个人存款绩效：278  \n  - 贷款绩效：278  \n  - 部门履职绩效：278  \n  - 存款下降扣发：278  \n  - ![screenshot](https://img.alicdn.com/tfs/TB1NwmBEL9TBuNjy1zbXXXpepXa-2400-1218.png)&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    user = &apos;manager2730&apos;</span><br><span class="line">    dapi = DingApi()</span><br><span class="line">    res = dapi.robot2send(message=json_message, to_id=user)</span><br><span class="line">    print(res)</span><br><span class="line"></span><br><span class="line">design:</span><br><span class="line">    DingDing官网开放平台</span><br><span class="line"></span><br><span class="line">reference urls:</span><br><span class="line">    官网发消息API：https://developers.dingtalk.com/document/robots/chatbots-send-one-on-one-chat-messages-in-batches/h2-xsq-kwt-wyg</span><br><span class="line">    Status JSON说明：http://pygo2.top/articles/40461/</span><br><span class="line"></span><br><span class="line">python version:</span><br><span class="line">    python3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Enjoy the good life everyday！！!</span><br><span class="line">Life is short, I use python.</span><br><span class="line"></span><br><span class="line">------------------------------------------------</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import sys</span><br><span class="line">import json</span><br><span class="line">import requests</span><br><span class="line"></span><br><span class="line">from deploy.utils.base_class import Singleton</span><br><span class="line">from deploy.utils.status import Status</span><br><span class="line">from deploy.config import DTALK_TOKEN_URL, DTALK_BASE_URL, DEBUG</span><br><span class="line">from deploy.utils.logger import logger as LOG</span><br><span class="line"></span><br><span class="line">from alibabacloud_dingtalk.robot_1_0.client import Client as dingtalkrobot_1_0Client</span><br><span class="line">from alibabacloud_tea_openapi import models as open_api_models</span><br><span class="line">from alibabacloud_dingtalk.robot_1_0 import models as dingtalkrobot__1__0_models</span><br><span class="line">from alibabacloud_tea_util import models as util_models</span><br><span class="line">from alibabacloud_tea_util.client import Client as UtilClient</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class DtalkLib(object):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    dingTalk Api class</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def __init__(self, app_key, app_secret):</span><br><span class="line">        if DEBUG:</span><br><span class="line">            LOG.debug(&quot;DingApi class start initialize.&quot;)</span><br><span class="line">        self.RC = 0</span><br><span class="line">        self.app_key = app_key</span><br><span class="line">        self.app_secret = app_secret</span><br><span class="line">        self.base_api_url = DTALK_BASE_URL</span><br><span class="line">        self.token_api_url = DTALK_TOKEN_URL</span><br><span class="line">        self.msg_type = &apos;sampleMarkdown&apos;</span><br><span class="line">        self.access_token = self.get_token()</span><br><span class="line">        self.client = self.create_client()</span><br><span class="line"></span><br><span class="line">    def is_avail(self):</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        是否有access token，如果没有token，则中止发信息请求</span><br><span class="line">        建议用sys.exit()优雅的方式退出</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        return True if self.access_token else False</span><br><span class="line"></span><br><span class="line">    def close(self):</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        关闭实例，清除access token</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        self.access_token = &apos;&apos;</span><br><span class="line"></span><br><span class="line">    def get_token(self) -&gt; str:</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        获取唯一access token，2h有效期</span><br><span class="line">        this function is static method, it use to get access token code from dingTalk open api</span><br><span class="line">        :return: access token</span><br><span class="line">        result type is string</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        if DEBUG:</span><br><span class="line">            LOG.debug(&quot;DingApi get access token.&quot;)</span><br><span class="line">        headers = &#123;</span><br><span class="line">            &apos;Access-Control-Allow-Origin&apos;: &apos;*&apos;</span><br><span class="line">        &#125;</span><br><span class="line">        params = &#123;&quot;appkey&quot;: self.app_key, &quot;appsecret&quot;: self.app_secret&#125;</span><br><span class="line">        url = &quot;%s%s&quot; % (self.base_api_url, self.token_api_url)</span><br><span class="line">        try:</span><br><span class="line">            response = requests.get(url=url, headers=headers, params=params)</span><br><span class="line">            if response.status_code == 200:</span><br><span class="line">                json_res = response.json()</span><br><span class="line">                if json_res and json_res.get(&quot;errcode&quot;) == 0:</span><br><span class="line">                    return json_res.get(&quot;access_token&quot;)</span><br><span class="line">        except Exception as e:</span><br><span class="line">            LOG.error(&apos;Initialize dingTalk openApi access token occur error: %s&apos; % e)</span><br><span class="line">            return &apos;&apos;</span><br><span class="line">        LOG.error(&apos;Initialize dingTalk openApi get access token failure, please try again later.&apos;)</span><br><span class="line">        return &apos;&apos;</span><br><span class="line"></span><br><span class="line">    @staticmethod</span><br><span class="line">    def create_client() -&gt; dingtalkrobot_1_0Client:</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        初始化账号Client</span><br><span class="line">        @return: Client</span><br><span class="line">        @throws Exception</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        config = open_api_models.Config()</span><br><span class="line">        config.protocol = &apos;https&apos;</span><br><span class="line">        config.region_id = &apos;central&apos;</span><br><span class="line">        return dingtalkrobot_1_0Client(config)</span><br><span class="line"></span><br><span class="line">    def robot2send(self, message: json, to_id: str) -&gt; json:</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        use dingtalk openApi to send message</span><br><span class="line">        :param message: DingDing消息体，为MarkDown语法</span><br><span class="line">        :param to_id: 接收人ID</span><br><span class="line">        :return: json type result</span><br><span class="line">            status_id: 状态码,</span><br><span class="line">            status: success or failure,</span><br><span class="line">            msg: 消息体</span><br><span class="line">            data: 数据体（diact类型）</span><br><span class="line">            具体说明：http://pygo2.top/articles/40461/</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        # check access token &amp;&amp; parameters</span><br><span class="line">        if not self.access_token:</span><br><span class="line">            return Status(</span><br><span class="line">                202, &quot;failure&quot;, &quot;Not found access token.&quot;, &#123;&#125;).status_body</span><br><span class="line">        batch_send_otoheaders = dingtalkrobot__1__0_models.BatchSendOTOHeaders()</span><br><span class="line">        batch_send_otoheaders.x_acs_dingtalk_access_token = self.access_token</span><br><span class="line">        batch_send_otorequest = dingtalkrobot__1__0_models.BatchSendOTORequest(</span><br><span class="line">            robot_code=self.app_key,</span><br><span class="line">            user_ids=[to_id],</span><br><span class="line">            msg_key=self.msg_type,</span><br><span class="line">            msg_param=json.dumps(message)</span><br><span class="line">        )</span><br><span class="line">        try:</span><br><span class="line">            response = self.client.batch_send_otowith_options(batch_send_otorequest, batch_send_otoheaders, util_models.RuntimeOptions())</span><br><span class="line">            json_resp = &#123;</span><br><span class="line">                &apos;process&apos;: response.body.process_query_key or &apos;&apos;,</span><br><span class="line">                &apos;failure&apos;: response.body.invalid_staff_id_list or [],</span><br><span class="line">                &apos;control&apos;: response.body.flow_controlled_staff_id_list or []</span><br><span class="line">            &#125;</span><br><span class="line">            return Status(</span><br><span class="line">                100, &quot;success&quot;, &quot;成功&quot;, json_resp).status_body</span><br><span class="line">        except Exception as e:</span><br><span class="line">            msg = &apos;DingTalk send message to [%s] occur error: %s&apos; % (to_id, e)</span><br><span class="line">            LOG.error(msg)</span><br><span class="line">            return Status(</span><br><span class="line">                601, &quot;failure&quot;, msg, &#123;&#125;).status_body</span><br></pre></td></tr></table></figure><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><font size="6.5" color="red"><strong><em>Python模块系列，持续更新中。。。。。。</em></strong></font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_python_module.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;span class=&quot;label primary&quot;&gt;Python&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;Python模块系列&lt;/span&gt;

&lt;div class=&quot;post_cus_note&quot;&gt;Python模块系列&lt;/div&gt;
    
    </summary>
    
      <category term="Python" scheme="http://pygo2.top/categories/Python/"/>
    
    
      <category term="Python" scheme="http://pygo2.top/tags/Python/"/>
    
      <category term="Python模块系列" scheme="http://pygo2.top/tags/Python%E6%A8%A1%E5%9D%97%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Python模块之config配置解析</title>
    <link href="http://pygo2.top/articles/51787/"/>
    <id>http://pygo2.top/articles/51787/</id>
    <published>2022-08-31T15:15:26.000Z</published>
    <updated>2022-08-31T15:15:26.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_python_module.jpeg" alt></p><span class="label primary">Python</span> <span class="label info">Python模块系列</span><div class="post_cus_note">Python模块系列</div><a id="more"></a><hr><p>Python项目常用的模块代码。</p><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">版本</th></tr></thead><tbody><tr><td style="text-align:center">Python</td><td style="text-align:center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>用来解析config.yaml配置文件，添加默认值。</p><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">------------------------------------------------</span><br><span class="line"></span><br><span class="line">describe:</span><br><span class="line">    解析配置</span><br><span class="line"></span><br><span class="line">base_info:</span><br><span class="line">    __author__ = &quot;PyGo&quot;</span><br><span class="line">    __time__ = &quot;2022/9/14&quot;</span><br><span class="line">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="line">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="line">    __project__ = &quot;quality-inspect&quot;</span><br><span class="line"></span><br><span class="line">usage:</span><br><span class="line"></span><br><span class="line">design:</span><br><span class="line"></span><br><span class="line">reference urls:</span><br><span class="line"></span><br><span class="line">python version:</span><br><span class="line">    python3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Enjoy the good time everyday！！!</span><br><span class="line">Life is short, I use python.</span><br><span class="line"></span><br><span class="line">------------------------------------------------</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"># ------------------------------------------------------------</span><br><span class="line"># usage: /usr/bin/python config.py</span><br><span class="line"># ------------------------------------------------------------</span><br><span class="line">import os</span><br><span class="line">import sys</span><br><span class="line">import yaml</span><br><span class="line">import inspect</span><br><span class="line">import logging</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># logging.basicConfig()</span><br><span class="line">logger = logging.getLogger(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># get current folder, solve is or not frozen of the script</span><br><span class="line">def _get_cur_folder():</span><br><span class="line">    if getattr(sys, &quot;frozen&quot;, False):</span><br><span class="line">        return os.path.dirname(os.path.abspath(__file__))</span><br><span class="line">    else:</span><br><span class="line">        cur_folder = os.path.dirname(inspect.getfile(inspect.currentframe()))</span><br><span class="line">        return os.path.abspath(cur_folder)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># get global projects by mode</span><br><span class="line">def _get_global_projects(mode=&apos;dev&apos;):</span><br><span class="line">    if mode not in [&apos;dev&apos;, &apos;prod&apos;]:</span><br><span class="line">        return None</span><br><span class="line">    return os.path.join(os.path.join(os.path.join(_get_cur_folder(), &apos;etc&apos;), mode), &apos;projects.json&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># get current run config by mode</span><br><span class="line">def _get_config(mode=&apos;dev&apos;):</span><br><span class="line">    if mode not in [&apos;dev&apos;, &apos;prod&apos;]:</span><br><span class="line">        return None</span><br><span class="line">    return os.path.join(os.path.join(os.path.join(_get_cur_folder(), &apos;etc&apos;), mode), &apos;config.yaml&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># default log dir</span><br><span class="line">def __get_log_dir():</span><br><span class="line">    return os.path.join(_get_cur_folder(), &apos;log&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># default log dir</span><br><span class="line">def __get_result_dir():</span><br><span class="line">    return os.path.join(_get_cur_folder(), &apos;result&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">default config</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"># SERVER</span><br><span class="line">NAME = &apos;quality-inspect&apos;</span><br><span class="line">VERSION = &apos;v1.0.0&apos;</span><br><span class="line">DEBUG = True</span><br><span class="line">SECRET_KEY = &apos;BelivemeIcanfly&apos;</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">enrty: initializate config</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">mode = os.environ.get(&apos;mode&apos;) or &apos;dev&apos;</span><br><span class="line">_config_file = _get_config(mode)</span><br><span class="line">if not os.path.exists(_config_file):</span><br><span class="line">    logger.critical(&apos;====== config file is not exist, exit ======&apos;)</span><br><span class="line">    sys.exit(1)</span><br><span class="line"></span><br><span class="line">with open(_config_file, &apos;r&apos;, encoding=&apos;UTF-8&apos;) as f:</span><br><span class="line">    _config_info = yaml.safe_load(f)</span><br><span class="line">    if not _config_info:</span><br><span class="line">        logger.critical(&apos;====== config file is unavail, exit ======&apos;)</span><br><span class="line">        sys.exit(1)</span><br><span class="line"></span><br><span class="line">    # SERVER</span><br><span class="line">    NAME = _config_info[&apos;SERVER&apos;][&apos;NAME&apos;] or NAME</span><br><span class="line">    VERSION = _config_info[&apos;SERVER&apos;][&apos;VERSION&apos;] or VERSION</span><br><span class="line">    DEBUG = _config_info[&apos;SERVER&apos;][&apos;DEBUG&apos;]</span><br><span class="line">    DEBUG = False if not DEBUG else DEBUG</span><br><span class="line">    SECRET_KEY = _config_info[&apos;SERVER&apos;][&apos;SECRET_KEY&apos;] or SECRET_KEY</span><br></pre></td></tr></table></figure><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><font size="6.5" color="red"><strong><em>Python模块系列，持续更新中。。。。。。</em></strong></font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_python_module.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;span class=&quot;label primary&quot;&gt;Python&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;Python模块系列&lt;/span&gt;

&lt;div class=&quot;post_cus_note&quot;&gt;Python模块系列&lt;/div&gt;
    
    </summary>
    
      <category term="Python" scheme="http://pygo2.top/categories/Python/"/>
    
    
      <category term="Python" scheme="http://pygo2.top/tags/Python/"/>
    
      <category term="Python模块系列" scheme="http://pygo2.top/tags/Python%E6%A8%A1%E5%9D%97%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Python模块之watcher打点</title>
    <link href="http://pygo2.top/articles/31232/"/>
    <id>http://pygo2.top/articles/31232/</id>
    <published>2022-08-28T13:55:22.000Z</published>
    <updated>2022-08-28T13:55:22.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_python_module.jpeg" alt></p><span class="label primary">Python</span> <span class="label info">Python模块系列</span><div class="post_cus_note">Python模块系列</div><a id="more"></a><hr><p>Python项目常用的模块代码。</p><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">版本</th></tr></thead><tbody><tr><td style="text-align:center">Python</td><td style="text-align:center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>用于API计时打点，写入request表。</p><h4 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h4><p>装饰器。</p><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p>装饰器的方式使用。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from flask import request</span><br><span class="line"></span><br><span class="line">@watcher(watcher_args=request)</span><br><span class="line">watcher_args参数为request对象，里面包含blueprint, endpoint, method, path, header等请求参数</span><br></pre></td></tr></table></figure></p><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">------------------------------------------------</span><br><span class="line"></span><br><span class="line">describe:</span><br><span class="line">    watcher</span><br><span class="line">    用于API计时打点，写入request表</span><br><span class="line"></span><br><span class="line">base_info:</span><br><span class="line">    __author__ = &quot;PyGo&quot;</span><br><span class="line">    __time__ = &quot;2022/8/26 23:02&quot;</span><br><span class="line">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="line">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="line">    __blog__ = &quot;www.pygo2.top&quot;</span><br><span class="line">    __project__ = &quot;open2lisapi&quot;</span><br><span class="line"></span><br><span class="line">usage:</span><br><span class="line">    from flask import request</span><br><span class="line">    @watcher(watcher_args=request)</span><br><span class="line">    watcher_args参数为request对象，里面包含blueprint, endpoint, method, path, header等请求参数</span><br><span class="line"></span><br><span class="line">design:</span><br><span class="line"></span><br><span class="line">reference urls:</span><br><span class="line"></span><br><span class="line">python version:</span><br><span class="line">    python3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Enjoy the good life everyday！！!</span><br><span class="line">Life is short, I use python.</span><br><span class="line"></span><br><span class="line">------------------------------------------------</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"># ------------------------------------------------------------</span><br><span class="line"># usage: /usr/bin/python watcher.py</span><br><span class="line"># ------------------------------------------------------------</span><br><span class="line">from datetime import datetime</span><br><span class="line">from functools import wraps</span><br><span class="line">from pprint import pprint</span><br><span class="line"></span><br><span class="line">from deploy.utils.logger import logger as LOG</span><br><span class="line">from deploy.utils.utils import get_rtx_id</span><br><span class="line">from deploy.services.request import RequestService</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 声明一个全局RequestService对象</span><br><span class="line">request_service = RequestService()</span><br><span class="line">GLOBAL_NEW_ENDPOINR = [</span><br><span class="line">    &apos;dashboard.pan&apos;,</span><br><span class="line">    &apos;dashboard.pan_chart&apos;,</span><br><span class="line">    &apos;dashboard.index&apos;,</span><br><span class="line">    &apos;auth.user_list&apos;,</span><br><span class="line">    &apos;info.dict_list&apos;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># method desc: API request to write database table [request]</span><br><span class="line">def __add_request(request, cost, rtx=None):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    API request information to insert into request table</span><br><span class="line">    :param request: API request object parameters</span><br><span class="line">    :param cost: API run time, unit is second</span><br><span class="line">    :param rtx: request user rtx-id</span><br><span class="line">        - 1.request get &quot;X-Rtx-Id&quot;</span><br><span class="line">        - 2.no request by manual set</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    rtx_id = get_rtx_id(request) or rtx    # not rtx_id, no insert</span><br><span class="line">    if not rtx_id:</span><br><span class="line">        return False</span><br><span class="line">    method = getattr(request, &apos;method&apos;)     # method allow only get or post</span><br><span class="line">    if method and str(method).upper() not in [&apos;GET&apos;, &apos;POST&apos;]:</span><br><span class="line">        return False</span><br><span class="line">    if hasattr(request, &apos;endpoint&apos;) and getattr(request, &apos;endpoint&apos;) in GLOBAL_NEW_ENDPOINR:</span><br><span class="line">        RequestService().add_request(request=request, cost=cost, rtx=rtx_id)</span><br><span class="line">    else:</span><br><span class="line">        request_service.add_request(request=request, cost=cost, rtx=rtx_id)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; API打点计时器 &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span><br><span class="line">def watcher(watcher_args):</span><br><span class="line">    def _watcher(fn):</span><br><span class="line">        @wraps(fn)</span><br><span class="line">        def _wrapper(*args, **kwargs):</span><br><span class="line">            start = datetime.now()</span><br><span class="line">            res = fn(*args, **kwargs)</span><br><span class="line">            end = datetime.now()</span><br><span class="line">            cost = round((end-start).microseconds * pow(0.1, 6), 4)   # API run time, unit is second</span><br><span class="line">            if watcher_args:</span><br><span class="line">                __add_request(request=watcher_args, cost=cost)  # API request to write database table [request]</span><br><span class="line">            LOG.info(&apos;@Watcher [%s] is run: %s&apos; % (getattr(watcher_args, &apos;endpoint&apos;) or fn.__name__, cost))</span><br><span class="line">            return res</span><br><span class="line"></span><br><span class="line">        return _wrapper</span><br><span class="line">    return _watcher</span><br></pre></td></tr></table></figure><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><font size="6.5" color="red"><strong><em>Python模块系列，持续更新中。。。。。。</em></strong></font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_python_module.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;span class=&quot;label primary&quot;&gt;Python&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;Python模块系列&lt;/span&gt;

&lt;div class=&quot;post_cus_note&quot;&gt;Python模块系列&lt;/div&gt;
    
    </summary>
    
      <category term="Python" scheme="http://pygo2.top/categories/Python/"/>
    
    
      <category term="Python" scheme="http://pygo2.top/tags/Python/"/>
    
      <category term="Python模块系列" scheme="http://pygo2.top/tags/Python%E6%A8%A1%E5%9D%97%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Python模块之utils公共方法</title>
    <link href="http://pygo2.top/articles/61799/"/>
    <id>http://pygo2.top/articles/61799/</id>
    <published>2022-08-24T14:54:36.000Z</published>
    <updated>2022-08-24T14:54:36.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_python_module.jpeg" alt></p><span class="label primary">Python</span> <span class="label info">Python模块系列</span><div class="post_cus_note">Python模块系列</div><a id="more"></a><hr><p>Python项目常用的模块代码。</p><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">版本</th></tr></thead><tbody><tr><td style="text-align:center">Python</td><td style="text-align:center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>公共方法模块。</p><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">------------------------------------------------</span><br><span class="line"></span><br><span class="line">describe:</span><br><span class="line">    utils method</span><br><span class="line"></span><br><span class="line">base_info:</span><br><span class="line">    __author__ = &quot;PyGo&quot;</span><br><span class="line">    __time__ = &quot;2022/9/14&quot;</span><br><span class="line">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="line">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="line">    __project__ = &quot;quality-inspect&quot;</span><br><span class="line"></span><br><span class="line">usage:</span><br><span class="line"></span><br><span class="line">design:</span><br><span class="line"></span><br><span class="line">reference urls:</span><br><span class="line"></span><br><span class="line">python version:</span><br><span class="line">    python3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Enjoy the good time everyday！！!</span><br><span class="line">Life is short, I use python.</span><br><span class="line"></span><br><span class="line">------------------------------------------------</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"># ------------------------------------------------------------</span><br><span class="line"># usage: /usr/bin/python utils.py</span><br><span class="line"># ------------------------------------------------------------</span><br><span class="line">import os</span><br><span class="line">import sys</span><br><span class="line">import inspects</span><br><span class="line">import hashlib</span><br><span class="line">import time</span><br><span class="line">import subprocess</span><br><span class="line">from datetime import datetime, timedelta</span><br><span class="line">from functools import wraps</span><br><span class="line">from deploy.logger import logger as LOG</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_cur_folder():</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # get current folder, solve is or not frozen of the script</span><br><span class="line">    :return: the file current folder</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    if getattr(sys, &quot;frozen&quot;, False):</span><br><span class="line">        return os.path.dirname(os.path.abspath(__file__))</span><br><span class="line">    else:</span><br><span class="line">        cur_folder = os.path.dirname(inspects.getfile(inspects.currentframe()))</span><br><span class="line">        return os.path.abspath(cur_folder)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def md5(v):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # md5加密</span><br><span class="line">    :param v: value</span><br><span class="line">    :return: md5 value</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    if isinstance(v, str):</span><br><span class="line">        v = v.encode(&apos;utf-8&apos;)</span><br><span class="line">    return hashlib.md5(v).hexdigest()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def s2d(s, fmt=&quot;%Y-%m-%d %H:%M:%S&quot;):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # 字符串转日期</span><br><span class="line">    :param s: string type time</span><br><span class="line">    :param fmt: transfer to formatter</span><br><span class="line">    :return: datetime type time</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    return datetime.strptime(s, fmt)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def d2s(d, fmt=&quot;%Y-%m-%d %H:%M:%S&quot;):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # 日期转字符串</span><br><span class="line">    :param d: datetime type time</span><br><span class="line">    :param fmt: transfer to formatter</span><br><span class="line">    :return: string type time</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    return d.strftime(fmt)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def d2ts(d):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # 日期转ts</span><br><span class="line">    :param d: datetime type parameter</span><br><span class="line">    :return: time.time type</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    return time.mktime(d.timetuple())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def s2ts(s, format=&quot;%Y-%m-%d %H:%M:%S&quot;):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # 字符串转ts</span><br><span class="line">    :param s: sting type parameter</span><br><span class="line">    :return: time.time type</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    d = s2d(s, format)</span><br><span class="line">    return d2ts(d)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def dura_date(d1, d2, need_d=False):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # get datetime1 and datatime difference 时间差</span><br><span class="line">    :param d1: datetime parameter 1</span><br><span class="line">    :param d2: datetime parameter 2</span><br><span class="line">    :param need_d: is or not need hours, minutes, seconds</span><br><span class="line">    :return: result 1: seconds</span><br><span class="line">    result 2: hours, minutes, seconds</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    if type(d1) is str:</span><br><span class="line">        d1 = s2d(d1)</span><br><span class="line">    if type(d2) is str:</span><br><span class="line">        d2 = s2d(d2)</span><br><span class="line">    d = d2 - d1</span><br><span class="line">    if need_d is False:</span><br><span class="line">        seconds = d.seconds</span><br><span class="line">        mins = seconds / 60.00</span><br><span class="line">        hours = mins / 60.00</span><br><span class="line">        return seconds, mins, hours</span><br><span class="line">    return d</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_now_time():</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # 获取当前时间</span><br><span class="line">    :return: to return the now of datetime type</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    return datetime.now()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_now_date():</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # 获取当前日期</span><br><span class="line">    :return: to return the now of date type</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    return datetime.now().date()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_now(format=&quot;%Y-%m-%d %H:%M:%S&quot;):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # 获取当前时间str</span><br><span class="line">    :return: to return the now of string type</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    return d2s(datetime.now(), format)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_week_day(date):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # 获取weekday</span><br><span class="line">    :param date: date</span><br><span class="line">    :return: week</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    weekdaylist = (&apos;星期一&apos;, &apos;星期二&apos;, &apos;星期三&apos;, &apos;星期四&apos;, &apos;星期五&apos;, &apos;星期六&apos;, &apos;星期天&apos;)</span><br><span class="line">    weekday = weekdaylist[date.weekday()]</span><br><span class="line">    return weekday</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 计时器</span><br><span class="line">def timeer(fn):</span><br><span class="line">    @wraps(fn)</span><br><span class="line">    def _wrapper(*args, **kwargs):</span><br><span class="line">        start = datetime.now()</span><br><span class="line">        res = fn(*args, **kwargs)</span><br><span class="line">        end = datetime.now()</span><br><span class="line">        LOG.info(&apos;@timeer %s is run: %s&apos; % (fn.__name__, (end-start).seconds))</span><br><span class="line">        return res</span><br><span class="line"></span><br><span class="line">    return _wrapper</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 真实IP</span><br><span class="line">def get_real_ip(request):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    flask api request object</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    if not request.headers.getlist(&quot;X-Forwarded-For&quot;):</span><br><span class="line">        ip = request.remote_addr</span><br><span class="line">    else:</span><br><span class="line">        ip = request.headers.getlist(&quot;X-Forwarded-For&quot;)[0]</span><br><span class="line">    return ip</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># rtx-id by request config</span><br><span class="line">def get_rtx_id(request):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    flask api request object</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    return request.headers.get(&quot;X-Rtx-Id&quot;) \</span><br><span class="line">        if request.headers.get(&quot;X-Rtx-Id&quot;) else &apos;&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def mk_dirs(path):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # mdkirs folder 建立文件夹（递归）</span><br><span class="line">    :param path: to make folder path</span><br><span class="line">    :return: path</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    os.makedirs(path)</span><br><span class="line">    return path</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_base_dir():</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # 获取项目base目录（deploy）</span><br><span class="line">    :return: deploy base path</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    return os.path.dirname(get_cur_folder())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def v2decimal(x, y):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # 保留小数</span><br><span class="line">    :param x: value</span><br><span class="line">    :param y: point decimal</span><br><span class="line">    :return:</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    if not x:</span><br><span class="line">        return None</span><br><span class="line">    if x.find(&apos;.&apos;) &gt; 0:</span><br><span class="line">        return round(x, y)</span><br><span class="line">    return int(x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_month_list():</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    static method</span><br><span class="line">    # 获取月份list</span><br><span class="line">    :return: list data</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    return [u&apos;1月&apos;, u&apos;2月&apos;, u&apos;3月&apos;, u&apos;4月&apos;, u&apos;5月&apos;, u&apos;6月&apos;,</span><br><span class="line">            u&apos;7月&apos;, u&apos;8月&apos;, u&apos;9月&apos;, u&apos;10月&apos;, u&apos;11月&apos;, u&apos;12月&apos;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def filename2md5(rtx_id: str = None, file_name: str = None, _type: str = &apos;file&apos;):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    get local store file name by md5 value</span><br><span class="line">    获取本地存储文件名称md5</span><br><span class="line">    :param rtx_id: rtx id</span><br><span class="line">    :param file_name: file name</span><br><span class="line">    :param _type: file type, is file,image, and so on.</span><br><span class="line">    :return:</span><br><span class="line">    result is tuple</span><br><span class="line">    param1: md5 value no suffix</span><br><span class="line">    param2: md5 value have suffix</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    file_names = os.path.splitext(file_name)</span><br><span class="line">    suffix = (file_names[1]).lower() if len(file_names) &gt; 1 else &apos;&apos;</span><br><span class="line">    _v = file_name + get_now() + _type + rtx_id if rtx_id \</span><br><span class="line">        else file_name + get_now() + _type</span><br><span class="line">    md5_v = md5(_v)</span><br><span class="line">    return md5_v, md5_v + suffix if suffix else md5_v</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def check_length(data, limit=10):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    check data length</span><br><span class="line">    :param data: check data</span><br><span class="line">    :param limit: length limit</span><br><span class="line"></span><br><span class="line">    return True or False</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    if not data:</span><br><span class="line">        return True</span><br><span class="line">    return True if len(data) &lt;= limit else False</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_day_week_date(query_date):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    get query day current week</span><br><span class="line">    :param query_date: query day, is str</span><br><span class="line"></span><br><span class="line">    return dict</span><br><span class="line">    format:</span><br><span class="line">        - start_time</span><br><span class="line">        - end_time</span><br><span class="line">        - [星期一date, 星期二date, 星期三date, 星期四date, 星期五date, 星期六date, 星期日date]</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    if not query_date:</span><br><span class="line">        query_date = get_now_date()</span><br><span class="line">    if isinstance(query_date, str):</span><br><span class="line">        query_date = s2d(query_date, fmt=&quot;%Y-%m-%d&quot;)</span><br><span class="line">    current_week = query_date.isoweekday()  # 当前时间所在本周第几天</span><br><span class="line">    start_week_date = (query_date - timedelta(days=current_week - 1))</span><br><span class="line">    end_week_date = (query_date + timedelta(days=7 - current_week))</span><br><span class="line">    _week = list()</span><br><span class="line">    for day_num in range(0, 7, 1):</span><br><span class="line">        _week.append(d2s(start_week_date + timedelta(days=day_num), fmt=&quot;%Y-%m-%d&quot;))</span><br><span class="line">    _res = &#123;</span><br><span class="line">        &quot;start_week_date&quot;: d2s(start_week_date, fmt=&quot;%Y-%m-%d&quot;),  # 本周起始日期</span><br><span class="line">        &quot;end_week_date&quot;: d2s(end_week_date, fmt=&quot;%Y-%m-%d&quot;),      # 本周结束日期</span><br><span class="line">        &quot;week_date&quot;: _week                   # 本周日期列表</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    return _res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def ping(ip: str, **kwargs):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    insect to ping the ip connection</span><br><span class="line"></span><br><span class="line">    :param ip: the target ip or 域名</span><br><span class="line">    :param kwargs: the ping other parameters</span><br><span class="line">    :return: bool</span><br><span class="line"></span><br><span class="line">    **kwargs:</span><br><span class="line">        -a             将地址解析为主机名。</span><br><span class="line">        -n count       要发送的回显请求数。</span><br><span class="line">        -l size        发送缓冲区大小。</span><br><span class="line">        -w timeout     等待每次回复的超时时间(毫秒)。</span><br><span class="line"></span><br><span class="line">    usage:</span><br><span class="line">        ping(ip=&apos;www.baidu.com&apos;, n=4, w=2000, l=32)</span><br><span class="line">        or</span><br><span class="line">        ping(ip=&apos;127.0.0.1&apos;, n=4, w=2000, l=32)</span><br><span class="line"></span><br><span class="line">    param default value:</span><br><span class="line">        - count: 4</span><br><span class="line">        - size: 32</span><br><span class="line">        - timeout: 2000</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    cmd = [&apos;ping&apos;]</span><br><span class="line">    # **kwargs &gt; ping &gt; a</span><br><span class="line">    if kwargs.get(&apos;a&apos;):</span><br><span class="line">        cmd.append(&apos;-a&apos;)</span><br><span class="line">    # **kwargs &gt; ping &gt; n</span><br><span class="line">    if kwargs.get(&apos;n&apos;) or kwargs.get(&apos;count&apos;):</span><br><span class="line">        count = kwargs.get(&apos;n&apos;) or kwargs.get(&apos;count&apos;) or 4</span><br><span class="line">        if not isinstance(count, int):</span><br><span class="line">            count = 4</span><br><span class="line">        if count &gt; 0:</span><br><span class="line">            cmd.append(&apos;-n %s&apos; % count)</span><br><span class="line">    # **kwargs &gt; ping &gt; l</span><br><span class="line">    if kwargs.get(&apos;l&apos;) or kwargs.get(&apos;size&apos;):</span><br><span class="line">        size = kwargs.get(&apos;l&apos;) or kwargs.get(&apos;size&apos;) or 32</span><br><span class="line">        if not isinstance(size, int):</span><br><span class="line">            size = 0</span><br><span class="line">        if size &gt; 0:</span><br><span class="line">            cmd.append(&apos;-l %s&apos; % size)</span><br><span class="line">    # **kwargs &gt; ping &gt; w</span><br><span class="line">    if kwargs.get(&apos;w&apos;) or kwargs.get(&apos;timeout&apos;):</span><br><span class="line">        timeout = kwargs.get(&apos;w&apos;) or kwargs.get(&apos;timeout&apos;) or 2000</span><br><span class="line">        if not isinstance(timeout, int):</span><br><span class="line">            timeout = 0</span><br><span class="line">        if timeout &gt; 0:</span><br><span class="line">            cmd.append(&apos;-w %s&apos; % timeout)</span><br><span class="line">    cmd.append(ip)</span><br><span class="line">    cmd_str = &apos; &apos;.join(cmd)</span><br><span class="line">    ret_res = subprocess.call(cmd_str, shell=True, stdin=subprocess.PIPE, stdout=subprocess.PIPE,</span><br><span class="line">                              stderr=subprocess.PIPE)</span><br><span class="line">    return True if ret_res == 0 else False</span><br></pre></td></tr></table></figure><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><font size="6.5" color="red"><strong><em>Python模块系列，持续更新中。。。。。。</em></strong></font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_python_module.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;span class=&quot;label primary&quot;&gt;Python&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;Python模块系列&lt;/span&gt;

&lt;div class=&quot;post_cus_note&quot;&gt;Python模块系列&lt;/div&gt;
    
    </summary>
    
      <category term="Python" scheme="http://pygo2.top/categories/Python/"/>
    
    
      <category term="Python" scheme="http://pygo2.top/tags/Python/"/>
    
      <category term="Python模块系列" scheme="http://pygo2.top/tags/Python%E6%A8%A1%E5%9D%97%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Python模块之logger日志</title>
    <link href="http://pygo2.top/articles/5145/"/>
    <id>http://pygo2.top/articles/5145/</id>
    <published>2022-08-18T14:20:32.000Z</published>
    <updated>2022-08-18T14:20:32.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_python_module.jpeg" alt></p><span class="label primary">Python</span> <span class="label info">Python模块系列</span><div class="post_cus_note">Python模块系列</div><a id="more"></a><hr><p>Python项目常用的模块代码。</p><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">版本</th></tr></thead><tbody><tr><td style="text-align:center">Python</td><td style="text-align:center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>日志模块。</p><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from app.utils.logger import logger</span><br><span class="line"></span><br><span class="line">logger.debug(&apos;message&apos;)</span><br><span class="line">logger.info(&apos;message&apos;)</span><br><span class="line">logger.warning(&apos;message&apos;)</span><br><span class="line">logger.error(&apos;message&apos;)</span><br><span class="line">logger.critical(&apos;message&apos;)</span><br></pre></td></tr></table></figure><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">------------------------------------------------</span><br><span class="line"></span><br><span class="line">describe:</span><br><span class="line">    日志</span><br><span class="line"></span><br><span class="line">    record  system information</span><br><span class="line">    level: debug, info, warning, error, critical</span><br><span class="line"></span><br><span class="line">    CRITICAL 50</span><br><span class="line">    ERROR 40</span><br><span class="line">    WARNING 30</span><br><span class="line">    INFO 20</span><br><span class="line">    DEBUG 10</span><br><span class="line"></span><br><span class="line">formatter：</span><br><span class="line">    %(levelno)s：打印日志级别的数值。</span><br><span class="line"></span><br><span class="line">    %(levelname)s：打印日志级别的名称。</span><br><span class="line"></span><br><span class="line">    %(pathname)s：打印当前执行程序的路径，其实就是sys.argv[0]。</span><br><span class="line"></span><br><span class="line">    %(filename)s：打印当前执行程序名。</span><br><span class="line"></span><br><span class="line">    %(funcName)s：打印日志的当前函数。</span><br><span class="line"></span><br><span class="line">    %(lineno)d：打印日志的当前行号。</span><br><span class="line"></span><br><span class="line">    %(asctime)s：打印日志的时间。</span><br><span class="line"></span><br><span class="line">    %(thread)d：打印线程ID。</span><br><span class="line"></span><br><span class="line">    %(threadName)s：打印线程名称。</span><br><span class="line"></span><br><span class="line">    %(process)d：打印进程ID。</span><br><span class="line"></span><br><span class="line">    %(processName)s：打印线程名称。</span><br><span class="line"></span><br><span class="line">    %(module)s：打印模块名称。</span><br><span class="line"></span><br><span class="line">    %(message)s：打印日志信息。</span><br><span class="line"></span><br><span class="line">base_info:</span><br><span class="line">    __author__ = &quot;PyGo&quot;</span><br><span class="line">    __time__ = &quot;2022/9/14&quot;</span><br><span class="line">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="line">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="line">    __project__ = &quot;quality-inspect&quot;</span><br><span class="line"></span><br><span class="line">usage:</span><br><span class="line">    from app.utils.logger import logger</span><br><span class="line"></span><br><span class="line">    logger.debug(&apos;message&apos;)</span><br><span class="line">    logger.info(&apos;message&apos;)</span><br><span class="line">    logger.warning(&apos;message&apos;)</span><br><span class="line">    logger.error(&apos;message&apos;)</span><br><span class="line">    logger.critical(&apos;message&apos;)</span><br><span class="line"></span><br><span class="line">design:</span><br><span class="line"></span><br><span class="line">reference urls:</span><br><span class="line"></span><br><span class="line">python version:</span><br><span class="line">    python3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Enjoy the good time everyday！！!</span><br><span class="line">Life is short, I use python.</span><br><span class="line"></span><br><span class="line">------------------------------------------------</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"># ------------------------------------------------------------</span><br><span class="line"># usage: /usr/bin/python logger.py</span><br><span class="line"># ------------------------------------------------------------</span><br><span class="line">import datetime</span><br><span class="line">import inspect</span><br><span class="line">import logging</span><br><span class="line">import os</span><br><span class="line">import sys</span><br><span class="line">from logging.handlers import RotatingFileHandler</span><br><span class="line">from config import LOG_DIR, LOG_LEVEL, LOG_FORMATTER, LOG_FILENAME_PREFIX</span><br><span class="line"></span><br><span class="line">LEVEL = &#123;</span><br><span class="line">    &apos;debug&apos;: logging.DEBUG,</span><br><span class="line">    &apos;info&apos;: logging.INFO,</span><br><span class="line">    &apos;warning&apos;: logging.WARNING,</span><br><span class="line">    &apos;error&apos;: logging.ERROR,</span><br><span class="line">    &apos;critical&apos;: logging.CRITICAL</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">logger = logging.getLogger(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># get current folder, solve is or not frozen of the script</span><br><span class="line">def _get_cur_folder():</span><br><span class="line">    if getattr(sys, &quot;frozen&quot;, False):</span><br><span class="line">        return os.path.dirname(os.path.abspath(__file__))</span><br><span class="line">    else:</span><br><span class="line">        cur_folder = os.path.dirname(inspect.getfile(inspect.currentframe()))</span><br><span class="line">        return os.path.abspath(cur_folder)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def _get_now(format=&quot;%Y-%m-%d %H:%M:%S&quot;):</span><br><span class="line">    return datetime.datetime.strftime(datetime.datetime.now(), format)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># default log dir</span><br><span class="line">def __get_log_dir():</span><br><span class="line">    return os.path.join(_get_cur_folder(), &apos;log&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">logdir = LOG_DIR</span><br><span class="line">level = LOG_LEVEL</span><br><span class="line">formatter = LOG_FORMATTER</span><br><span class="line">filename_prefix = LOG_FILENAME_PREFIX</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if not logdir:</span><br><span class="line">    logdir = __get_log_dir()</span><br><span class="line">if not os.path.exists(logdir):</span><br><span class="line">    try:</span><br><span class="line">        os.makedirs(logdir)</span><br><span class="line">        logger.critical(&apos;====== log dir is not exist, create: %s ======&apos; % logdir)</span><br><span class="line">    except:</span><br><span class="line">        logger.critical(&apos;====== log dir is not exist and create failure, exist: %s ======&apos; % logdir)</span><br><span class="line">        sys.exit(1)</span><br><span class="line">if not level:</span><br><span class="line">    level = &apos;debug&apos;</span><br><span class="line"># 格式</span><br><span class="line">if not formatter:</span><br><span class="line">    formatter = &apos;%(asctime)s - %(pathname)s[line:%(lineno)d] - %(levelname)s - %(message)s&apos;</span><br><span class="line">formatter = logging.Formatter(formatter,</span><br><span class="line">                              datefmt=&apos;%Y/%m/%d %H:%M:%S&apos;)</span><br><span class="line"></span><br><span class="line">log_level = LEVEL.get(level)</span><br><span class="line">logger.setLevel(level=log_level)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 定义一个RotatingFileHandler，最多备份10个日志文件，每个日志文件最大10M</span><br><span class="line">log_name = filename_prefix + &apos;_&apos; + _get_now(format=&quot;%Y-%m-%d&quot;) \</span><br><span class="line">    if filename_prefix and filename_prefix != &apos;-&apos; else _get_now(format=&quot;%Y-%m-%d&quot;)</span><br><span class="line">log_file = os.path.join(logdir, (log_name + &apos;.log&apos;))</span><br><span class="line">file_handler = RotatingFileHandler(log_file,</span><br><span class="line">                                   mode=&apos;a&apos;,</span><br><span class="line">                                   maxBytes=10*1024*1024,</span><br><span class="line">                                   backupCount=10,</span><br><span class="line">                                   encoding=&apos;utf-8&apos;)</span><br><span class="line">file_handler.setLevel(log_level)</span><br><span class="line">file_handler.setFormatter(formatter)</span><br><span class="line">logger.addHandler(file_handler)</span><br><span class="line"># 控制台</span><br><span class="line">stream_handler = logging.StreamHandler()</span><br><span class="line">stream_handler.setLevel(log_level)</span><br><span class="line">stream_handler.setFormatter(formatter)</span><br><span class="line">logger.addHandler(stream_handler)</span><br></pre></td></tr></table></figure><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><font size="6.5" color="red"><strong><em>Python模块系列，持续更新中。。。。。。</em></strong></font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_python_module.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;span class=&quot;label primary&quot;&gt;Python&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;Python模块系列&lt;/span&gt;

&lt;div class=&quot;post_cus_note&quot;&gt;Python模块系列&lt;/div&gt;
    
    </summary>
    
      <category term="Python" scheme="http://pygo2.top/categories/Python/"/>
    
    
      <category term="Python" scheme="http://pygo2.top/tags/Python/"/>
    
      <category term="Python模块系列" scheme="http://pygo2.top/tags/Python%E6%A8%A1%E5%9D%97%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Python模块之excel模块</title>
    <link href="http://pygo2.top/articles/19275/"/>
    <id>http://pygo2.top/articles/19275/</id>
    <published>2022-08-13T14:20:32.000Z</published>
    <updated>2022-08-13T14:20:32.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_python_module.jpeg" alt></p><span class="label primary">Python</span> <span class="label info">Python模块系列</span><div class="post_cus_note">Python模块系列</div><a id="more"></a><hr><p>Python项目常用的模块代码。</p><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">版本</th></tr></thead><tbody><tr><td style="text-align:center">Python</td><td style="text-align:center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>Excel表读取、写入工具<br>使用了xlrd、xlwt，Excel表格处理包进行开发的lib工具包</p><ul><li><p>read</p></li><li><p>write<br>其中，在写入模块加入了表格样式处理，使其生成的表格自带cell样式，更加美观</p></li></ul><h4 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h4><p>利用Python包开发的表格工具包。</p><ul><li>xlrd: 表格读取包</li><li>xlwt: 表格写入包</li></ul><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">excel_lib = ExcelLib()</span><br><span class="line"># 读取</span><br><span class="line">excel_lib.read(read_file)</span><br><span class="line"># 写入</span><br><span class="line">excel_res = self.excel_lib.beau_write(excel_file=excel_file, data=inspect_list)</span><br></pre></td></tr></table></figure><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">------------------------------------------------</span><br><span class="line"></span><br><span class="line">describe:</span><br><span class="line">    Excel表读取、写入工具</span><br><span class="line">    使用了xlrd、xlwt，Excel表格处理包进行开发的lib工具包</span><br><span class="line">    - read</span><br><span class="line">    - write</span><br><span class="line">    其中，在写入模块加入了表格样式处理，使其生成的表格自带cell样式，更加美观</span><br><span class="line"></span><br><span class="line">base_info:</span><br><span class="line">    __author__ = &quot;PyGo&quot;</span><br><span class="line">    __time__ = &quot;2022/9/15&quot;</span><br><span class="line">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="line">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="line">    __project__ = &quot;quality-inspect&quot;</span><br><span class="line"></span><br><span class="line">usage:</span><br><span class="line">    excel_lib = ExcelLib()</span><br><span class="line">    # 读取</span><br><span class="line">    excel_lib.read(read_file)</span><br><span class="line">    # 写入</span><br><span class="line">    excel_res = self.excel_lib.beau_write(excel_file=excel_file, data=inspect_list)</span><br><span class="line"></span><br><span class="line">design:</span><br><span class="line">    - xlrd: 表格读取包</span><br><span class="line">    - xlwt: 表格写入包</span><br><span class="line">    利用Python包开发的表格工具包。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">reference urls:</span><br><span class="line"></span><br><span class="line">python version:</span><br><span class="line">    python3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Enjoy the good time everyday！！!</span><br><span class="line">Life is short, I use python.</span><br><span class="line"></span><br><span class="line">------------------------------------------------</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"># ------------------------------------------------------------</span><br><span class="line"># usage: /usr/bin/python excel_lib.py</span><br><span class="line"># ------------------------------------------------------------</span><br><span class="line">import os</span><br><span class="line">import xlwt</span><br><span class="line">import xlrd</span><br><span class="line"></span><br><span class="line">from deploy.utils import get_now, mk_dirs</span><br><span class="line">from deploy.status_msg import StatusMsgs</span><br><span class="line">from config import RESULT_EXCEL, DEBUG</span><br><span class="line">from deploy.logger import logger as LOG</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class ExcelLib(object):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    Excel class</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">    # 类常量参数</span><br><span class="line">    DEFAULT_OLD_V_PREFIX = &apos;.xls&apos;</span><br><span class="line">    DEFAULT_NEW_V_PREFIX = &apos;.xlsx&apos;</span><br><span class="line">    DEFAULT_SHEET_NAME = &apos;Sheet1&apos;</span><br><span class="line"></span><br><span class="line">    # 表格样式 &gt; 文字横向方向</span><br><span class="line">    HORZ_DICT = &#123;</span><br><span class="line">        &apos;left&apos;: 0x01,</span><br><span class="line">        &apos;center&apos;: 0x02,</span><br><span class="line">        &apos;right&apos;: 0x03</span><br><span class="line">    &#125;</span><br><span class="line">    # 表格样式 &gt; 文字纵向方向</span><br><span class="line">    VERT_DICT = &#123;</span><br><span class="line">        &apos;top&apos;: 0x00,</span><br><span class="line">        &apos;center&apos;: 0x01,</span><br><span class="line">        &apos;bottom&apos;: 0x02</span><br><span class="line">    &#125;</span><br><span class="line">    # 表格样式 &gt; 单元格边框</span><br><span class="line">    BORDER_LINES = &#123;</span><br><span class="line">        &apos;NO_LINE&apos;: xlwt.Borders.NO_LINE,</span><br><span class="line">        &apos;THIN&apos;: xlwt.Borders.THIN,</span><br><span class="line">        &apos;MEDIUM&apos;: xlwt.Borders.MEDIUM,</span><br><span class="line">        &apos;DASHED&apos;: xlwt.Borders.DASHED,</span><br><span class="line">        &apos;DOTTED&apos;: xlwt.Borders.DOTTED,</span><br><span class="line">        &apos;THICK&apos;: xlwt.Borders.THICK,</span><br><span class="line">        &apos;DOUBLE&apos;: xlwt.Borders.DOUBLE,</span><br><span class="line">        &apos;HAIR&apos;: xlwt.Borders.HAIR</span><br><span class="line">    &#125;</span><br><span class="line">    # 表格样式 &gt; 单元格类型</span><br><span class="line">    FORMATTER = [</span><br><span class="line">        &apos;general&apos;,</span><br><span class="line">        &apos;0&apos;,</span><br><span class="line">        &apos;0.00&apos;,</span><br><span class="line">        &apos;#,##0&apos;,</span><br><span class="line">        &apos;#,##0.00&apos;,</span><br><span class="line">        &apos;&quot;$&quot;#,##0_);(&quot;$&quot;#,##&apos;,</span><br><span class="line">        &apos;&quot;$&quot;#,##0_);[Red](&quot;$&quot;#,##&apos;,</span><br><span class="line">        &apos;&quot;$&quot;#,##0.00_);(&quot;$&quot;#,##&apos;,</span><br><span class="line">        &apos;&quot;$&quot;#,##0.00_);[Red](&quot;$&quot;#,##&apos;,</span><br><span class="line">        &apos;0%&apos;,</span><br><span class="line">        &apos;0.00%&apos;,</span><br><span class="line">        &apos;0.00E+00&apos;,</span><br><span class="line">        &apos;# ?/?&apos;,</span><br><span class="line">        &apos;# ??/??&apos;,</span><br><span class="line">        &apos;M/D/YY&apos;,</span><br><span class="line">        &apos;D-MMM-YY&apos;,</span><br><span class="line">        &apos;D-MMM&apos;,</span><br><span class="line">        &apos;MMM-YY&apos;,</span><br><span class="line">        &apos;h:mm AM/PM&apos;,</span><br><span class="line">        &apos;h:mm:ss AM/PM&apos;,</span><br><span class="line">        &apos;h:mm&apos;,</span><br><span class="line">        &apos;h:mm:ss&apos;,</span><br><span class="line">        &apos;M/D/YY h:mm&apos;,</span><br><span class="line">        &apos;_(#,##0_);(#,##0)&apos;,</span><br><span class="line">        &apos;_(#,##0_);[Red](#,##0)&apos;,</span><br><span class="line">        &apos;_(#,##0.00_);(#,##0.00)&apos;,</span><br><span class="line">        &apos;_(#,##0.00_);[Red](#,##0.00)&apos;,</span><br><span class="line">        &apos;_(&quot;$&quot;* #,##0_);_(&quot;$&quot;* (#,##0);_(&quot;$&quot;* &quot;-&quot;_);_(@_)&apos;,</span><br><span class="line">        &apos;_(* #,##0_);_(* (#,##0);_(* &quot;-&quot;_);_(@_)&apos;,</span><br><span class="line">        &apos;_(&quot;$&quot;* #,##0.00_);_(&quot;$&quot;* (#,##0.00);_(&quot;$&quot;* &quot;-&quot;??_);_(@_)&apos;,</span><br><span class="line">        &apos;_(* #,##0.00_);_(* (#,##0.00);_(* &quot;-&quot;??_);_(@_)&apos;,</span><br><span class="line">        &apos;mm:ss&apos;,</span><br><span class="line">        &apos;[h]:mm:ss&apos;,</span><br><span class="line">        &apos;mm:ss.0&apos;,</span><br><span class="line">        &apos;##0.0E+0&apos;,</span><br><span class="line">        &apos;@&apos;</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    def __init__(self, blank=0):</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        class initialize parameters</span><br><span class="line">        :param blank: blank number</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        if DEBUG:</span><br><span class="line">            LOG.debug(&apos;Excel lib is loading.&apos;)</span><br><span class="line">        self.prefix_list = [&apos;.xlsx&apos;, &apos;.xls&apos;]</span><br><span class="line">        self.blank = 0  # 空行个数，默认值0行</span><br><span class="line"></span><br><span class="line">    def set_style(self, font=&apos;Times New Roman&apos;, size=11, color=0, bgcolor=&apos;white&apos;, horz=&apos;left&apos;, vert=&apos;center&apos;, **kwargs):</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        set the excel cell style, to achieve customize style.</span><br><span class="line">        all parameters have default value.</span><br><span class="line">        parameters detail informations refer to the follow description.</span><br><span class="line">        :param font: font type</span><br><span class="line">            default value is &quot;Times New Roman&quot;</span><br><span class="line">            currently, the font is not use, font type function will be added later</span><br><span class="line">        :param size: font size</span><br><span class="line">            default value is 11</span><br><span class="line">        :param color: font color index</span><br><span class="line">            color value range is 0 ~ 100, default value is black(0)</span><br><span class="line">            this is only list 1-7:</span><br><span class="line">            0 黑 black</span><br><span class="line">            1 白 white</span><br><span class="line">            2 红 red</span><br><span class="line">            3 酸橙 lime</span><br><span class="line">            4 蓝 blue</span><br><span class="line">            5 黄 yellow</span><br><span class="line">            6 洋红 magenta</span><br><span class="line">            7 青 cyan</span><br><span class="line">        :param bgcolor: cell background</span><br><span class="line">            this value is english color, default value is white, color range:</span><br><span class="line">            aqua 0x31</span><br><span class="line">            black 0x08</span><br><span class="line">            blue 0x0C</span><br><span class="line">            blue_gray 0x36</span><br><span class="line">            bright_green 0x0B</span><br><span class="line">            brown 0x3C</span><br><span class="line">            coral 0x1D</span><br><span class="line">            cyan_ega 0x0F</span><br><span class="line">            dark_blue 0x12</span><br><span class="line">            dark_blue_ega 0x12</span><br><span class="line">            dark_green 0x3A</span><br><span class="line">            dark_green_ega 0x11</span><br><span class="line">            dark_purple 0x1C</span><br><span class="line">            dark_red 0x10</span><br><span class="line">            dark_red_ega 0x10</span><br><span class="line">            dark_teal 0x38</span><br><span class="line">            dark_yellow 0x13</span><br><span class="line">            gold 0x33</span><br><span class="line">            gray_ega 0x17</span><br><span class="line">            gray25 0x16</span><br><span class="line">            gray40 0x37</span><br><span class="line">            gray50 0x17</span><br><span class="line">            gray80 0x3F</span><br><span class="line">            green 0x11</span><br><span class="line">            ice_blue 0x1F</span><br><span class="line">            indigo 0x3E</span><br><span class="line">            ivory 0x1A</span><br><span class="line">            lavender 0x2E</span><br><span class="line">            light_blue 0x30</span><br><span class="line">            light_green 0x2A</span><br><span class="line">            light_orange 0x34</span><br><span class="line">            light_turquoise 0x29</span><br><span class="line">            light_yellow 0x2B</span><br><span class="line">            lime 0x32</span><br><span class="line">            magenta_ega 0x0E</span><br><span class="line">            ocean_blue 0x1E</span><br><span class="line">            olive_ega 0x13</span><br><span class="line">            olive_green 0x3B</span><br><span class="line">            orange 0x35</span><br><span class="line">            pale_blue 0x2C</span><br><span class="line">            periwinkle 0x18</span><br><span class="line">            pink 0x0E</span><br><span class="line">            plum 0x3D</span><br><span class="line">            purple_ega 0x14</span><br><span class="line">            red 0x0A</span><br><span class="line">            rose 0x2D</span><br><span class="line">            sea_green 0x39</span><br><span class="line">            silver_ega 0x16</span><br><span class="line">            sky_blue 0x28</span><br><span class="line">            tan 0x2F</span><br><span class="line">            teal 0x15</span><br><span class="line">            teal_ega 0x15</span><br><span class="line">            turquoise 0x0F</span><br><span class="line">            violet 0x14</span><br><span class="line">            white 0x09</span><br><span class="line">            yellow 0x0D</span><br><span class="line">        :param horz: cell horizontal（水平方向上）</span><br><span class="line">            default value is left</span><br><span class="line">            left = 0x01 左端对齐</span><br><span class="line">            center = 0x02 居中对齐</span><br><span class="line">            right = 0x03 右端对齐</span><br><span class="line">            if horz not in values dict, use default value(left)</span><br><span class="line">        :param vert: cell vertical（垂直方向上）</span><br><span class="line">            default value is center</span><br><span class="line">            top = 0x00 上端对齐</span><br><span class="line">            center = 0x01 居中对齐</span><br><span class="line">            bottom = 0x02 低端对齐</span><br><span class="line">            if vert not in values dict, use default value(center)</span><br><span class="line">        :param kwargs: other parameters, contain: bold, underline, italic, width, height, borders</span><br><span class="line">            bold: font bold</span><br><span class="line">                default is font no bold</span><br><span class="line">                value range is: True or False, default value is False</span><br><span class="line">            underline: font underline</span><br><span class="line">                default is font no underline</span><br><span class="line">                value range is: True or False, default value is False</span><br><span class="line">            italic: font italic</span><br><span class="line">                default is font no italic</span><br><span class="line">                value range is: True or False, default value is False</span><br><span class="line">            struck_out: font struck_out 字体删除符，字上加一横杠</span><br><span class="line">                default is font no struck_out</span><br><span class="line">                value range is: True or False, default value is False</span><br><span class="line">            width: cell width</span><br><span class="line">                default value is cell default width</span><br><span class="line">            height: cell height</span><br><span class="line">                default value is cell default height</span><br><span class="line">            borders: cell borders, contain left, right, top, bottom</span><br><span class="line">                default value is cell no borders</span><br><span class="line">                value range is True or False</span><br><span class="line">                border line, default is NO_LINE:</span><br><span class="line">                    NO_LINE = 0x00</span><br><span class="line">                    THIN    = 0x01</span><br><span class="line">                    MEDIUM  = 0x02</span><br><span class="line">                    DASHED  = 0x03</span><br><span class="line">                    DOTTED  = 0x04</span><br><span class="line">                    THICK   = 0x05</span><br><span class="line">                    DOUBLE  = 0x06</span><br><span class="line">                    HAIR    = 0x07</span><br><span class="line">                border color, default is 0x40.</span><br><span class="line">            borders_dict: customize to set border style</span><br><span class="line">                line: left, right, top, bottom</span><br><span class="line">                color: left, right, top, bottom</span><br><span class="line">                data frame:</span><br><span class="line">                    borders_dict = &#123;</span><br><span class="line">                        &apos;line&apos;: &#123;</span><br><span class="line">                            &apos;top&apos;: &apos;THIN&apos;,</span><br><span class="line">                            &apos;bottom&apos;: &apos;THIN&apos;,</span><br><span class="line">                            &apos;left&apos;: &apos;THIN&apos;,</span><br><span class="line">                            &apos;right&apos;: &apos;THIN&apos;</span><br><span class="line">                        &#125;,</span><br><span class="line">                        &apos;color&apos;: &#123;</span><br><span class="line">                            &apos;top&apos;: &apos;0x40&apos;,</span><br><span class="line">                            &apos;bottom&apos;: &apos;0x40&apos;,</span><br><span class="line">                            &apos;left&apos;: &apos;0x40&apos;,</span><br><span class="line">                            &apos;right&apos;: &apos;0x40&apos;</span><br><span class="line">                        &#125;,</span><br><span class="line">                    &#125;</span><br><span class="line">            warp: is or not auto wrap 自动换行</span><br><span class="line">                default value is False,</span><br><span class="line">                if True, cell value is auto wrap</span><br><span class="line">                if False, cell value is not warp</span><br><span class="line">            formatter: cell formatter</span><br><span class="line">                contain numbers, string, date, time and so on.</span><br><span class="line">                default value is general</span><br><span class="line">                detail scan FORMATTER values</span><br><span class="line">                    &apos;general&apos;,</span><br><span class="line">                    &apos;0&apos;,</span><br><span class="line">                    &apos;0.00&apos;,</span><br><span class="line">                    &apos;#,##0&apos;,</span><br><span class="line">                    &apos;#,##0.00&apos;,</span><br><span class="line">                    &apos;&quot;$&quot;#,##0_);(&quot;$&quot;#,##&apos;,</span><br><span class="line">                    &apos;&quot;$&quot;#,##0_);[Red](&quot;$&quot;#,##&apos;,</span><br><span class="line">                    &apos;&quot;$&quot;#,##0.00_);(&quot;$&quot;#,##&apos;,</span><br><span class="line">                    &apos;&quot;$&quot;#,##0.00_);[Red](&quot;$&quot;#,##&apos;,</span><br><span class="line">                    &apos;0%&apos;,</span><br><span class="line">                    &apos;0.00%&apos;,</span><br><span class="line">                    &apos;0.00E+00&apos;,</span><br><span class="line">                    &apos;# ?/?&apos;,</span><br><span class="line">                    &apos;# ??/??&apos;,</span><br><span class="line">                    &apos;M/D/YY&apos;,</span><br><span class="line">                    &apos;D-MMM-YY&apos;,</span><br><span class="line">                    &apos;D-MMM&apos;,</span><br><span class="line">                    &apos;MMM-YY&apos;,</span><br><span class="line">                    &apos;h:mm AM/PM&apos;,</span><br><span class="line">                    &apos;h:mm:ss AM/PM&apos;,</span><br><span class="line">                    &apos;h:mm&apos;,</span><br><span class="line">                    &apos;h:mm:ss&apos;,</span><br><span class="line">                    &apos;M/D/YY h:mm&apos;,</span><br><span class="line">                    &apos;_(#,##0_);(#,##0)&apos;,</span><br><span class="line">                    &apos;_(#,##0_);[Red](#,##0)&apos;,</span><br><span class="line">                    &apos;_(#,##0.00_);(#,##0.00)&apos;,</span><br><span class="line">                    &apos;_(#,##0.00_);[Red](#,##0.00)&apos;,</span><br><span class="line">                    &apos;_(&quot;$&quot;* #,##0_);_(&quot;$&quot;* (#,##0);_(&quot;$&quot;* &quot;-&quot;_);_(@_)&apos;,</span><br><span class="line">                    &apos;_(* #,##0_);_(* (#,##0);_(* &quot;-&quot;_);_(@_)&apos;,</span><br><span class="line">                    &apos;_(&quot;$&quot;* #,##0.00_);_(&quot;$&quot;* (#,##0.00);_(&quot;$&quot;* &quot;-&quot;??_);_(@_)&apos;,</span><br><span class="line">                    &apos;_(* #,##0.00_);_(* (#,##0.00);_(* &quot;-&quot;??_);_(@_)&apos;,</span><br><span class="line">                    &apos;mm:ss&apos;,</span><br><span class="line">                    &apos;[h]:mm:ss&apos;,</span><br><span class="line">                    &apos;mm:ss.0&apos;,</span><br><span class="line">                    &apos;##0.0E+0&apos;,</span><br><span class="line">                    &apos;@&apos;</span><br><span class="line"></span><br><span class="line">        :return: object</span><br><span class="line"></span><br><span class="line">        usge:</span><br><span class="line">            column_style = self.set_style(size=8, horz=&apos;center&apos;, vert=&apos;center&apos;, color=0, bgcolor=&apos;ice_blue&apos;, borders=True)</span><br><span class="line">            sheet.write(row, col, JG_ENUMS.get(jg), column_style)</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        style = xlwt.XFStyle()</span><br><span class="line">        font = xlwt.Font()</span><br><span class="line">        # font: type</span><br><span class="line">        # font.name = font or &apos;Times New Roman&apos;</span><br><span class="line">        # font: size</span><br><span class="line">        try:</span><br><span class="line">            size = int(size)</span><br><span class="line">        except:</span><br><span class="line">            size = 11</span><br><span class="line">        font.height = size * 20</span><br><span class="line">        # font: color</span><br><span class="line">        try:</span><br><span class="line">            color = int(color)</span><br><span class="line">        except:</span><br><span class="line">            color = 0</span><br><span class="line">        finally:</span><br><span class="line">            if color &gt; 100: color = 0</span><br><span class="line">        font.colour_index = color</span><br><span class="line">        # font: bold</span><br><span class="line">        bold = kwargs.get(&apos;bold&apos;) or False</span><br><span class="line">        if bold not in [True, False]:</span><br><span class="line">            bold = False</span><br><span class="line">        font.bold = bold</span><br><span class="line">        # font: underline</span><br><span class="line">        underline = kwargs.get(&apos;underline&apos;) or False</span><br><span class="line">        if underline not in [True, False]:</span><br><span class="line">            underline = False</span><br><span class="line">        font.underline = underline</span><br><span class="line">        # font: italic</span><br><span class="line">        italic = kwargs.get(&apos;italic&apos;) or False</span><br><span class="line">        if italic not in [True, False]:</span><br><span class="line">            italic = False</span><br><span class="line">        font.italic = italic</span><br><span class="line">        # font: struck_out</span><br><span class="line">        struck_out = kwargs.get(&apos;struck_out&apos;) or False</span><br><span class="line">        if struck_out not in [True, False]:</span><br><span class="line">            struck_out = False</span><br><span class="line">        font.struck_out = struck_out</span><br><span class="line">        style.font = font</span><br><span class="line"></span><br><span class="line">        # align: horz</span><br><span class="line">        horz_v = self.HORZ_DICT.get(horz.lower())</span><br><span class="line">        if not horz_v: horz_v = 0x02</span><br><span class="line">        # align: vert</span><br><span class="line">        vert_v = self.VERT_DICT.get(vert.lower())</span><br><span class="line">        if not vert_v: vert_v = 0x01</span><br><span class="line">        align = xlwt.Alignment()</span><br><span class="line">        align.horz = horz_v</span><br><span class="line">        align.vert = vert_v</span><br><span class="line">        # align: wrap</span><br><span class="line">        wrap = kwargs.get(&apos;wrap&apos;) or False</span><br><span class="line">        if wrap not in [True, False]:</span><br><span class="line">            wrap = False</span><br><span class="line">        align.wrap = wrap</span><br><span class="line">        style.alignment = align</span><br><span class="line"></span><br><span class="line">        # background color</span><br><span class="line">        pattern = xlwt.Pattern()</span><br><span class="line">        pattern.pattern = xlwt.Pattern.SOLID_PATTERN</span><br><span class="line">        try:</span><br><span class="line">            pattern.pattern_fore_colour = xlwt.Style.colour_map[bgcolor]</span><br><span class="line">        except:</span><br><span class="line">            pattern.pattern_fore_colour = xlwt.Style.colour_map[&apos;white&apos;]</span><br><span class="line">        style.pattern = pattern</span><br><span class="line"></span><br><span class="line">        # borders</span><br><span class="line">        is_border = kwargs.get(&apos;borders&apos;) or False</span><br><span class="line">        if is_border not in [True, False]:</span><br><span class="line">            is_border = False</span><br><span class="line">        if is_border:</span><br><span class="line">            border = xlwt.Borders()</span><br><span class="line">            border.top = xlwt.Borders.THIN  # 上</span><br><span class="line">            border.bottom = xlwt.Borders.THIN  # 下</span><br><span class="line">            border.left = xlwt.Borders.THIN  # 左</span><br><span class="line">            border.right = xlwt.Borders.THIN  # 右</span><br><span class="line">            border.left_colour = 0x40</span><br><span class="line">            border.right_colour = 0x40</span><br><span class="line">            border.top_colour = 0x40</span><br><span class="line">            border.bottom_colour = 0x40</span><br><span class="line">            style.borders = border</span><br><span class="line">        borders_dict = kwargs.get(&apos;borders_dict&apos;) or False</span><br><span class="line">        if borders_dict:</span><br><span class="line">            border = xlwt.Borders()</span><br><span class="line">            for k, v in borders_dict.get(&apos;line&apos;).items():</span><br><span class="line">                if k == &apos;top&apos;:</span><br><span class="line">                    border.top = self.BORDER_LINES.get(v.upper()) if v.upper() in self.BORDER_LINES.keys() \</span><br><span class="line">                        else xlwt.Borders.NO_LINE</span><br><span class="line">                elif k == &apos;bottom&apos;:</span><br><span class="line">                    border.bottom = self.BORDER_LINES.get(v.upper()) if v.upper() in self.BORDER_LINES.keys() \</span><br><span class="line">                        else xlwt.Borders.NO_LINE</span><br><span class="line">                elif k == &apos;left&apos;:</span><br><span class="line">                    border.left = self.BORDER_LINES.get(v.upper()) if v.upper() in self.BORDER_LINES.keys() \</span><br><span class="line">                        else xlwt.Borders.NO_LINE</span><br><span class="line">                elif k == &apos;right&apos;:</span><br><span class="line">                    border.right = self.BORDER_LINES.get(v.upper()) if v.upper() in self.BORDER_LINES.keys() \</span><br><span class="line">                        else xlwt.Borders.NO_LINE</span><br><span class="line">            border.left_colour = 0x40</span><br><span class="line">            border.right_colour = 0x40</span><br><span class="line">            border.top_colour = 0x40</span><br><span class="line">            border.bottom_colour = 0x40</span><br><span class="line">            style.borders = border</span><br><span class="line"></span><br><span class="line">        # formatter</span><br><span class="line">        num_format_str = kwargs.get(&apos;formatter&apos;) or &apos;general&apos;</span><br><span class="line">        if num_format_str not in self.FORMATTER:</span><br><span class="line">            num_format_str = &apos;general&apos;</span><br><span class="line">        style.num_format_str = num_format_str</span><br><span class="line">        return style</span><br><span class="line"></span><br><span class="line">    @staticmethod</span><br><span class="line">    def format_res(status_id: int, message: str, data: dict) -&gt; dict:</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        方法请求结果格式化</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        return &#123;</span><br><span class="line">            &apos;status_id&apos;: status_id,</span><br><span class="line">            &apos;message&apos;: message if message else StatusMsgs.get(status_id),</span><br><span class="line">            &apos;data&apos;: data</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    def read_headers(self, excel_file):</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        get the headers information of excel file</span><br><span class="line">        :param excel_file: excel file real path</span><br><span class="line">        :return: dict</span><br><span class="line">        result content:</span><br><span class="line">            sheets: dict sheet base info, contain something. such as row.col.index.name</span><br><span class="line">            number sheet: int sheet number</span><br><span class="line">            names: sheets name dict</span><br><span class="line">            columns: sheet columns dict</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        # default value</span><br><span class="line">        res = &#123;&apos;sheets&apos;: &#123;&#125;, &apos;nsheet&apos;: 0, &apos;names&apos;: &#123;&#125;, &apos;columns&apos;: &#123;&#125;&#125;</span><br><span class="line">        # not exist excel file</span><br><span class="line">        if not excel_file \</span><br><span class="line">                or not os.path.exists(excel_file):</span><br><span class="line">            return res</span><br><span class="line"></span><br><span class="line">        excel = xlrd.open_workbook(excel_file)</span><br><span class="line">        nsheets = excel.nsheets</span><br><span class="line">        # sheet_names = excel.sheet_names()     # 获取所有excel sheet名称列表</span><br><span class="line">        sheets_dict = dict()</span><br><span class="line">        names_dict = dict()</span><br><span class="line">        columns_dict = dict()</span><br><span class="line">        for i in range(0, nsheets, 1):</span><br><span class="line">            sheet = excel.sheet_by_index(i)</span><br><span class="line">            names_dict[str(i)] = sheet.name</span><br><span class="line">            # sheet：row行数 col列数 index索引 name名称</span><br><span class="line">            sheets_dict[str(i)] = &#123;&apos;row&apos;: sheet.nrows, &apos;col&apos;: sheet.ncols, &apos;index&apos;: i, &apos;name&apos;: sheet.name&#125;</span><br><span class="line">            try:</span><br><span class="line">                # sheet column：key：value格式</span><br><span class="line">                row_values_0 = sheet.row_values(0)</span><br><span class="line">                new_column = list()</span><br><span class="line">                for _k, _v in enumerate(row_values_0):</span><br><span class="line">                    new_column.append(&#123;&apos;key&apos;: str(_k), &apos;value&apos;: str(_v)&#125;)</span><br><span class="line">                columns_dict[str(i)] = new_column</span><br><span class="line">            except:</span><br><span class="line">                pass</span><br><span class="line">        return &#123;&apos;sheets&apos;: sheets_dict, &apos;nsheet&apos;: nsheets, &apos;names&apos;: names_dict, &apos;columns&apos;: columns_dict&#125;</span><br><span class="line"></span><br><span class="line">    def check_real_file(self, real_file: str, _type=1, clean=False):</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        生成存储excel文件的绝对路径，以及新文件名称</span><br><span class="line">        加了文件已存在的check</span><br><span class="line">        结果采用绝对路径+新文件名称，新文件名称</span><br><span class="line">        如果存在用新的时间戳创建文件</span><br><span class="line">        generate to store real path of excel file</span><br><span class="line">        if file exist dir, the file name rename file name + now(%Y-%m-%d-%H-%M-%S)</span><br><span class="line">        the result is path file</span><br><span class="line">        :param clean: 是否删除已存在</span><br><span class="line">        :param real_file: all path excel file</span><br><span class="line">        :param _type: excel file version type</span><br><span class="line">        :return: sting</span><br><span class="line"></span><br><span class="line">        _type为默认格式：</span><br><span class="line">            - 1为.xls</span><br><span class="line">            - 2为.xlsx</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        if not _type or _type not in [1, 2]:    # 默认xls</span><br><span class="line">            _type = 1</span><br><span class="line"></span><br><span class="line">        # 存在 &amp;&amp; 删除</span><br><span class="line">        if clean and os.path.exists(real_file):</span><br><span class="line">            os.remove(real_file)</span><br><span class="line">            return real_file</span><br><span class="line"></span><br><span class="line">        # 文件已存在，加上时间戳</span><br><span class="line">        if os.path.exists(real_file):</span><br><span class="line">            file_name = &apos;%s%s&apos; % (get_now(format=&quot;%Y-%m-%d-%H-%M-%S&quot;), self.DEFAULT_OLD_V_PREFIX)</span><br><span class="line">            real_file = os.path.join(self._default_folder(), file_name)</span><br><span class="line">            return real_file</span><br><span class="line">        return real_file</span><br><span class="line"></span><br><span class="line">    @staticmethod</span><br><span class="line">    def _default_folder():</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        new excel file folder</span><br><span class="line">        :return: string</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        if not os.path.exists(RESULT_EXCEL):</span><br><span class="line">            mk_dirs(RESULT_EXCEL)</span><br><span class="line">        return RESULT_EXCEL</span><br><span class="line"></span><br><span class="line">    def read(self, read_file: str, sheet: int = 0, rows: list = [], columns: list = [], **kwargs) -&gt; dict:</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        read excel data</span><br><span class="line">        :param read_file: excel文件abs全路径</span><br><span class="line">        :param sheet: 读取的sheet数，从0开始，default value is 0</span><br><span class="line">        :param rows: 读取数据的rows行列表，如果为空，默认读取全部行</span><br><span class="line">        :param columns: 读取数据的columns列列表，如果为空，默认读取全部列</span><br><span class="line">        :param kwargs: 读取excel数据的其他参数配置</span><br><span class="line">            request_title: 读取的表格是否包含title行，默认是true（bool类型）</span><br><span class="line">            response_title: 返回的数据是否包含title说明，默认是true（bool类型）</span><br><span class="line"></span><br><span class="line">        :return: dict result</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        # ================== parameters check start ==================</span><br><span class="line">        if not read_file or not os.path.exists(read_file) \</span><br><span class="line">                or not os.path.isfile(read_file):</span><br><span class="line">            return self.format_res(</span><br><span class="line">                206, &apos;读取的excel数据不存在&apos;, &#123;&#125;)</span><br><span class="line">        request_title = False if kwargs.get(&apos;request_title&apos;) is False else True</span><br><span class="line">        # 初始化数据读取开始的行数</span><br><span class="line">        start_row = 1 if request_title else 0</span><br><span class="line">        response_title = False if kwargs.get(&apos;response_title&apos;) is False else True</span><br><span class="line">        excel_object = xlrd.open_workbook(filename=read_file)   # xlrd可以读取xls、xlsx</span><br><span class="line">        excel_sheet_names = excel_object.sheet_names()</span><br><span class="line">        if not str(sheet):          # 添加无sheet index，默认读取首页</span><br><span class="line">            sheet = 0</span><br><span class="line">        # 添加sheet为整型处理</span><br><span class="line">        try:</span><br><span class="line">            if not isinstance(sheet, int):</span><br><span class="line">                sheet = int(sheet)</span><br><span class="line">        except:</span><br><span class="line">            sheet = 0</span><br><span class="line">        if sheet &gt; len(excel_sheet_names) or sheet &lt; 0:</span><br><span class="line">            return self.format_res(</span><br><span class="line">                207, &apos;读取的sheet页不存在&apos;, &#123;&#125;)</span><br><span class="line">        excel_sheet = excel_object.sheet_by_index(sheet)</span><br><span class="line">        # 读取指定行</span><br><span class="line">        new_rows = list()</span><br><span class="line">        if rows:</span><br><span class="line">            for r in rows:</span><br><span class="line">                try:</span><br><span class="line">                    new_rows.append(int(r))</span><br><span class="line">                except: pass</span><br><span class="line">        # 读取指定列</span><br><span class="line">        new_cols = list()</span><br><span class="line">        if columns:</span><br><span class="line">            for c in columns:</span><br><span class="line">                try:</span><br><span class="line">                    new_cols.append(int(c))</span><br><span class="line">                except: pass</span><br><span class="line">        # ================== parameters check end ==================</span><br><span class="line"></span><br><span class="line">        # 指定行</span><br><span class="line">        read_rows = new_rows if new_rows else range(start_row, excel_sheet.nrows, 1)</span><br><span class="line">        # 指定列</span><br><span class="line">        read_cols = new_cols if new_cols else range(0, excel_sheet.ncols, 1)</span><br><span class="line">        # 读取表头</span><br><span class="line">        resp_header = list()</span><br><span class="line">        if response_title and request_title:</span><br><span class="line">            for col in read_cols:</span><br><span class="line">                if col &lt; 0: continue</span><br><span class="line">                # TODO 是否添加空标题、重复标题等标题判断</span><br><span class="line">                # 目前，定位空活着列值重复均可以</span><br><span class="line">                # if not excel_sheet.cell_value(0, col) or excel_sheet.cell_value(0, col) in resp_header:</span><br><span class="line">                #     return self.format_res(</span><br><span class="line">                #         208, &apos;读取的第%s列值为空&apos; % col, &#123;&#125;)</span><br><span class="line">                resp_header.append(excel_sheet.cell_value(0, col))</span><br><span class="line">        # 读取表数据</span><br><span class="line">        resp_data = list()</span><br><span class="line">        for row in read_rows:</span><br><span class="line">            if not row: continue</span><br><span class="line">            _d = list()</span><br><span class="line">            for col in read_cols:</span><br><span class="line">                if col &lt; 0: continue</span><br><span class="line">                _d.append(excel_sheet.cell_value(row, col))</span><br><span class="line">            if _d: resp_data.append(_d)</span><br><span class="line">        return self.format_res(</span><br><span class="line">            100, &apos;success&apos;, &#123;&apos;header&apos;: resp_header, &apos;data&apos;: resp_data&#125;)</span><br><span class="line"></span><br><span class="line">    def write(self, excel_file, data, sheet=&quot;Sheet1&quot;, **kwargs):</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        写入的通用方法，xlwt、xlrd:</span><br><span class="line">            .xls表格行数限制65535</span><br><span class="line">        写入的数据为list格式，里面的元素也为list类型数据，以元素list顺序进行表格row的写入</span><br><span class="line"></span><br><span class="line">        use xlwt、xlrd to merge excel, it are to deal .xls、.xlsx formatter excel file</span><br><span class="line">        the deal excel style is cell values(row + col)</span><br><span class="line">        :param excel_file: excel file, if not exist to create</span><br><span class="line">        :param data: excel data</span><br><span class="line">        :param sheet: excel sheet name</span><br><span class="line">        :param kwargs: multiple parameters, is dict type</span><br><span class="line">            - title: 是否为标题，如果是标题样式采用标题样式</span><br><span class="line">            - start_row: 写入excel的起始行，默认为0</span><br><span class="line">            - *** extra parameters ***</span><br><span class="line">        :return: json object</span><br><span class="line">            status_id: result id, except status_id is 1 is success, others is failure</span><br><span class="line">            message: the result message</span><br><span class="line">            data:</span><br><span class="line">                path: the new excel path + name, real path</span><br><span class="line">                name: the new excel file name, not contain path</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        # if not excel file, auto rename by timestamp</span><br><span class="line">        # new excel file format xlrd xlwt: xls</span><br><span class="line">        if not excel_file:</span><br><span class="line">            return self.format_res(214, &apos;请求参数为file必须信息&apos;, &#123;&#125;)</span><br><span class="line">        if not data:</span><br><span class="line">            return self.format_res(401, &apos;数据不存在&apos;, &#123;&#125;)</span><br><span class="line"></span><br><span class="line">        try:</span><br><span class="line">            new_excel = xlwt.Workbook(encoding=&apos;utf-8&apos;)</span><br><span class="line">            new_sheet = new_excel.add_sheet(sheet or self.DEFAULT_SHEET_NAME, cell_overwrite_ok=True)</span><br><span class="line">            start_row = kwargs.get(&apos;start_row&apos;) or 0    # 写入的起始行</span><br><span class="line">            row = 0</span><br><span class="line">            for _d in data:</span><br><span class="line">                if not _d: continue</span><br><span class="line">                for col in range(0, len(_d), 1):</span><br><span class="line">                    new_sheet.write((start_row + row), col, _d[col])    # 单元格的方式写入</span><br><span class="line">                row += 1</span><br><span class="line">            # excel_file = self.check_real_file(excel_file, clean=True)</span><br><span class="line">            new_excel.save(excel_file)</span><br><span class="line">            return self.format_res(</span><br><span class="line">                100, &apos;success&apos;, &#123;&apos;name&apos;: os.path.split(excel_file)[1], &apos;path&apos;: excel_file&#125;)</span><br><span class="line">        except Exception as e:</span><br><span class="line">            return self.format_res(998, str(e), &#123;&#125;)</span><br><span class="line"></span><br><span class="line">    def beau_write(self, excel_file, data, sheet_name=&quot;Sheet1&quot;, **kwargs):</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        针对于质量考核检查结果直接带样式的表格，xlwt、xlrd:</span><br><span class="line">            .xls表格行数限制65535</span><br><span class="line">        特殊方法，写死数据以及样式</span><br><span class="line"></span><br><span class="line">        use xlwt、xlrd to merge excel, it are to deal .xls、.xlsx formatter excel file</span><br><span class="line">        the deal excel style is cell values(row + col)</span><br><span class="line">        :param excel_file: excel file, if not exist to create</span><br><span class="line">        :param data: excel data</span><br><span class="line">        :param sheet_name: excel sheet name</span><br><span class="line">        :param kwargs: multiple parameters, is dict type</span><br><span class="line">            - *** extra parameters ***</span><br><span class="line">        :return: json object</span><br><span class="line">            status_id: result id, except status_id is 1 is success, others is failure</span><br><span class="line">            message: the result message</span><br><span class="line">            data:</span><br><span class="line">                path: the new excel path + name, real path</span><br><span class="line">                name: the new excel file name, not contain path</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        # if not excel file, auto rename by timestamp</span><br><span class="line">        # new excel file format xlrd xlwt: xls</span><br><span class="line">        if not excel_file:</span><br><span class="line">            return self.format_res(214, &apos;请求参数为Excel file必须信息&apos;, &#123;&#125;)</span><br><span class="line">        if not data:</span><br><span class="line">            return self.format_res(401, &apos;数据不存在&apos;, &#123;&#125;)</span><br><span class="line"></span><br><span class="line">        try:</span><br><span class="line">            new_excel = xlwt.Workbook(encoding=&apos;utf-8&apos;)</span><br><span class="line">            new_sheet = new_excel.add_sheet(sheet_name or self.DEFAULT_SHEET_NAME, cell_overwrite_ok=True)</span><br><span class="line"></span><br><span class="line">            # initialize cell style</span><br><span class="line">            headline_border = &#123;</span><br><span class="line">                &apos;line&apos;: &#123;</span><br><span class="line">                    &apos;top&apos;: &apos;NO_LINE&apos;,</span><br><span class="line">                    &apos;bottom&apos;: &apos;DASHED&apos;,</span><br><span class="line">                    &apos;left&apos;: &apos;NO_LINE&apos;,</span><br><span class="line">                    &apos;right&apos;: &apos;NO_LINE&apos;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            headline_style = self.set_style(size=16, horz=&apos;center&apos;, vert=&apos;center&apos;, bold=True,</span><br><span class="line">                                            borders_dict=headline_border, wrap=True)</span><br><span class="line">            title_style = self.set_style(size=10, bold=True, horz=&apos;center&apos;, vert=&apos;center&apos;, color=1,</span><br><span class="line">                                         bgcolor=&apos;periwinkle&apos;, borders=True)</span><br><span class="line">            column_style = self.set_style(size=8, bold=True, horz=&apos;center&apos;, vert=&apos;center&apos;, color=0, bgcolor=&apos;ice_blue&apos;,</span><br><span class="line">                                          borders=True)</span><br><span class="line">            cell_style = self.set_style(size=8, horz=&apos;center&apos;, vert=&apos;center&apos;, borders=True)</span><br><span class="line">            cell_per_style = self.set_style(size=8, horz=&apos;center&apos;, vert=&apos;center&apos;, borders=True, formatter=&apos;0.00%&apos;)</span><br><span class="line">            special_cell_style = self.set_style(size=8, horz=&apos;center&apos;, vert=&apos;center&apos;, bgcolor=&apos;yellow&apos;, borders=True)</span><br><span class="line">            special_per_style = self.set_style(size=8, horz=&apos;center&apos;, vert=&apos;center&apos;, bgcolor=&apos;yellow&apos;, borders=True,</span><br><span class="line">                                               formatter=&apos;0.00%&apos;)</span><br><span class="line">            # excel title</span><br><span class="line">            new_sheet.write_merge(0, 1, 0, 0, &quot;项目编号&quot;, title_style)</span><br><span class="line">            new_sheet.write_merge(0, 1, 1, 1, &quot;项目名称&quot;, title_style)</span><br><span class="line">            new_sheet.write_merge(0, 0, 2, 6, &quot;测试记录&quot;, title_style)</span><br><span class="line">            new_sheet.write_merge(0, 0, 7, 11, &quot;工资确认单&quot;, title_style)</span><br><span class="line">            new_sheet.write(1, 2, &apos;提交次数&apos;, title_style)</span><br><span class="line">            new_sheet.write(1, 3, &apos;版本&apos;, title_style)</span><br><span class="line">            new_sheet.write(1, 4, &apos;用户&apos;, title_style)</span><br><span class="line">            new_sheet.write(1, 5, &apos;时间&apos;, title_style)</span><br><span class="line">            new_sheet.write(1, 6, &apos;备注&apos;, title_style)</span><br><span class="line">            new_sheet.write(1, 7, &apos;提交次数&apos;, title_style)</span><br><span class="line">            new_sheet.write(1, 8, &apos;版本&apos;, title_style)</span><br><span class="line">            new_sheet.write(1, 9, &apos;用户&apos;, title_style)</span><br><span class="line">            new_sheet.write(1, 10, &apos;时间&apos;, title_style)</span><br><span class="line">            new_sheet.write(1, 11, &apos;备注&apos;, title_style)</span><br><span class="line"></span><br><span class="line">            start_row = 2    # 数据写入的起始行</span><br><span class="line">            row = 0</span><br><span class="line">            for _d in data:</span><br><span class="line">                if not _d: continue</span><br><span class="line">                for col in range(0, len(_d), 1):</span><br><span class="line">                    style = column_style if col &lt; 2 else cell_style</span><br><span class="line">                    new_sheet.write((start_row + row), col, _d[col], style)    # 单元格的方式写入</span><br><span class="line">                row += 1</span><br><span class="line">            &quot;&quot;&quot;</span><br><span class="line">            end write and save</span><br><span class="line">            &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">            # 设置列宽, 256为基准数</span><br><span class="line">            for col in [1]:</span><br><span class="line">                new_sheet.col(col).width_mismatch = True</span><br><span class="line">                new_sheet.col(col).width = 256 * 24  # 标准256 * 12</span><br><span class="line">            for col in [5, 6, 10, 11]:</span><br><span class="line">                new_sheet.col(col).width_mismatch = True</span><br><span class="line">                new_sheet.col(col).width = 256 * 18  # 标准256 * 12</span><br><span class="line">            # 设置行高, 20为基准数 50为50磅</span><br><span class="line">            he_rows = [0, 1]</span><br><span class="line">            for row in he_rows:</span><br><span class="line">                new_sheet.row(row).height_mismatch = True  # 标题</span><br><span class="line">                new_sheet.row(row).height = 20 * 20</span><br><span class="line"></span><br><span class="line">            # excel_file = self.check_real_file(excel_file, clean=True)</span><br><span class="line">            new_excel.save(excel_file)</span><br><span class="line">            return self.format_res(</span><br><span class="line">                100, &apos;success&apos;, &#123;&apos;name&apos;: os.path.split(excel_file)[1], &apos;path&apos;: excel_file&#125;)</span><br><span class="line">        except Exception as e:</span><br><span class="line">            return self.format_res(998, str(e), &#123;&#125;)</span><br></pre></td></tr></table></figure><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><font size="6.5" color="red"><strong><em>Python模块系列，持续更新中。。。。。。</em></strong></font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_python_module.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;span class=&quot;label primary&quot;&gt;Python&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;Python模块系列&lt;/span&gt;

&lt;div class=&quot;post_cus_note&quot;&gt;Python模块系列&lt;/div&gt;
    
    </summary>
    
      <category term="Python" scheme="http://pygo2.top/categories/Python/"/>
    
    
      <category term="Python" scheme="http://pygo2.top/tags/Python/"/>
    
      <category term="Python模块系列" scheme="http://pygo2.top/tags/Python%E6%A8%A1%E5%9D%97%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Python模块之command系统命令</title>
    <link href="http://pygo2.top/articles/26110/"/>
    <id>http://pygo2.top/articles/26110/</id>
    <published>2022-08-08T13:58:23.000Z</published>
    <updated>2022-08-08T13:58:23.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_python_module.jpeg" alt></p><span class="label primary">Python</span> <span class="label info">Python模块系列</span><div class="post_cus_note">Python模块系列</div><a id="more"></a><hr><p>Python项目常用的模块代码。</p><h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">版本</th></tr></thead><tbody><tr><td style="text-align:center">Python</td><td style="text-align:center">3</td></tr></tbody></table><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>CMD系统命令执行工具<br>利用subprocess内置包开发，使用了底层的Popen方法，便于参数交互，其subprocess的run、call等方法都基于Popen<br>非类的方式，对外方法：</p><ul><li>run_command：命令执行方法，有命令执行output返回</li><li>run_command_no_output：命令执行方法，无命令执行output返回</li><li>check_command_by_which：which xxxx</li></ul><h4 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h4><p>使用内置包subprocess的Popen方法进行开发，调用底层方法，便于参数交互<br>目前常用的3个方法：</p><pre><code>- run_command：命令执行方法，有命令执行output返回- run_command_no_output：命令执行方法，无命令执行output返回- check_command_by_which：which xxxx</code></pre><p>对外使用的方法都基于_run_cmd，可以进行二次封装，实现其他的命令执行方法<br>也可以直接对Popen进行二次开发</p><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_cmd = &apos;ls&apos;</span><br><span class="line">return_code, output = run_command(_cmd, shell=True, check_exit_code=False)</span><br></pre></td></tr></table></figure><ul><li>return_code 命令执行状态码，0为执行正常，其他码为执行错误</li><li>output 命令输出信息</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_cmd = &apos;ls&apos;</span><br><span class="line">return_code = run_command_no_output(_cmd, shell=True, check_exit_code=False)</span><br></pre></td></tr></table></figure><p>return_code 命令执行状态码，0为执行正常，其他码为执行错误</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_cmd = &apos;ls&apos;</span><br><span class="line">return_code = check_command_by_which(_cmd)</span><br></pre></td></tr></table></figure><p>return_code bool类型，True or False</p><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">------------------------------------------------</span><br><span class="line"></span><br><span class="line">describe:</span><br><span class="line">    CMD系统命令执行工具</span><br><span class="line">    利用subprocess内置包开发，使用了底层的Popen方法，便于参数交互，其subprocess的run、call等方法都基于Popen</span><br><span class="line">    非类的方式，对外方法：</span><br><span class="line">        - run_command：命令执行方法，有命令执行output返回</span><br><span class="line">        - run_command_no_output：命令执行方法，无命令执行output返回</span><br><span class="line">        - check_command_by_which：which xxxx</span><br><span class="line"></span><br><span class="line">base_info:</span><br><span class="line">    __author__ = &quot;PyGo&quot;</span><br><span class="line">    __time__ = &quot;2022/9/14&quot;</span><br><span class="line">    __version__ = &quot;v.1.0.0&quot;</span><br><span class="line">    __mail__ = &quot;gaoming971366@163.com&quot;</span><br><span class="line">    __project__ = &quot;quality-inspect&quot;</span><br><span class="line"></span><br><span class="line">usage:</span><br><span class="line">     return_code, output = run_command(_cmd, shell=True, check_exit_code=False)</span><br><span class="line">     - return_code 命令执行状态码，0为执行正常，其他码为执行错误</span><br><span class="line">     - output 命令输出信息</span><br><span class="line"></span><br><span class="line">     return_code = run_command_no_output(_cmd, shell=True, check_exit_code=False)</span><br><span class="line">     - return_code 命令执行状态码，0为执行正常，其他码为执行错误</span><br><span class="line"></span><br><span class="line">     return_code = check_command_by_which(_cmd)</span><br><span class="line">     - return_code bool类型，True or False</span><br><span class="line"></span><br><span class="line">design:</span><br><span class="line">    使用内置包subprocess的Popen方法进行开发，调用底层方法，便于参数交互</span><br><span class="line">    目前常用的3个方法：</span><br><span class="line">        - run_command：命令执行方法，有命令执行output返回</span><br><span class="line">        - run_command_no_output：命令执行方法，无命令执行output返回</span><br><span class="line">        - check_command_by_which：which xxxx</span><br><span class="line">    对外使用的方法都基于_run_cmd，可以进行二次封装，实现其他的命令执行方法</span><br><span class="line">    也可以直接对Popen进行二次开发</span><br><span class="line"></span><br><span class="line">reference urls:</span><br><span class="line"></span><br><span class="line">python version:</span><br><span class="line">    python3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Enjoy the good time everyday！！!</span><br><span class="line">Life is short, I use python.</span><br><span class="line"></span><br><span class="line">------------------------------------------------</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"># ------------------------------------------------------------</span><br><span class="line"># usage: /usr/bin/python command.py</span><br><span class="line"># ------------------------------------------------------------</span><br><span class="line">import sys</span><br><span class="line">import os</span><br><span class="line">import inspect</span><br><span class="line">from subprocess import PIPE, Popen</span><br><span class="line"></span><br><span class="line">from deploy.logger import logger as LOG</span><br><span class="line">from config import DEBUG</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_cur_folder():</span><br><span class="line">    if getattr(sys, &quot;frozen&quot;, False):</span><br><span class="line">        return os.path.dirname(os.path.abspath(__file__))</span><br><span class="line">    else:</span><br><span class="line">        cur_folder = os.path.dirname(inspect.getfile(inspect.currentframe()))</span><br><span class="line">        return os.path.abspath(cur_folder)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def _print_die(message):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    exit process</span><br><span class="line"></span><br><span class="line">    :param message: print error message</span><br><span class="line">    :return:</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    if not message:</span><br><span class="line">        return</span><br><span class="line">    print(&apos;%s%s%s&apos; % (&apos;&gt;&apos; * 10, message, &apos;&lt;&apos; * 10))</span><br><span class="line">    sys.exit(1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def _run_cmd(cmd, shell=True, check_exit_code=True, cwd=None):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    execute command at local shell, build in method,</span><br><span class="line">    not allow other file to use</span><br><span class="line"></span><br><span class="line">    :param cmd: command</span><br><span class="line">    :param shell: is or not run shell mode</span><br><span class="line">        if shell is True, command type is str</span><br><span class="line">        else command type is list or tuple</span><br><span class="line">    :param check_exit_code: check is or not return code</span><br><span class="line">    :param cwd: current work dir</span><br><span class="line">    :return: command return code, command content</span><br><span class="line"></span><br><span class="line">    cmd:</span><br><span class="line">      - &quot;ls -a&quot;</span><br><span class="line">      - [&quot;ls&quot;, &quot;-a&quot;]</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    if type(cmd) not in [type(&apos;string&apos;), type([1]), type((1,))]:</span><br><span class="line">        return -1, &apos;Command type is error&apos;</span><br><span class="line"></span><br><span class="line">    if not cwd:</span><br><span class="line">        cwd = get_cur_folder()</span><br><span class="line"></span><br><span class="line">    # 统一转成string命令格式</span><br><span class="line">    if not shell:</span><br><span class="line">        cmd = &apos; &apos;.join(cmd)</span><br><span class="line">    if not isinstance(cmd, str):</span><br><span class="line">        cmd = &apos; &apos;.join(cmd)</span><br><span class="line">    if DEBUG:</span><br><span class="line">        LOG.debug(cmd)</span><br><span class="line">    p = Popen(cmd,</span><br><span class="line">              shell=False,</span><br><span class="line">              bufsize=0,</span><br><span class="line">              cwd=cwd,</span><br><span class="line">              stdout=PIPE)</span><br><span class="line">    # p.wait()    # 等待子进程完成</span><br><span class="line">    output = p.communicate()[0]</span><br><span class="line">    return_code = p.returncode</span><br><span class="line">    if check_exit_code and return_code != 0:</span><br><span class="line">        _print_die(&apos;Command &quot;%s&quot; failed.\n%s&apos; % (&apos; &apos;.join(cmd), output))</span><br><span class="line">    if return_code in [0, &apos;0&apos;]:</span><br><span class="line">        return_code = 0</span><br><span class="line">    return return_code, output</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def run_command(cmd, check_exit_code=True, shell=True, cwd=None):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    run command return command code, output</span><br><span class="line"></span><br><span class="line">    :param cmd: command</span><br><span class="line">    :param check_exit_code: check command output exit code</span><br><span class="line">    :param shell: shell mode</span><br><span class="line">    :param cwd: current work dir</span><br><span class="line">    :return: command code</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    return _run_cmd(cmd, shell=shell, check_exit_code=check_exit_code, cwd=cwd)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def run_command_no_output(cmd, check_exit_code=True, shell=True, cwd=None):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    run command no return command output</span><br><span class="line"></span><br><span class="line">    :param cmd: command</span><br><span class="line">    :param check_exit_code: check command output exit code</span><br><span class="line">    :param shell: shell mode</span><br><span class="line">    :param cwd: current work dir</span><br><span class="line">    :return: command code</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    return _run_cmd(cmd, shell=shell, check_exit_code=check_exit_code, cwd=cwd)[0]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def which_command(cmd):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    which the server is or not have command</span><br><span class="line"></span><br><span class="line">    :param cmd: command</span><br><span class="line">    :return: bool</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    return True if run_command_no_output(&quot;which %s&quot; % cmd, check_exit_code=False) == 0 \</span><br><span class="line">        else False</span><br></pre></td></tr></table></figure><h4 id="系列"><a href="#系列" class="headerlink" title="系列"></a>系列</h4><p><a href="http://pygo2.top/articles/26110/">Python模块之command系统命令</a><br><a href="http://pygo2.top/articles/19275/">Python模块之excel模块</a><br><a href="http://pygo2.top/articles/5145/">Python模块之logger日志</a><br><a href="http://pygo2.top/articles/61799/">Python模块之utils公共方法</a><br><a href="http://pygo2.top/articles/31232/">Python模块之watcher打点</a><br><a href="http://pygo2.top/articles/51787/">Python模块之config配置解析</a><br><a href="http://pygo2.top/articles/58292/">Python模块之dtalk钉钉消息</a><br><a href="http://pygo2.top/articles/33254/">Python模块之企业微信</a></p><p>更多模块请参考文章TAG进行查看。</p><font size="6.5" color="red"><strong><em>Python模块系列，持续更新中。。。。。。</em></strong></font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_python_module.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;span class=&quot;label primary&quot;&gt;Python&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;Python模块系列&lt;/span&gt;

&lt;div class=&quot;post_cus_note&quot;&gt;Python模块系列&lt;/div&gt;
    
    </summary>
    
      <category term="Python" scheme="http://pygo2.top/categories/Python/"/>
    
    
      <category term="Python" scheme="http://pygo2.top/tags/Python/"/>
    
      <category term="Python模块系列" scheme="http://pygo2.top/tags/Python%E6%A8%A1%E5%9D%97%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Oracle数据库Redhat7.4部署安装</title>
    <link href="http://pygo2.top/articles/40987/"/>
    <id>http://pygo2.top/articles/40987/</id>
    <published>2022-08-03T14:21:53.000Z</published>
    <updated>2022-08-03T14:21:53.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_oracle_1.jpeg" alt></p><blockquote class="blockquote-center"><p>Redhat7.4服务器安装Oracle11g数据库，详细实践版本。</p></blockquote><span class="label primary">Oracle</span> <span class="label info">数据库</span><a id="more"></a><hr><h3 id="版本说明"><a href="#版本说明" class="headerlink" title="版本说明"></a>版本说明</h3><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">版本</th></tr></thead><tbody><tr><td style="text-align:center">服务器系统</td><td style="text-align:center">Redhat7.4</td></tr><tr><td style="text-align:center">Oracle</td><td style="text-align:center">11g Enterprise Edition</td></tr></tbody></table><p>接下来是部署安装的过程，都是重要步骤。<br><div class="post_cus_note">====== 部署开始 ======</div></p><h3 id="Oracle安装"><a href="#Oracle安装" class="headerlink" title="Oracle安装"></a>Oracle安装</h3><h4 id="Oracle用户【root用户】"><a href="#Oracle用户【root用户】" class="headerlink" title="Oracle用户【root用户】"></a>Oracle用户【root用户】</h4><p>对于到手的Linux服务器，Oracle存在自主创建或者已经被创建的情况，分别进行操作说明。</p><blockquote><p>情况一：创建用户</p></blockquote><p>1.创建oracle用户组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">groupadd oinstall</span><br><span class="line">groupadd dba</span><br></pre></td></tr></table></figure></p><p>2.创建oracle用户<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">seradd oracle -g oinstall -G dba -m  -s /bin/bash</span><br></pre></td></tr></table></figure></p><p>3.设置oracle用户密码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd oracle</span><br></pre></td></tr></table></figure></p><blockquote><p>情况二： Oracle用户已存在</p></blockquote><p>1.创建用户租<br>groupadd oinstall<br>groupadd dba<br>2.修改oracle用户所属组<br>usermod -g oinstall -G dba -s /bin/bash oracle<br>id oracle<br>出现的结果是oracle用户是属于oinstall、dba2个组<br>3.把oracle用户目录重新赋予权限：<br>chown -R oracle:oinstall /home/oracle</p><h4 id="Package安装【root用户】"><a href="#Package安装【root用户】" class="headerlink" title="Package安装【root用户】"></a>Package安装【root用户】</h4><p>安装所必须的包，执行以下命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install  binutils  elfutils-libelf   elfutils-libelf-devel  gcc-c++   glibc  glibc-common</span><br><span class="line"> glibc-devel  glibc-headers   libaio  libaio-devel   libgcc  libstdc++   libstdc++-devel    make</span><br><span class="line"> sysstat  unixODBC  unixODBC-devel</span><br></pre></td></tr></table></figure></p><p>如果服务器没连内网，需要从安装盘安装以上的包。挂截光盘，将系统对应的系统盘插入光驱后，运行以下命令：<br>1.挂载系统盘<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /mnt/cdrom</span><br><span class="line">mount –t auto –o ro /dev/cdrom /mnt/cdrom</span><br></pre></td></tr></table></figure></p><p>2.配置源文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/yum.repos.d/Server.repo</span><br></pre></td></tr></table></figure></p><p>3.更改配置，在以上文件中输入以下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[dvd]</span><br><span class="line">Name=localyum</span><br><span class="line">Baseurl=file:///mnt/cdrom</span><br><span class="line">Enabled=1</span><br><span class="line">Gpgcheck=0</span><br></pre></td></tr></table></figure></p><p>保存退出，在进行yum包安装。</p><h4 id="调整OS内核参数【root用户】"><a href="#调整OS内核参数【root用户】" class="headerlink" title="调整OS内核参数【root用户】"></a>调整OS内核参数【root用户】</h4><p>设置原则：<br>kernel.shmmax设为物理内存大小(如果系统已设置了足够大就无需再设置了，参考值为最小需求)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># vi /etc/sysctl.conf</span><br><span class="line">#------------------------------------------</span><br><span class="line">kernel.shmall = 16777216</span><br><span class="line">kernel.shmmax = 68719476735</span><br><span class="line">kernel.shmmni = 4096</span><br><span class="line">kernel.sem = 500 2048000 500 4096</span><br><span class="line">kernel.randomize_va_space=0</span><br><span class="line">fs.aio-max-nr = 1048576</span><br><span class="line">fs.file-max = 6815744</span><br><span class="line">fs.aio-max-nr = 1048576</span><br><span class="line">net.ipv4.ip_local_port_range = 9000 65500</span><br><span class="line">net.core.rmem_default = 262144</span><br><span class="line">net.core.rmem_max = 4194304</span><br><span class="line">net.core.wmem_default = 262144</span><br><span class="line">net.core.wmem_max = 1048586</span><br><span class="line">#------------------------------------------</span><br></pre></td></tr></table></figure></p><p><img src="331662561426_.pic.jpg" alt></p><p>运行命令使参数立即生效<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl  -p</span><br></pre></td></tr></table></figure></p><h4 id="配置PAM模块文件【root用户】"><a href="#配置PAM模块文件【root用户】" class="headerlink" title="配置PAM模块文件【root用户】"></a>配置PAM模块文件【root用户】</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/security/limits.conf</span><br><span class="line">#------------------------------------------</span><br><span class="line">oracle soft nproc 2047</span><br><span class="line">oracle hard nproc 16384</span><br><span class="line">oracle soft nofile 1024</span><br><span class="line">oracle hard nofile 65536</span><br><span class="line">#------------------------------------------</span><br></pre></td></tr></table></figure><p><img src="341662561512_.pic.jpg" alt></p><h4 id="建立必须目录和文件【root用户】"><a href="#建立必须目录和文件【root用户】" class="headerlink" title="建立必须目录和文件【root用户】"></a>建立必须目录和文件【root用户】</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir  –p  /u01/app/oracle</span><br><span class="line">chown  -R  oracle:oinstall  /u01/</span><br></pre></td></tr></table></figure><p>建立完之后可以tree以下，如果没有<strong><em>yum tree</em></strong>安装tree命令，用来查看目录树结构，推荐。</p><h4 id="设置oracle用户环境变量【oracle用户】"><a href="#设置oracle用户环境变量【oracle用户】" class="headerlink" title="设置oracle用户环境变量【oracle用户】"></a>设置oracle用户环境变量【oracle用户】</h4><p>如果服务器有多网卡, 注意设置ORACLE_HOSTNAME为某网卡IP对应的主机名, 参照/etc/hosts文件.<br>切换到oracle 用户 编辑.bash_profile文件为以下内容。<br>切换到oracle用户<br>命令：su  -  oracle</p><p>编辑配置文件<br>命令如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$vim /home/oracle/.bash_profile</span><br><span class="line"># --------------------------------------------------</span><br><span class="line"># oracle config</span><br><span class="line">umask 022</span><br><span class="line">ORACLE_HOSTNAME=VM_176_9_linux</span><br><span class="line">ORACLE_BASE=/u01/app/oracle</span><br><span class="line">ORACLE_HOME=/u01/app/oracle/product/11.2.0/dbhome_1</span><br><span class="line">ORACLE_SID=orcl</span><br><span class="line">LD_LIBRARY_PATH=$ORACLE_HOME/lib</span><br><span class="line">PATH=$PATH:$HOME/bin:$ORACLE_HOME/bin:$ORACLE_HOME/jdk/bin:$LD_LIBRARY_PATH</span><br><span class="line"></span><br><span class="line">export ORACLE_HOME</span><br><span class="line">export ORACLE_SID</span><br><span class="line">export LD_LIBRARY_PATH</span><br><span class="line">export PATH</span><br><span class="line"></span><br><span class="line">LC_ALL=&quot;en_US&quot;</span><br><span class="line">export NLS_LANG=&quot;AMERICAN_AMERICA.ZHS16GBK&quot;</span><br><span class="line">export NLS_DATE_FORMAT=&quot;YYYY-MM-DD HH24:MI:SS&quot;</span><br><span class="line"># --------------------------------------------------</span><br></pre></td></tr></table></figure></p><p>参数说明：</p><ul><li>ORACLE_HOSTNAM：本机名称</li><li>ORACLE_BASE：Oracle安装根目录</li><li>ORACLE_HOME：Oracle软件安装目录</li><li>ORACLE_SID：Oracle SID</li><li>LD_LIBRARY_PATH：Oracle lib包</li><li>NLS_LANG：NLS编码设置，先这么设置，后面有一个拓展 专门说明。</li></ul><p><img src="351662561646_.pic.jpg" alt></p><p>再运行以下命令使配置立即生效。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /home/oracle/.bash_profile</span><br></pre></td></tr></table></figure></p><h4 id="配置cvu-config文件【oracle用户】"><a href="#配置cvu-config文件【oracle用户】" class="headerlink" title="配置cvu_config文件【oracle用户】"></a>配置cvu_config文件【oracle用户】</h4><p>1.解压Oracle包，进入Oracle解压后目录database/stage/cvu/cv/admin，备份 cvu_config 文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp cvu_config backup_cvu_config</span><br></pre></td></tr></table></figure></p><p>2.编辑 cvu_config 并且改动以下行内容（添加cvu_config配置信息的时候建议手动输入，复制的时候出现|【不知什么原因】）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CV_ASSUME_DISTID=OEL4 to CV_ASSUME_DISTID=OEL6</span><br></pre></td></tr></table></figure></p><p>3.保存文件。</p><h4 id="配置响应文件【oracle用户】"><a href="#配置响应文件【oracle用户】" class="headerlink" title="配置响应文件【oracle用户】"></a>配置响应文件【oracle用户】</h4><p>在ORACLE安装软件的response目录里有各种响应文件模板，我们需要将配置响应文件的参数以匹配当前环境<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ vi /home/oracle/database/response/db_install.rsp</span><br><span class="line"></span><br><span class="line">#--------------------------------------------------------------------</span><br><span class="line"># 注意!不要更改以下参数,否则安装会报错!</span><br><span class="line">oracle.install.responseFileVersion=/oracle/install/rspfmt_dbinstall_response_schema_v11_2_0</span><br><span class="line"></span><br><span class="line">#以下参数根据实际情况更改,ORACLE_HOSTNAME的值由hostname命令获得</span><br><span class="line">oracle.install.option=INSTALL_DB_SWONLY</span><br><span class="line">ORACLE_HOSTNAME=服务器名称</span><br><span class="line">INVENTORY_LOCATION=/u01/app/oracle/oraInventory</span><br><span class="line">UNIX_GROUP_NAME=oinstall</span><br><span class="line">SELECTED_LANGUAGES=en,zh_CN</span><br><span class="line">oracle.install.db.InstallEdition=EE</span><br><span class="line">oracle.install.db.DBA_GROUP=dba</span><br><span class="line">oracle.install.db.OPER_GROUP=dba</span><br><span class="line">DECLINE_SECURITY_UPDATES=true</span><br><span class="line">ORACLE_HOME=/u01/app/oracle/product/11.2.0/dbhome_1</span><br><span class="line">ORACLE_BASE=/u01/app/oracle</span><br><span class="line">#--------------------------------------------------------------------</span><br></pre></td></tr></table></figure></p><p>各参数含义如下:<br>-silent 表示以静默方式安装,不会有任何提示<br>-force 允许安装到一个非空目录<br>-noconfig 表示不运行配置助手netca<br>-responseFile 表示使用哪个响应文件,必需使用绝对路径<br>oracle.install.responseFileVersion 响应文件模板的版本,该参数不要更改<br>oracle.install.option 安装选项,本例只安装oracle软件,<br>DECLINE_SECURITY_UPDATES 是否需要在线安全更新,该参数不要更改<br>ORACLE_HOSTNAME 安装主机名<br>UNIX_GROUP_NAME oracle用户用于安装软件的组名<br>INVENTORY_LOCATION oracle产品清单目录<br>SELECTED_LANGUAGES oracle运行语言环境,一般选en，zh_CN<br>ORACLE_HOME Oracle安装目录<br>ORACLE_BASE oracle基础目录<br>oracle.install.db.InstallEdition 安装版本类型,一般是企业版<br>oracle.install.db.isCustomInstall 是否定制安装,默认Partitioning,OLAP,RAT都选上了<br>oracle.install.db.customComponents 定制安装组件列表:除了以上默认的,可加上Label Security和Database Vault<br>oracle.install.db.DBA_GROUP oracle用户用于授予OSDBA权限的组名<br>oracle.install.db.OPER_GROUP oracle用户用于授予OSOPER权限的组名</p><h4 id="执行安装脚本"><a href="#执行安装脚本" class="headerlink" title="执行安装脚本"></a>执行安装脚本</h4><p>【一定要oracle用户执行】【一定要oracle用户执行】【一定要oracle用户执行】<br>命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./runInstaller  -silent  -force  -noconfig  -responseFile  /home/oracle/db_install.rsp</span><br></pre></td></tr></table></figure></p><p>其中后面的db_install.rsp为上一步配置的响应文件的路径。</p><p><img src="361662561936_.pic.jpg" alt></p><p>执行成功后会出现以上界面，会提示需要要ROOT用户下执行脚本，然后再回来上图界面按回车完成安装。</p><h4 id="运行orainstRoot-sh和root-sh完成安装"><a href="#运行orainstRoot-sh和root-sh完成安装" class="headerlink" title="运行orainstRoot.sh和root.sh完成安装"></a>运行orainstRoot.sh和root.sh完成安装</h4><p>【一定要root用户执行】【一定要root用户执行】【一定要root用户执行】<br>切换到root用户执行脚本。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/u01/app/oraInventory/orainstRoot.sh</span><br><span class="line">/u01/app/oracle/product/11.2.0/dbhome_1/root.sh</span><br></pre></td></tr></table></figure></p><p><img src="371662561966_.pic.jpg" alt></p><p>然后再回到安装界面按回车，提示安装成功，至此数据库已经安装完成。</p><h4 id="检查安装文件【root用户】"><a href="#检查安装文件【root用户】" class="headerlink" title="检查安装文件【root用户】"></a>检查安装文件【root用户】</h4><blockquote><p>1.文件一：$ORACLE_HOME/bin/oracle</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd $ORACLE_HOME/bin</span><br><span class="line">ll | grep oracle</span><br></pre></td></tr></table></figure><p><img src="381662562021_.pic.jpg" alt></p><blockquote><p>2.文件二：$ORACLE_HOME/rdbms/lib/config.o</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd $ORACLE_HOME/rdbms/lib/</span><br><span class="line">ll | grep config</span><br></pre></td></tr></table></figure><p><img src="391662562045_.pic.jpg" alt></p><p>确认上面的2个文件大小一定要大于0，不然后面后出现ORA-12547:TNS:list contact。<br>如果出现上述情况，可以把/u01/app/oracle/oraInventory目录删除，重新进行安装。</p><div class="post_cus_note">数据库安装完成</div><h3 id="PAS数据库安装"><a href="#PAS数据库安装" class="headerlink" title="PAS数据库安装"></a>PAS数据库安装</h3><h4 id="静默配置监听程序【oracle用户】"><a href="#静默配置监听程序【oracle用户】" class="headerlink" title="静默配置监听程序【oracle用户】"></a>静默配置监听程序【oracle用户】</h4><p>通过response文件运行netca, 生成sqlnet.ora和listener.ora文件, 位于$ORACLE_HOME/network/admin目录下<br>命令：$ $ORACLE_HOME/bin/netca /silent /responsefile /home/oracle/netca.rsp<br><img src="401662562189_.pic.jpg" alt><br>如果发生以下错误：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">=========================================================</span><br><span class="line">$ORACLE_HOME/bin/netca /silent /responsefile /home/oracle/database/response/netca.rspUnsatisfiedLinkError exception loading native library: njni11</span><br><span class="line">java.lang.UnsatisfiedLinkError: /u01/app/oracle/product/11.2.0/dbhome_1/lib/libnjni11.so: libaio.so.1: cannot open shared object file: No such file or directory</span><br><span class="line">java.lang.UnsatisfiedLinkError: jniGetOracleHome</span><br><span class="line">at oracle.net.common.NetGetEnv.jniGetOracleHome(Native Method)</span><br><span class="line">at oracle.net.common.NetGetEnv.getOracleHome(Unknown Source)</span><br><span class="line">at oracle.net.ca.NetCALogger.getOracleHome(NetCALogger.java:230)</span><br><span class="line">at oracle.net.ca.NetCALogger.initOracleParameters(NetCALogger.java:215)</span><br><span class="line">at oracle.net.ca.NetCALogger.initLogger(NetCALogger.java:130)</span><br><span class="line">at oracle.net.ca.NetCA.main(NetCA.java:427)</span><br><span class="line"></span><br><span class="line">Error: jniGetOracleHome</span><br><span class="line">=========================================================</span><br></pre></td></tr></table></figure></p><p>解决方案：<br>缺少lib包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find /u01 -name libaio.so.1</span><br><span class="line">cp /u01/app/oracle/product/11.2.0/dbhome_1/lib/stubs/libaio.so.1 /u01/app/oracle/product/11.2.0/dbhome_1/lib</span><br></pre></td></tr></table></figure></p><p>在执行上述命令，成功<br>创建PAS数据库实例</p><h4 id="配置建库响应文件-dbca-rsp【oracle用户】"><a href="#配置建库响应文件-dbca-rsp【oracle用户】" class="headerlink" title="配置建库响应文件 dbca.rsp【oracle用户】"></a>配置建库响应文件 dbca.rsp【oracle用户】</h4><p>打开安装目录下的response文件夹下的dbca.rsp ，修改以下参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$vim  /home/oracle/database/response/dbca.rsp</span><br><span class="line">GDBNAME = &quot;pas&quot;</span><br><span class="line">SID = &quot;orcl&quot;</span><br><span class="line">SYSPASSWORD = &quot;pas&quot;</span><br><span class="line">SYSTEMPASSWORD = &quot;pas&quot;</span><br><span class="line">SYSMANPASSWORD = &quot;pas&quot;</span><br><span class="line">DBSNMPPASSWORD = &quot;pas&quot;</span><br><span class="line">CHARACTERSET = &quot;ZHS16GBK&quot;</span><br><span class="line">MEMORYPERCENTAGE = &quot;40&quot;</span><br></pre></td></tr></table></figure></p><h4 id="创建数据库实例【oracle用户】"><a href="#创建数据库实例【oracle用户】" class="headerlink" title="创建数据库实例【oracle用户】"></a>创建数据库实例【oracle用户】</h4><p>Oracle用户下执行以下命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ORACLE_HOME/bin/dbca -silent -responseFile /home/oracle/database/response/dbca.rsp</span><br></pre></td></tr></table></figure></p><p>注意,dbca.rsp为上一步配置的响应文件的路径。<br><img src="411662562292_.pic.jpg" alt><br>待提示成功后，数据库实例创建完毕。<br><img src="dbca.png" alt></p><h4 id="创建数据文件路径"><a href="#创建数据文件路径" class="headerlink" title="创建数据文件路径"></a>创建数据文件路径</h4><p>1.创建目录，切换至实例用户窗口中输入如下命令，将下列脚本中的SNPAS批量替换成你的数据库名称，同时需要检查实例目录上否有足够空间的磁盘(真实环境至少剩余空间需要500G以上 df 检查磁盘空间)<br><strong><em>【文件位置根据服务器实际空间以及位置进行修改，oracle对目录具有读写权限】</em></strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">su - oracle</span><br><span class="line">mkdir -p  /data/SNPAS/PAS_DATA/PAS_SPACE_DATA</span><br><span class="line">mkdir -p  /data/SNPAS/PAS_DATA/PAS_SPACE_IDX</span><br><span class="line">mkdir -p  /data/SNPAS/PAS_DATA/PAS_SPACE_TMP</span><br><span class="line">mkdir -p  /data/SNPAS/PAS_BACKUP</span><br><span class="line">mkdir -p  /data/SNPAS/PAS_DATA_SRC</span><br><span class="line">mkdir -p  /data/SNPAS/PAS_ARCH_LOG</span><br></pre></td></tr></table></figure></p><p>2.创建成功之后的目录结构如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /data/SNPAS</span><br><span class="line">tree</span><br></pre></td></tr></table></figure></p><p><img src="SNPAS.png" alt></p><h4 id="创建表空间【oracle用户】"><a href="#创建表空间【oracle用户】" class="headerlink" title="创建表空间【oracle用户】"></a>创建表空间【oracle用户】</h4><p>查看当前实例：select instance_name from v$instance;<br>切换为需要的实例：export ORACLE_SID=SID名称<br>以管理员身份通过SQLPLUS登录ORACLE<br>$ ORACLE_HOME/bin/sqlplus / as sysdba<br><img src="421662562514_.pic.jpg" alt></p><h4 id="表空间创建"><a href="#表空间创建" class="headerlink" title="表空间创建"></a>表空间创建</h4><p>表空间特殊说明：</p><ul><li>【1.表空间存储目录以上一步建立的路径为准】</li><li>【2.初始化表空间文件的大小可以为10G，后期自动增长】</li><li>【3.11g普通表空间文件大小最大32G】</li></ul><blockquote><p>创建TBS_MXZ表空间文件【sqlplus】</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt;CREATE TABLESPACE &quot;TBS_MXZ&quot;</span><br><span class="line">  LOGGING DATAFILE</span><br><span class="line">  &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_MXZ1.dbf&apos; SIZE 10G,</span><br><span class="line">  &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_MXZ2.dbf&apos; SIZE 10G,</span><br><span class="line">  &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_MXZ3.dbf&apos; SIZE 10G,</span><br><span class="line">  &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_MXZ4.dbf&apos; SIZE 10G,</span><br><span class="line">  &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_MXZ5.dbf&apos; SIZE 10G</span><br><span class="line">   autoextend on</span><br><span class="line">   next 1G</span><br><span class="line">   maxsize unlimited;</span><br></pre></td></tr></table></figure><blockquote><p>创建TBS_NBZZ表空间文件【sqlplus】</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; CREATE TABLESPACE &quot;TBS_NBZZ&quot;</span><br><span class="line">  LOGGING DATAFILE</span><br><span class="line">  &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ1.dbf&apos; SIZE 10G,</span><br><span class="line">&apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ2.dbf&apos; SIZE 10G,</span><br><span class="line">&apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ3.dbf&apos; SIZE 10G,</span><br><span class="line">  &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ4.dbf&apos; SIZE 10G</span><br><span class="line">   autoextend on</span><br><span class="line">   next 1G</span><br><span class="line">   maxsize unlimited;</span><br></pre></td></tr></table></figure><blockquote><p>创建TBS_JXDX表空间文件【sqlplus】</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt;CREATE TABLESPACE &quot;TBS_JXDX&quot;</span><br><span class="line">  LOGGING DATAFILE</span><br><span class="line">  &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_JXDX1.dbf&apos; SIZE 10G,</span><br><span class="line">  &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_JXDX2.dbf&apos; SIZE 10G</span><br><span class="line">   autoextend on</span><br><span class="line">   next 1G</span><br><span class="line">   maxsize unlimited;</span><br></pre></td></tr></table></figure><blockquote><p>创建TBS_JKSJ表空间文件【sqlplus】</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt;CREATE TABLESPACE &quot;TBS_JKSJ&quot;</span><br><span class="line">  LOGGING DATAFILE</span><br><span class="line">  &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_JKSJ1.dbf&apos; SIZE 10G</span><br><span class="line">   autoextend on</span><br><span class="line">   next 1G</span><br><span class="line">   maxsize unlimited;</span><br></pre></td></tr></table></figure><blockquote><p>创建TBS_LSB表空间文件【sqlplus】</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt;CREATE TABLESPACE &quot;TBS_LSB&quot;</span><br><span class="line">  LOGGING DATAFILE</span><br><span class="line">  &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_LSB1.dbf&apos; SIZE 10G</span><br><span class="line">   autoextend on</span><br><span class="line">   next 1G</span><br><span class="line">   maxsize unlimited;</span><br></pre></td></tr></table></figure><blockquote><p>创建TBS_PAS表空间文件【sqlplus】</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; CREATE TABLESPACE &quot;TBS_PAS&quot;</span><br><span class="line"> LOGGING DATAFILE</span><br><span class="line"> &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_PAS1.dbf&apos; SIZE 10G,</span><br><span class="line"> &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_DATA/TBS_PAS2.dbf&apos; SIZE 10G</span><br><span class="line">  autoextend on</span><br><span class="line">  next 1G</span><br><span class="line">  maxsize unlimited;</span><br></pre></td></tr></table></figure><blockquote><p>创建TBS_IDX表空间文件【sqlplus】</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt;CREATE TABLESPACE &quot;TBS_IDX&quot;</span><br><span class="line">LOGGING DATAFILE</span><br><span class="line">&apos;/data/SNPAS/PAS_DATA/PAS_SPACE_IDX/TBS_IDX1.dbf&apos; SIZE 10G,</span><br><span class="line">&apos;/data/SNPAS/PAS_DATA/PAS_SPACE_IDX/TBS_IDX2.dbf&apos; SIZE 10G</span><br><span class="line"> autoextend on</span><br><span class="line"> next 1G</span><br><span class="line"> maxsize unlimited;</span><br></pre></td></tr></table></figure><blockquote><p>创建TBS_TMP表空间文件【sqlplus】</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt;CREATE TEMPORARY TABLESPACE TBS_TMP</span><br><span class="line">  TEMPFILE</span><br><span class="line">   &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_TMP/TBS_TMP1.dbf&apos; SIZE 10G,</span><br><span class="line">   &apos;/data/SNPAS/PAS_DATA/PAS_SPACE_TMP/TBS_TMP2.dbf&apos; SIZE 10G</span><br><span class="line">   autoextend on</span><br><span class="line">   next 1G</span><br><span class="line">   maxsize unlimited;</span><br></pre></td></tr></table></figure><p>表空间说明与配置建议:</p><table><thead><tr><th>表空间名称</th><th>表空间作用</th><th>表空间大小配置建议</th><th>备注</th></tr></thead><tbody><tr><td>TBS_MXZ</td><td>存放明细账数据</td><td>100G-200G</td><td></td></tr><tr><td>TBS_NBZZ</td><td>存放内部总账数据</td><td>100G以上</td><td></td></tr><tr><td>TBS_JXDX</td><td>存放绩效对象数据</td><td>30G</td><td></td></tr><tr><td>TBS_JKSJ</td><td>存放接口数据</td><td>10G</td><td></td></tr><tr><td>TBS_LSB</td><td>存放临时表数据</td><td>10G</td><td></td></tr><tr><td>TBS_PAS</td><td>存放一些基础表的表空间，例如权限、参数、业绩关系、业绩指标、考核方案等</td><td>30G</td><td></td></tr><tr><td>TBS_IDX</td><td>存放索引数据</td><td>30G</td><td></td></tr><tr><td>TBS_TMP</td><td>临时表空间</td></tr></tbody></table><h4 id="创建PAS用户【sqlplus】"><a href="#创建PAS用户【sqlplus】" class="headerlink" title="创建PAS用户【sqlplus】"></a>创建PAS用户【sqlplus】</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">su - oracle</span><br><span class="line">sqlplus / as sysdba</span><br></pre></td></tr></table></figure><p>以管理员身份通过SQLPLUS登录ORACLE，执行以下命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; CREATE USER PAS IDENTIFIED BY pas</span><br><span class="line">DEFAULT TABLESPACE &quot;TBS_PAS&quot;</span><br><span class="line">TEMPORARY TABLESPACE &quot;TBS_TMP&quot;;</span><br></pre></td></tr></table></figure></p><h4 id="PAS用户授权【sqlplus】"><a href="#PAS用户授权【sqlplus】" class="headerlink" title="PAS用户授权【sqlplus】"></a>PAS用户授权【sqlplus】</h4><p>以管理员身份通过SQLPLUS登录ORACLE，执行以下命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt;GRANT &quot;JAVAUSERPRIV&quot; TO PAS WITH ADMIN OPTION;</span><br><span class="line">SQL&gt;GRANT &quot;RESOURCE&quot; TO PAS WITH ADMIN OPTION;</span><br><span class="line">SQL&gt;GRANT &quot;DBA&quot; TO PAS WITH ADMIN OPTION;</span><br><span class="line">SQL&gt;GRANT &quot;JAVASYSPRIV&quot; TO PAS WITH ADMIN OPTION;</span><br><span class="line">SQL&gt;GRANT &quot;CONNECT&quot; TO PAS WITH ADMIN OPTION;</span><br><span class="line">SQL&gt;ALTER USER PAS DEFAULT ROLE &quot;JAVAUSERPRIV&quot;,&quot;RESOURCE&quot;,&quot;DBA&quot;,&quot;JAVASYSPRIV&quot;,&quot;CONNECT&quot;;</span><br><span class="line"></span><br><span class="line">-- SYSTEM PRIVILEGES</span><br><span class="line">SQL&gt;GRANT CREATE ANY INDEX TO PAS WITH ADMIN OPTION;</span><br><span class="line">SQL&gt;GRANT CREATE ANY TABLE TO PAS WITH ADMIN OPTION;</span><br><span class="line">SQL&gt;GRANT UNLIMITED TABLESPACE TO PAS WITH ADMIN OPTION;</span><br><span class="line">SQL&gt;grant select on SYS.DBA_DATA_FILES to PAS;</span><br><span class="line">SQL&gt;grant select on SYS.DBA_FREE_SPACE to PAS;</span><br><span class="line">SQL&gt;grant select on SYS.DBA_TABLESPACES to PAS;</span><br><span class="line">SQL&gt;grant create session to PAS;</span><br><span class="line">SQL&gt;grant create sequence to PAS;</span><br><span class="line">SQL&gt;grant drop any sequence to PAS;</span><br><span class="line">SQL&gt;grant select any dictionary to pas;</span><br></pre></td></tr></table></figure></p><h4 id="配置数据库参数【sqlplus】"><a href="#配置数据库参数【sqlplus】" class="headerlink" title="配置数据库参数【sqlplus】"></a>配置数据库参数【sqlplus】</h4><p>下面是数据库的基本参数建议配置，可根据实际情况按需修改，需以sys用户登录数据库,<br>$sqlplus / as sysdba;</p><ul><li><p>1.设置SGA大小，建议为物理内存的40%<br>SQL&gt;alter system set sga_max_size=20G  scope=both<br>   alter system set sga_target=20G scope=spfile;</p></li><li><p>2.设置PGA大小，建议为物理内存10%<br>SQL&gt;alter system set pga_aggregate_target=5G scope=both;<br><img src="431662562733_.pic.jpg" alt></p></li><li><p>3.设置最大进程数，PROCESSE=1500<br>SQL&gt; alter system set processes=1500  scope=spfile;<br><img src="441662562761_.pic.jpg" alt></p></li><li><p>4.设置最大游标数OPEN_CURSORS=300<br>SQL&gt; alter system set open_cursors=1000 scope=both;<br><img src="451662562766_.pic.jpg" alt></p></li></ul><div class="post_cus_note">====== 部署完成 ======</div><h3 id="部署教程系列"><a href="#部署教程系列" class="headerlink" title="部署教程系列"></a>部署教程系列</h3><ul><li>LINUX+ORACLE部署安装：<a href="http://pygo2.top/articles/40987/">http://pygo2.top/articles/40987/</a></li><li>Linux安装JAVA1.7与配置：<a href="http://pygo2.top/articles/13502/">http://pygo2.top/articles/13502/</a></li><li>Windows安装JAVA1.7与配置：<a href="http://pygo2.top/articles/1151/">http://pygo2.top/articles/1151/</a></li><li>Windows安装Tomcat7与配置：<a href="http://pygo2.top/articles/2013/">http://pygo2.top/articles/2013/</a></li><li>Windows安装PLSQL与配置：<a href="http://pygo2.top/articles/47618/">http://pygo2.top/articles/47618/</a></li></ul><font size="6.5" color="red">部署系列持续更新中。。。。。。</font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_oracle_1.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;Redhat7.4服务器安装Oracle11g数据库，详细实践版本。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;span class=&quot;label primary&quot;&gt;Oracle&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;数据库&lt;/span&gt;
    
    </summary>
    
      <category term="数据库" scheme="http://pygo2.top/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="Oracle" scheme="http://pygo2.top/tags/Oracle/"/>
    
      <category term="部署教程系列" scheme="http://pygo2.top/tags/%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Windows Server2012R2安装PLSQL</title>
    <link href="http://pygo2.top/articles/47618/"/>
    <id>http://pygo2.top/articles/47618/</id>
    <published>2022-07-27T13:32:56.000Z</published>
    <updated>2022-07-27T13:32:56.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_plsql.jpeg" alt></p><blockquote class="blockquote-center"><p>Windows安装PLSQL与配置</p></blockquote><span class="label info">PLSQL</span> <span class="label primary">Windows</span> <span class="label default">Oracle</span><a id="more"></a><hr><h4 id="版本说明"><a href="#版本说明" class="headerlink" title="版本说明"></a>版本说明</h4><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">版本</th></tr></thead><tbody><tr><td style="text-align:center">服务器系统</td><td style="text-align:center">Windows Server2012 R2 Standard</td></tr><tr><td style="text-align:center">PSQL</td><td style="text-align:center">PSQL（32位）</td></tr><tr><td style="text-align:center">Instant Client客户端实例</td><td style="text-align:center">11.2.0.4.0（32位）</td></tr></tbody></table><h4 id="材料准备"><a href="#材料准备" class="headerlink" title="材料准备"></a>材料准备</h4><ul><li>PLSQL安装包（32位）</li><li>Oracle Instant Client:instantclient包（32位）</li></ul><font size="5.5" color="red">（需要配套，位数保持一致）</font><p>一套工具baidu云盘下载：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">=====================================================================</span><br><span class="line">链接：https://pan.baidu.com/s/1LuLaIxK4z7AQgNFHZhoTHw?pwd=4tgc</span><br><span class="line">提取码：4tgc</span><br><span class="line">=====================================================================</span><br></pre></td></tr></table></figure></p><p>下载包含PLSQL（32位），Oracle Instant Client（32位、64位）</p><h4 id="官网下载"><a href="#官网下载" class="headerlink" title="官网下载"></a>官网下载</h4><p>1、下载PLSQL，请自行下载PJ版本。</p><p>2、下载Oracle instantclient包，打开Oracle官网Instant下载地址：<br><a href="https://www.oracle.com/database/technologies/instant-client/downloads.html" target="_blank" rel="noopener">https://www.oracle.com/database/technologies/instant-client/downloads.html</a><br>下载32位版本：<br><img src="721662566764_.pic.jpg" alt></p><p>3、进入32版本页面之后，ctrl+f页面搜索11.，下载11.2.0.4.0版本的包<br><img src="731662566784_.pic.jpg" alt></p><p>4、点击下载11.2.0.4.0包之后，Oracle会让注册一个用户，正常按注册流程走完注册成功后，会进行下载。<br>这里我32位和64位都下载了，以防连接时候出现版本问题。<br>64位下载的方式跟上面一样。</p><p>5、下载好的PLSQL、Oracle Instant Client：<br><img src="741662566803_.pic.jpg" alt></p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>1、PLSQL软件组成有3个部分，PLSQL安装包、中文语言包、注册信息<br><img src="751662566846_.pic.jpg" alt></p><p>2、直接点击plsqldev1106x32.exe进行安装，选择安装在D盘根目录，避免安装路径包含中文或者空格<br><img src="761662566867_.pic.jpg" alt></p><p>3、安装中文包:Language_zh_x86_x64.exe<br>PLSQL安装路径会自动识别，一直下一步即可。</p><p>4、安装完点击桌面plsql快捷进行登录，点击取消直接先登录<br><img src="771662566885_.pic.jpg" alt></p><p>5、点击菜单帮助 -&gt; 注册 -&gt; 把注册信息填写，完成注册<br><img src="781662566910_.pic.jpg" alt></p><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>1、解压文件：instantclient-basic-nt-11.2.0.4.0.zip<br>把文件放在D盘根目录<br><img src="801662566966_.pic.jpg" alt></p><p>2、打开PLSQL，点击取消进行登录，点击菜单工具 -&gt; 首先项 -&gt; 连接<br><img src="811662566980_.pic.jpg" alt></p><p>3、配置以下内容，instantclient目录已实际为准<br>Oracle主目录：D:\instantclient_11_2<br>OCI库：D:\instantclient_11_2\oci.dll<br>其中，OCI库一定要选择根目录下的oci.dll【重点】</p><p>4、应用 -&gt; 确定，关闭PLSQL</p><p>5、配置TNS_ADMIN监听文件<br>在D:\instantclient_11_2\NETWORK\ADMIN目录找到tnsnames.ora文件。其实，这个tnsnames.ora文件是服务器数据库文件一样的，具体位置:<br><img src="821662567000_.pic.jpg" alt></p><p>如果没有自行创建一个或者直接把服务器上面那个文件复制出一份，写入以下内容。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">=========================================================</span><br><span class="line"># tnsnames.ora Network Configuration File: D:\instantclient_11_2\NETWORK\ADMIN\tnsnames.ora</span><br><span class="line"># Generated by Oracle configuration tools.</span><br><span class="line"></span><br><span class="line">PAS =</span><br><span class="line">  (DESCRIPTION =</span><br><span class="line">    (ADDRESS = (PROTOCOL = TCP)(HOST = 10.15.176.9)(PORT = 1521))</span><br><span class="line">    (CONNECT_DATA =</span><br><span class="line">      (SERVER = DEDICATED)</span><br><span class="line">      (SERVICE_NAME = PAS)</span><br><span class="line">    )</span><br><span class="line">  )</span><br></pre></td></tr></table></figure></p><p>修改的配置值：</p><blockquote><p>IP</p></blockquote><p>10.15.176.9修改成数据库服务器IP，通过ip addr 或者 ifconfig（找到eth0网卡的ip）</p><blockquote><p>SERVICE_NAME</p></blockquote><p>通过SQPLUS获取当前数据库SERVICE_NAME，执行语句如下：<br>【数据库服务器】<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su - oracle</span><br><span class="line">sqlplus / as /sysdba</span><br><span class="line">show parameter service_</span><br></pre></td></tr></table></figure></p><p><img src="831662567037_.pic.jpg" alt><br>修改完成后保存文件。</p><p>6、环境变量配置<br>安装以后需要进行环境变量配置。<br>6.1 我的电脑（右键）-&gt;选择属性-&gt;高级系统设置-&gt;环境变量。<br><img src="841662567109_.pic.jpg" alt></p><p>6.2 环境变量配置<br>6.2.1 新建ORACLE_HOME变量<br>变量名：ORACLE_HOME<br>变量值：D:\instantclient_11_2<br><img src="851662567125_.pic.jpg" alt></p><p>6.2.2 新建NLS_LANG变量<br>变量名：NLS_LANG<br>变量值：SIMPLIFIED CHINESE_CHINA.ZHS16GBK<br><img src="861662567141_.pic.jpg" alt></p><p>6.2.3 新建TNS_ADMIN变量<br>变量名：TNS_ADMIN<br>变量值：D:\instantclient_11_2\NETWORK\ADMIN<br><img src="871662567157_.pic.jpg" alt></p><p>7、测试PLSQL，输入相关信息登录。<br><img src="881662567170_.pic.jpg" alt></p><h4 id="拓展问题"><a href="#拓展问题" class="headerlink" title="拓展问题"></a>拓展问题</h4><p>1、PLSQ出现了初始化错误，请检查32bits Oracle Client installed<br>如果使用了本教程提供的整套工具，应该是可以连接上的，需要PLSQL版本位数与instantclient位数保持一致。<br>如果需要提供一个32位Oracle Client包。</p><p>2、NLS_LANG特殊说明<br>Oracle配置的用户NLS_LANG变量是：</p><ul><li>AMERICAN_AMERICA.ZHS16GBK<br>Windows服务器配置NLS_LANG变量</li><li>SIMPLIFIED CHINESE_CHINA.ZHS16GBK<br>简单解释一下，NLS_LANG由三部分组成：<br>（一）语言：SIMPLIFIED CHINESE 或者 AMERICAN<br>影响的是中文还是英文提示<br>区域：CHINA 或者AMERICA<br>影响的是日期、数字、金融格式什么的<br>字符集：ZHS16GBK<br>都采用的ZHS16GBK字符集，只要保持这个一直，就可以保持数据库备份，到另一个数据库恢复，中文不会乱码<br>一定要按保持字符集一样</li></ul><div class="post_cus_note"> =========== END =========== </div><h4 id="部署教程系列"><a href="#部署教程系列" class="headerlink" title="部署教程系列"></a>部署教程系列</h4><ul><li>LINUX+ORACLE部署安装：<a href="http://pygo2.top/articles/40987/">http://pygo2.top/articles/40987/</a></li><li>Linux安装JAVA1.7与配置：<a href="http://pygo2.top/articles/13502/">http://pygo2.top/articles/13502/</a></li><li>Windows安装JAVA1.7与配置：<a href="http://pygo2.top/articles/1151/">http://pygo2.top/articles/1151/</a></li><li>Windows安装Tomcat7与配置：<a href="http://pygo2.top/articles/2013/">http://pygo2.top/articles/2013/</a></li><li>Windows安装PLSQL与配置：<a href="http://pygo2.top/articles/47618/">http://pygo2.top/articles/47618/</a></li></ul><font size="6.5" color="red">部署系列持续更新中。。。。。。</font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_plsql.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;Windows安装PLSQL与配置&lt;/p&gt;
&lt;/blockquote&gt;
&lt;span class=&quot;label info&quot;&gt;PLSQL&lt;/span&gt; &lt;span class=&quot;label primary&quot;&gt;Windows&lt;/span&gt; &lt;span class=&quot;label default&quot;&gt;Oracle&lt;/span&gt;
    
    </summary>
    
      <category term="服务器" scheme="http://pygo2.top/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
      <category term="Oracle" scheme="http://pygo2.top/tags/Oracle/"/>
    
      <category term="部署教程系列" scheme="http://pygo2.top/tags/%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Windows Server2012R2安装TOMCAT</title>
    <link href="http://pygo2.top/articles/2013/"/>
    <id>http://pygo2.top/articles/2013/</id>
    <published>2022-07-21T15:15:51.000Z</published>
    <updated>2022-07-21T15:15:51.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_tomcat.jpeg" alt></p><blockquote class="blockquote-center"><p>Windows安装Tomcat7与配置</p></blockquote><span class="label primary">Tomcat</span> <span class="label info">Windows</span><a id="more"></a><hr><h4 id="版本说明"><a href="#版本说明" class="headerlink" title="版本说明"></a>版本说明</h4><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">版本</th></tr></thead><tbody><tr><td style="text-align:center">服务器系统</td><td style="text-align:center">Windows Server2012 R2 Standard</td></tr><tr><td style="text-align:center">Tomcat</td><td style="text-align:center">7</td></tr></tbody></table><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>1、打开Tomcat下载地址，根据项目选择对应的版本进行下载，本文选择Tomcat7：<br><a href="https://archive.apache.org/dist/tomcat/" target="_blank" rel="noopener">https://archive.apache.org/dist/tomcat/</a><br><img src="581662566099_.pic.jpg" alt></p><p>2、选择bin，进入之后会有各种版本，本文选择7.0.99最后一个7版本<br><img src="591662566115_.pic.jpg" alt></p><p>3、Windows版本，下载的时候根据安装系统选择对应的版本、位数，本文选择了：apache-tomcat-7.0.99-windows-x64.zip<br>这种包的好处在于不用安装，直接能用，也可以选择exe安装版本。<br><img src="601662566140_.pic.jpg" alt></p><p>4、下载好之后，直接copy到服务器，直接解压放在D盘根目录。<br>建议：安装的路径选择英文路径。<br><img src="611662566156_.pic.jpg" alt></p><p>5、环境变量配置<br>安装以后需要进行环境变量配置。<br>5.1 我的电脑（右键）-&gt;选择属性-&gt;高级系统设置-&gt;环境变量。<br><img src="621662566171_.pic.jpg" alt></p><p>5.2 环境变量配置<br>5.2.1 新建CATALINA_HOME变量<br>变量名：CATALINA_HOME<br>变量值：Tomcat安装的绝对路径（D:\apache-tomcat-7.0.99）<br><img src="631662566186_.pic.jpg" alt></p><p>5.2.2 修改Path变量<br>PATH变量在末尾添加：;%CATALINA_HOME%\bin</p><p>6 测试变量<br>打开cmd窗口（win+R），输入echo %CATALINA_HOME%，如果是Tomcat安装路径，否则就是环境变量配置问题。<br><img src="641662566202_.pic.jpg" alt></p><p>7 启动Tomcat<br>7.1 进入到Tomcat安装路径下的bin目录<br>7.2 shift + 右键-&gt;选择-&gt;在此文件夹打开命令窗口<br><img src="651662566218_.pic.jpg" alt></p><p>7.3 输入startup.bat，启动tomcat<br><img src="661662566262_.pic.jpg" alt></p><p>7.4 打开浏览器：127.0.0.7:8080，出现tomcat服务<br><img src="671662566275_.pic.jpg" alt></p><h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><blockquote><p>1、cmd控制台乱码</p></blockquote><p>1.1 Tomcat安装路径 -&gt; conf -&gt; logging.properties<br><img src="681662566322_.pic.jpg" alt><br>修改以下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># java.util.logging.ConsoleHandler.encoding = UTF-8</span><br><span class="line">java.util.logging.ConsoleHandler.encoding = CBK</span><br></pre></td></tr></table></figure></p><p>1.2 重启Tomcat，解决乱码问题<br>乱码解析：<br>Cmd控制台编码与Tomcat日志编码不一致，查看cmd控制台编码：<br><img src="691662566345_.pic.jpg" alt><br>cmd控制台为GBK编码，Tomcat日志编码默认UTF-8编码，统一编码就解决了</p><blockquote><p>2、Tomcat修改内存</p></blockquote><p>在部署PSA4.3.4系统运行后，发现系统Tomcat控制台报错：<br>java.lang.OutOfMemoryError：PermGen space，意思就是内存不足，<br>由于Windows服务器主要用来做应用服务所用，所以手动分配Tomcat内存大小。</p><p>2.1 Windows找到D:\apache-tomcat-7.0.99\bin下的catalina.bat文件<br>（Linux：D:\apache-tomcat-7.0.99\bin\catalina.sh文件）<br><img src="701662566387_.pic.jpg" alt></p><p>2.2 用notepad打开，在111行setlocal后面加上：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set JAVA_OPTS=%JAVA_OPTS% -server -XX:PermSize=8192M -XX:MaxPermSize=8192M</span><br><span class="line">8G</span><br></pre></td></tr></table></figure></p><p>服务器总大小为32G，就一个tomcat，分的大了点，根据服务器项目情况可以适当调整。<br>不过，Xms与Xmx参数之间的差值建议不要太大，不然会造成内存浪费，这里设置相等。<br>JAVA_OPTS配置文件上面搜索JAVA_OPTS，有说明。<br><img src="711662566416_.pic.jpg" alt></p><p>2.3 重启Tomcat解决OutOfMemoryError</p><div class="post_cus_note"> =========== END =========== </div><h4 id="部署教程系列"><a href="#部署教程系列" class="headerlink" title="部署教程系列"></a>部署教程系列</h4><ul><li>LINUX+ORACLE部署安装：<a href="http://pygo2.top/articles/40987/">http://pygo2.top/articles/40987/</a></li><li>Linux安装JAVA1.7与配置：<a href="http://pygo2.top/articles/13502/">http://pygo2.top/articles/13502/</a></li><li>Windows安装JAVA1.7与配置：<a href="http://pygo2.top/articles/1151/">http://pygo2.top/articles/1151/</a></li><li>Windows安装Tomcat7与配置：<a href="http://pygo2.top/articles/2013/">http://pygo2.top/articles/2013/</a></li><li>Windows安装PLSQL与配置：<a href="http://pygo2.top/articles/47618/">http://pygo2.top/articles/47618/</a></li></ul><font size="6.5" color="red">部署系列持续更新中。。。。。。</font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_tomcat.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;Windows安装Tomcat7与配置&lt;/p&gt;
&lt;/blockquote&gt;
&lt;span class=&quot;label primary&quot;&gt;Tomcat&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;Windows&lt;/span&gt;
    
    </summary>
    
      <category term="服务器" scheme="http://pygo2.top/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
      <category term="部署教程系列" scheme="http://pygo2.top/tags/%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B%E7%B3%BB%E5%88%97/"/>
    
      <category term="Tomcat" scheme="http://pygo2.top/tags/Tomcat/"/>
    
  </entry>
  
  <entry>
    <title>Windows Server2012R2安装JAVA</title>
    <link href="http://pygo2.top/articles/1151/"/>
    <id>http://pygo2.top/articles/1151/</id>
    <published>2022-07-12T15:35:44.000Z</published>
    <updated>2022-07-12T15:35:44.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_java_2.jpeg" alt></p><blockquote class="blockquote-center"><p>Windows安装JAVA1.7与配置</p></blockquote><span class="label default">Java</span> <span class="label info">Windows</span><a id="more"></a><hr><h4 id="版本说明"><a href="#版本说明" class="headerlink" title="版本说明"></a>版本说明</h4><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">版本</th></tr></thead><tbody><tr><td style="text-align:center">服务器系统</td><td style="text-align:center">Windows Server2012 R2 Standard</td></tr><tr><td style="text-align:center">Java</td><td style="text-align:center">1.7</td></tr></tbody></table><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>1、打开Java下载地址，找到Java7SE（标准版），进行下载：<br><a href="https://www.oracle.com/java/technologies/javase/javase7-archive-downloads.html" target="_blank" rel="noopener">https://www.oracle.com/java/technologies/javase/javase7-archive-downloads.html</a><br>Windows版本，下载的时候根据安装系统选择对应的版本、位数：<br><img src="511662565784_.pic.jpg" alt></p><p>2、下载好之后，直接copy到服务器，进行安装。<br>建议：安装的路径选择英文路径。<br>安装过程很简单，安装后截图：<br><img src="521662565839_.pic.jpg" alt></p><p>3、环境变量配置<br>安装以后需要进行环境变量配置。<br>3.1 我的电脑（右键）-&gt;选择属性-&gt;高级系统设置-&gt;环境变量。<br><img src="531662565857_.pic.jpg" alt></p><p>3.2 环境变量配置<br>3.3.1 新建JAVA_HOME变量<br>变量名：JAVA_HOME<br>变量值：JDK安装的绝对路径（D:\Program Files\Java\jdk1.7.0_17）<br><img src="541662565884_.pic.jpg" alt></p><p>3.3.2 新建CLASSPATH变量<br>变量名：CLASSPATH<br>变量值：.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;<br>变量值前面是.【英文点】<br>变量后面是;【英文分号】<br><img src="551662565901_.pic.jpg" alt></p><p>3.3.3 修改Path变量<br>第三步：<br>新建两条路径:<br>;%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin;<br><img src="561662565918_.pic.jpg" alt></p><p>4 测试<br>打开cmd窗口（win+R），输入java，如果是以下提示安装成功，否则就是环境变量配置问题。<br><img src="571662565933_.pic.jpg" alt></p><div class="post_cus_note"> =========== END =========== </div><h4 id="部署教程系列"><a href="#部署教程系列" class="headerlink" title="部署教程系列"></a>部署教程系列</h4><ul><li>LINUX+ORACLE部署安装：<a href="http://pygo2.top/articles/40987/">http://pygo2.top/articles/40987/</a></li><li>Linux安装JAVA1.7与配置：<a href="http://pygo2.top/articles/13502/">http://pygo2.top/articles/13502/</a></li><li>Windows安装JAVA1.7与配置：<a href="http://pygo2.top/articles/1151/">http://pygo2.top/articles/1151/</a></li><li>Windows安装Tomcat7与配置：<a href="http://pygo2.top/articles/2013/">http://pygo2.top/articles/2013/</a></li><li>Windows安装PLSQL与配置：<a href="http://pygo2.top/articles/47618/">http://pygo2.top/articles/47618/</a></li></ul><font size="6.5" color="red">部署系列持续更新中。。。。。。</font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_java_2.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;Windows安装JAVA1.7与配置&lt;/p&gt;
&lt;/blockquote&gt;
&lt;span class=&quot;label default&quot;&gt;Java&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;Windows&lt;/span&gt;
    
    </summary>
    
      <category term="服务器" scheme="http://pygo2.top/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
      <category term="部署教程系列" scheme="http://pygo2.top/tags/%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B%E7%B3%BB%E5%88%97/"/>
    
      <category term="Java" scheme="http://pygo2.top/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Redhat7.6安装JAVA</title>
    <link href="http://pygo2.top/articles/13502/"/>
    <id>http://pygo2.top/articles/13502/</id>
    <published>2022-07-05T14:15:24.000Z</published>
    <updated>2022-07-05T14:15:24.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_java_1.jpeg" alt></p><blockquote class="blockquote-center"><p>Redhat7.6安装JAVA1.7与配置</p></blockquote><span class="label primary">Java</span> <span class="label info">Redhat7</span><a id="more"></a><hr><h4 id="版本说明"><a href="#版本说明" class="headerlink" title="版本说明"></a>版本说明</h4><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">版本</th></tr></thead><tbody><tr><td style="text-align:center">服务器系统</td><td style="text-align:center">Red Hat Enterprise Linux Server release 7.6</td></tr><tr><td style="text-align:center">Java</td><td style="text-align:center">1.7</td></tr></tbody></table><p>Linux安装方式本教程介绍2种。</p><h4 id="YUM安装"><a href="#YUM安装" class="headerlink" title="YUM安装"></a>YUM安装</h4><p>方式一：Yum安装</p><p>1.查询java版本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum search java</span><br></pre></td></tr></table></figure></p><p><img src="461662564886_.pic.jpg" alt></p><p>2.安装指定版本：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install java-1.7.0-openjdk.x86_64</span><br></pre></td></tr></table></figure></p><ul><li>参数-y：yes，一路安装，不用交互</li><li>参数install：安装</li></ul><p>配置在后面统一说明。</p><h4 id="源码安装"><a href="#源码安装" class="headerlink" title="源码安装"></a>源码安装</h4><p>方式二：源码安装</p><p>1、打开Java下载地址，找到Java7SE（标准版），进行下载：<br><a href="https://www.oracle.com/java/technologies/javase/javase7-archive-downloads.html" target="_blank" rel="noopener">https://www.oracle.com/java/technologies/javase/javase7-archive-downloads.html</a><br>Linux版本，下载的时候根据安装系统选择对应的版本、位数：<br><img src="471662565026_.pic.jpg" alt></p><p>2、下载好之后，使用连接工具的文件传输功能把源码Java传输到服务器。<br><img src="481662565060_.pic.jpg" alt></p><p>3、创建Java安装目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir /usr/local/java</span><br></pre></td></tr></table></figure></p><p><img src="491662565089_.pic.jpg" alt></p><p>4、解压Java源码到建立的Java安装目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf jdk-7u80-linux-x64.tar.gz -C /usr/local/java</span><br></pre></td></tr></table></figure></p><p>参数说明 ：</p><ul><li>-zxvf 不解释了。</li><li>-C不常用，解释一下：代表切换目录，change dir</li></ul><h4 id="环境变量配置"><a href="#环境变量配置" class="headerlink" title="环境变量配置"></a>环境变量配置</h4><p>以上的安装方式都需要配置环境变量，操作如下：<br>1、打开/etc/profile文件，加入以下配置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line"># -------------------------------------------------------------------</span><br><span class="line"># java set environment</span><br><span class="line">JAVA_HOME=/usr/local/java/jdk1.7.0_80</span><br><span class="line">JRE_HOME=$JAVA_HOME/jre</span><br><span class="line">CLASS_PATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib</span><br><span class="line">PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin</span><br><span class="line">export JAVA_HOME</span><br><span class="line">export JRE_HOME</span><br><span class="line">export CLASS_PATH</span><br><span class="line">export PATH</span><br><span class="line">#--------------------------------------------------------------------</span><br><span class="line">:wq 保存</span><br></pre></td></tr></table></figure></p><ul><li>JAVA_HOME：Java安装路径</li><li>JRE_HOME：Jre安装路径</li><li>CLASS_PATH：Java class path</li></ul><p>2、变量生效<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure></p><p>3、添加软连接，是命令在bin下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/local/java/jdk1.7.0_80/bin/java /usr/local/bin/java</span><br></pre></td></tr></table></figure></p><p>4、测试Java命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure></p><p><img src="501662565254_.pic.jpg" alt></p><div class="post_cus_note"> =========== END =========== </div><h4 id="部署教程系列"><a href="#部署教程系列" class="headerlink" title="部署教程系列"></a>部署教程系列</h4><ul><li>LINUX+ORACLE部署安装：<a href="http://pygo2.top/articles/40987/">http://pygo2.top/articles/40987/</a></li><li>Linux安装JAVA1.7与配置：<a href="http://pygo2.top/articles/13502/">http://pygo2.top/articles/13502/</a></li><li>Windows安装JAVA1.7与配置：<a href="http://pygo2.top/articles/1151/">http://pygo2.top/articles/1151/</a></li><li>Windows安装Tomcat7与配置：<a href="http://pygo2.top/articles/2013/">http://pygo2.top/articles/2013/</a></li><li>Windows安装PLSQL与配置：<a href="http://pygo2.top/articles/47618/">http://pygo2.top/articles/47618/</a></li></ul><font size="6.5" color="red">部署系列持续更新中。。。。。。</font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_java_1.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;Redhat7.6安装JAVA1.7与配置&lt;/p&gt;
&lt;/blockquote&gt;
&lt;span class=&quot;label primary&quot;&gt;Java&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;Redhat7&lt;/span&gt;
    
    </summary>
    
      <category term="服务器" scheme="http://pygo2.top/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
      <category term="部署教程系列" scheme="http://pygo2.top/tags/%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B%E7%B3%BB%E5%88%97/"/>
    
      <category term="Java" scheme="http://pygo2.top/tags/Java/"/>
    
      <category term="Linux" scheme="http://pygo2.top/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>DB2数据库表空间操作</title>
    <link href="http://pygo2.top/articles/5556/"/>
    <id>http://pygo2.top/articles/5556/</id>
    <published>2022-06-30T14:56:11.000Z</published>
    <updated>2022-06-30T14:56:11.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_db2.jpg" alt></p><div class="note primary">            <p>表空间对于DB2来说，就像一个容器，数据需要灌到这个容器里面。早上去项目，发现表空间报警提示马上满了，一定要提前扩容，不然数据库数据写不进去了。对表空间操作方式有2种：ADD与RESIZE。</p>          </div><span class="label info">DB2</span> <span class="label warning">表空间</span><a id="more"></a><hr><p>本项目使用的DB29.7版本，估计不同的版本表空间扩容都差不多。</p><h4 id="扩容表空间"><a href="#扩容表空间" class="headerlink" title="扩容表空间"></a>扩容表空间</h4><p>DB2CMD中执行，先连上数据库：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">su - db2inst1</span><br><span class="line">db2 connect to ykspas3 user pas using pas</span><br></pre></td></tr></table></figure></p><blockquote><p>方式一：新增</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db2 &quot;alter tablespace TBS_IDX ADD (FILE &apos;/home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_IDX/TBS_IDX3&apos; 30G)&quot;</span><br></pre></td></tr></table></figure><p>文件改成项目对应的表空间实体文件。</p><blockquote><p>方式二：调整</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 调整【resize立马查看发生变化】</span><br><span class="line">db2 &quot;alter tablespace TBS_IDX RESIZE (file &apos;/home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_IDX/TBS_IDX2&apos; 50G)&quot;</span><br></pre></td></tr></table></figure><h4 id="表空间使用率"><a href="#表空间使用率" class="headerlink" title="表空间使用率"></a>表空间使用率</h4><p>直接上SQL：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">tbsp_id AS ID,</span><br><span class="line">--tbsp_create_time AS CREATE_TIME,</span><br><span class="line">tbsp_name as NAME,</span><br><span class="line">tbsp_content_type AS TYPE,</span><br><span class="line">tbsp_state AS STATE,</span><br><span class="line">sum(tbsp_total_size_kb)/1024 AS TOTAL_MB,</span><br><span class="line">    sum(tbsp_used_size_kb)/1024 AS USED_MB,</span><br><span class="line">    sum(tbsp_free_size_kb)/1024 AS FREE_MB,</span><br><span class="line">    tbsp_page_size AS PAGE_SIZE</span><br><span class="line">FROM SYSIBMADM.TBSP_UTILIZATION</span><br><span class="line">--WHERE tbsp_name LIKE &apos;TBS_%&apos;</span><br><span class="line">GROUP BY tbsp_id, tbsp_create_time, tbsp_name, tbsp_content_type, tbsp_state, tbsp_page_size</span><br><span class="line">ORDER BY tbsp_name</span><br></pre></td></tr></table></figure></p><p><img src="tablespace-sql.png" alt></p><h4 id="其他查询表空间SQL"><a href="#其他查询表空间SQL" class="headerlink" title="其他查询表空间SQL"></a>其他查询表空间SQL</h4><blockquote><p>查看表空间</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-- TBSP_UTILIZATION</span><br><span class="line">SELECT * FROM SYSIBMADM.TBSP_UTILIZATION</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- SNAPTBSP</span><br><span class="line">SELECT * FROM SYSIBMADM.SNAPTBSP</span><br><span class="line"></span><br><span class="line">-- SNAPTBSP_PART</span><br><span class="line">SELECT * FROM SYSIBMADM.SNAPTBSP_PART</span><br><span class="line"></span><br><span class="line">-- SYSTABLESPACES</span><br><span class="line">SELECT * FROM SYSIBM.SYSTABLESPACES</span><br></pre></td></tr></table></figure><p>具体的区别有兴趣的可以baidu，这里作为参考SQL。</p><h4 id="查看表空间列表"><a href="#查看表空间列表" class="headerlink" title="查看表空间列表"></a>查看表空间列表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br><span class="line">1408</span><br><span class="line">1409</span><br><span class="line">1410</span><br><span class="line">1411</span><br><span class="line">1412</span><br><span class="line">1413</span><br><span class="line">1414</span><br><span class="line">1415</span><br><span class="line">1416</span><br><span class="line">1417</span><br><span class="line">1418</span><br><span class="line">1419</span><br><span class="line">1420</span><br><span class="line">1421</span><br><span class="line">1422</span><br><span class="line">1423</span><br><span class="line">1424</span><br><span class="line">1425</span><br><span class="line">1426</span><br><span class="line">1427</span><br><span class="line">1428</span><br><span class="line">1429</span><br><span class="line">1430</span><br><span class="line">1431</span><br><span class="line">1432</span><br><span class="line">1433</span><br><span class="line">1434</span><br><span class="line">1435</span><br><span class="line">1436</span><br><span class="line">1437</span><br><span class="line">1438</span><br><span class="line">1439</span><br><span class="line">1440</span><br><span class="line">1441</span><br><span class="line">1442</span><br><span class="line">1443</span><br><span class="line">1444</span><br><span class="line">1445</span><br><span class="line">1446</span><br><span class="line">1447</span><br><span class="line">1448</span><br><span class="line">1449</span><br><span class="line">1450</span><br><span class="line">1451</span><br><span class="line">1452</span><br><span class="line">1453</span><br><span class="line">1454</span><br><span class="line">1455</span><br><span class="line">1456</span><br><span class="line">1457</span><br><span class="line">1458</span><br><span class="line">1459</span><br><span class="line">1460</span><br><span class="line">1461</span><br><span class="line">1462</span><br><span class="line">1463</span><br><span class="line">1464</span><br><span class="line">1465</span><br><span class="line">1466</span><br><span class="line">1467</span><br><span class="line">1468</span><br><span class="line">1469</span><br><span class="line">1470</span><br><span class="line">1471</span><br><span class="line">1472</span><br><span class="line">1473</span><br><span class="line">1474</span><br><span class="line">1475</span><br><span class="line">1476</span><br><span class="line">1477</span><br><span class="line">1478</span><br><span class="line">1479</span><br><span class="line">1480</span><br><span class="line">1481</span><br><span class="line">1482</span><br><span class="line">1483</span><br><span class="line">1484</span><br><span class="line">1485</span><br><span class="line">1486</span><br><span class="line">1487</span><br><span class="line">1488</span><br><span class="line">1489</span><br><span class="line">1490</span><br><span class="line">1491</span><br><span class="line">1492</span><br><span class="line">1493</span><br><span class="line">1494</span><br><span class="line">1495</span><br><span class="line">1496</span><br><span class="line">1497</span><br><span class="line">1498</span><br><span class="line">1499</span><br><span class="line">1500</span><br><span class="line">1501</span><br><span class="line">1502</span><br><span class="line">1503</span><br><span class="line">1504</span><br><span class="line">1505</span><br><span class="line">1506</span><br><span class="line">1507</span><br><span class="line">1508</span><br><span class="line">1509</span><br><span class="line">1510</span><br><span class="line">1511</span><br><span class="line">1512</span><br><span class="line">1513</span><br><span class="line">1514</span><br><span class="line">1515</span><br><span class="line">1516</span><br><span class="line">1517</span><br><span class="line">1518</span><br><span class="line">1519</span><br><span class="line">1520</span><br><span class="line">1521</span><br><span class="line">1522</span><br><span class="line">1523</span><br><span class="line">1524</span><br><span class="line">1525</span><br><span class="line">1526</span><br><span class="line">1527</span><br><span class="line">1528</span><br><span class="line">1529</span><br><span class="line">1530</span><br><span class="line">1531</span><br><span class="line">1532</span><br><span class="line">1533</span><br><span class="line">1534</span><br><span class="line">1535</span><br><span class="line">1536</span><br><span class="line">1537</span><br><span class="line">1538</span><br><span class="line">1539</span><br><span class="line">1540</span><br><span class="line">1541</span><br><span class="line">1542</span><br><span class="line">1543</span><br><span class="line">1544</span><br><span class="line">1545</span><br><span class="line">1546</span><br></pre></td><td class="code"><pre><span class="line">db2 list tablespaces show detail</span><br><span class="line"></span><br><span class="line">           Tablespaces for Current Database</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 0</span><br><span class="line"> Name                                 = SYSCATSPACE</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Regular table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 401408</span><br><span class="line"> Useable pages                        = 401404</span><br><span class="line"> Used pages                           = 398888</span><br><span class="line"> Free pages                           = 2516</span><br><span class="line"> High water mark (pages)              = 398888</span><br><span class="line"> Page size (bytes)                    = 4096</span><br><span class="line"> Extent size (pages)                  = 4</span><br><span class="line"> Prefetch size (pages)                = 4</span><br><span class="line"> Number of containers                 = 1</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 1</span><br><span class="line"> Name                                 = SYSTOOLSTMPSPACE</span><br><span class="line"> Type                                 = System managed space</span><br><span class="line"> Contents                             = User Temporary data</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 1</span><br><span class="line"> Useable pages                        = 1</span><br><span class="line"> Used pages                           = 1</span><br><span class="line"> Free pages                           = Not applicable</span><br><span class="line"> High water mark (pages)              = Not applicable</span><br><span class="line"> Page size (bytes)                    = 4096</span><br><span class="line"> Extent size (pages)                  = 4</span><br><span class="line"> Prefetch size (pages)                = 4</span><br><span class="line"> Number of containers                 = 1</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 2</span><br><span class="line"> Name                                 = TBS_MXZ</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 58982400</span><br><span class="line"> Useable pages                        = 58982112</span><br><span class="line"> Used pages                           = 55210560</span><br><span class="line"> Free pages                           = 3771552</span><br><span class="line"> High water mark (pages)              = 55210688</span><br><span class="line"> Page size (bytes)                    = 8192</span><br><span class="line"> Extent size (pages)                  = 32</span><br><span class="line"> Prefetch size (pages)                = 256</span><br><span class="line"> Number of containers                 = 9</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 3</span><br><span class="line"> Name                                 = SYSTOOLSPACE</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 8192</span><br><span class="line"> Useable pages                        = 8188</span><br><span class="line"> Used pages                           = 620</span><br><span class="line"> Free pages                           = 7568</span><br><span class="line"> High water mark (pages)              = 620</span><br><span class="line"> Page size (bytes)                    = 4096</span><br><span class="line"> Extent size (pages)                  = 4</span><br><span class="line"> Prefetch size (pages)                = 4</span><br><span class="line"> Number of containers                 = 1</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 4</span><br><span class="line"> Name                                 = TBS_PAS</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 7864320</span><br><span class="line"> Useable pages                        = 7864256</span><br><span class="line"> Used pages                           = 2023904</span><br><span class="line"> Free pages                           = 5840352</span><br><span class="line"> High water mark (pages)              = 2023904</span><br><span class="line"> Page size (bytes)                    = 8192</span><br><span class="line"> Extent size (pages)                  = 32</span><br><span class="line"> Prefetch size (pages)                = 64</span><br><span class="line"> Number of containers                 = 2</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 5</span><br><span class="line"> Name                                 = TBS_JKSJ</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 655360</span><br><span class="line"> Useable pages                        = 655344</span><br><span class="line"> Used pages                           = 505808</span><br><span class="line"> Free pages                           = 149536</span><br><span class="line"> High water mark (pages)              = 516144</span><br><span class="line"> Page size (bytes)                    = 8192</span><br><span class="line"> Extent size (pages)                  = 16</span><br><span class="line"> Prefetch size (pages)                = 32</span><br><span class="line"> Number of containers                 = 1</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 6</span><br><span class="line"> Name                                 = TBS_JXDX</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 7864320</span><br><span class="line"> Useable pages                        = 7864256</span><br><span class="line"> Used pages                           = 4799008</span><br><span class="line"> Free pages                           = 3065248</span><br><span class="line"> High water mark (pages)              = 4799008</span><br><span class="line"> Page size (bytes)                    = 8192</span><br><span class="line"> Extent size (pages)                  = 32</span><br><span class="line"> Prefetch size (pages)                = 64</span><br><span class="line"> Number of containers                 = 2</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 7</span><br><span class="line"> Name                                 = TBS_NBZZ</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 19660800</span><br><span class="line"> Useable pages                        = 19660640</span><br><span class="line"> Used pages                           = 17532096</span><br><span class="line"> Free pages                           = 2128544</span><br><span class="line"> High water mark (pages)              = 17532096</span><br><span class="line"> Page size (bytes)                    = 8192</span><br><span class="line"> Extent size (pages)                  = 32</span><br><span class="line"> Prefetch size (pages)                = 64</span><br><span class="line"> Number of containers                 = 5</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 8</span><br><span class="line"> Name                                 = TBS_SYSTMP_32</span><br><span class="line"> Type                                 = System managed space</span><br><span class="line"> Contents                             = System Temporary data</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 9</span><br><span class="line"> Useable pages                        = 9</span><br><span class="line"> Used pages                           = 9</span><br><span class="line"> Free pages                           = Not applicable</span><br><span class="line"> High water mark (pages)              = Not applicable</span><br><span class="line"> Page size (bytes)                    = 32768</span><br><span class="line"> Extent size (pages)                  = 32</span><br><span class="line"> Prefetch size (pages)                = 32</span><br><span class="line"> Number of containers                 = 1</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 9</span><br><span class="line"> Name                                 = TBS_IDX</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 10485760</span><br><span class="line"> Useable pages                        = 10485696</span><br><span class="line"> Used pages                           = 7860992</span><br><span class="line"> Free pages                           = 2624704</span><br><span class="line"> High water mark (pages)              = 7860992</span><br><span class="line"> Page size (bytes)                    = 8192</span><br><span class="line"> Extent size (pages)                  = 32</span><br><span class="line"> Prefetch size (pages)                = 64</span><br><span class="line"> Number of containers                 = 2</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 10</span><br><span class="line"> Name                                 = TBS_LSB</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 1310720</span><br><span class="line"> Useable pages                        = 1310704</span><br><span class="line"> Used pages                           = 74496</span><br><span class="line"> Free pages                           = 1236208</span><br><span class="line"> High water mark (pages)              = 77232</span><br><span class="line"> Page size (bytes)                    = 8192</span><br><span class="line"> Extent size (pages)                  = 16</span><br><span class="line"> Prefetch size (pages)                = 32</span><br><span class="line"> Number of containers                 = 1</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 11</span><br><span class="line"> Name                                 = TBS_SYSTMP_04</span><br><span class="line"> Type                                 = System managed space</span><br><span class="line"> Contents                             = System Temporary data</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 12</span><br><span class="line"> Useable pages                        = 12</span><br><span class="line"> Used pages                           = 12</span><br><span class="line"> Free pages                           = Not applicable</span><br><span class="line"> High water mark (pages)              = Not applicable</span><br><span class="line"> Page size (bytes)                    = 4096</span><br><span class="line"> Extent size (pages)                  = 16</span><br><span class="line"> Prefetch size (pages)                = 16</span><br><span class="line"> Number of containers                 = 1</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 12</span><br><span class="line"> Name                                 = TBS_SYSTMP_08</span><br><span class="line"> Type                                 = System managed space</span><br><span class="line"> Contents                             = System Temporary data</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 1</span><br><span class="line"> Useable pages                        = 1</span><br><span class="line"> Used pages                           = 1</span><br><span class="line"> Free pages                           = Not applicable</span><br><span class="line"> High water mark (pages)              = Not applicable</span><br><span class="line"> Page size (bytes)                    = 8192</span><br><span class="line"> Extent size (pages)                  = 32</span><br><span class="line"> Prefetch size (pages)                = 32</span><br><span class="line"> Number of containers                 = 1</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 13</span><br><span class="line"> Name                                 = TBS_USERTMP_08</span><br><span class="line"> Type                                 = System managed space</span><br><span class="line"> Contents                             = User Temporary data</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 135189</span><br><span class="line"> Useable pages                        = 135189</span><br><span class="line"> Used pages                           = 135189</span><br><span class="line"> Free pages                           = Not applicable</span><br><span class="line"> High water mark (pages)              = Not applicable</span><br><span class="line"> Page size (bytes)                    = 8192</span><br><span class="line"> Extent size (pages)                  = 32</span><br><span class="line"> Prefetch size (pages)                = 32</span><br><span class="line"> Number of containers                 = 1</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 14</span><br><span class="line"> Name                                 = TBS_USERTMP_32</span><br><span class="line"> Type                                 = System managed space</span><br><span class="line"> Contents                             = User Temporary data</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"> Total pages                          = 1</span><br><span class="line"> Useable pages                        = 1</span><br><span class="line"> Used pages                           = 1</span><br><span class="line"> Free pages                           = Not applicable</span><br><span class="line"> High water mark (pages)              = Not applicable</span><br><span class="line"> Page size (bytes)                    = 32768</span><br><span class="line"> Extent size (pages)                  = 32</span><br><span class="line"> Prefetch size (pages)                = 32</span><br><span class="line"> Number of containers                 = 1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> =======================================================================================================</span><br><span class="line"></span><br><span class="line">[db2inst1@localhost PAS_BACKUP]$ db2 list tablespaces</span><br><span class="line"></span><br><span class="line">           Tablespaces for Current Database</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 0</span><br><span class="line"> Name                                 = SYSCATSPACE</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Regular table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 1</span><br><span class="line"> Name                                 = SYSTOOLSTMPSPACE</span><br><span class="line"> Type                                 = System managed space</span><br><span class="line"> Contents                             = User Temporary data</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 2</span><br><span class="line"> Name                                 = TBS_MXZ</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 3</span><br><span class="line"> Name                                 = SYSTOOLSPACE</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 4</span><br><span class="line"> Name                                 = TBS_PAS</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 5</span><br><span class="line"> Name                                 = TBS_JKSJ</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 6</span><br><span class="line"> Name                                 = TBS_JXDX</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 7</span><br><span class="line"> Name                                 = TBS_NBZZ</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 8</span><br><span class="line"> Name                                 = TBS_SYSTMP_32</span><br><span class="line"> Type                                 = System managed space</span><br><span class="line"> Contents                             = System Temporary data</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 9</span><br><span class="line"> Name                                 = TBS_IDX</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 10</span><br><span class="line"> Name                                 = TBS_LSB</span><br><span class="line"> Type                                 = Database managed space</span><br><span class="line"> Contents                             = All permanent data. Large table space.</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 11</span><br><span class="line"> Name                                 = TBS_SYSTMP_04</span><br><span class="line"> Type                                 = System managed space</span><br><span class="line"> Contents                             = System Temporary data</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 12</span><br><span class="line"> Name                                 = TBS_SYSTMP_08</span><br><span class="line"> Type                                 = System managed space</span><br><span class="line"> Contents                             = System Temporary data</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 13</span><br><span class="line"> Name                                 = TBS_USERTMP_08</span><br><span class="line"> Type                                 = System managed space</span><br><span class="line"> Contents                             = User Temporary data</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"> Tablespace ID                        = 14</span><br><span class="line"> Name                                 = TBS_USERTMP_32</span><br><span class="line"> Type                                 = System managed space</span><br><span class="line"> Contents                             = User Temporary data</span><br><span class="line"> State                                = 0x0000</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> =================================================================</span><br><span class="line">[db2inst1@localhost PAS_BACKUP]$ db2 get snapshot for tablespaces on ykspas3</span><br><span class="line"></span><br><span class="line">             Tablespace Snapshot</span><br><span class="line"></span><br><span class="line">First database connect timestamp           = 2022-08-02 08:09:18.739628</span><br><span class="line">Last reset timestamp                       =</span><br><span class="line">Snapshot timestamp                         = 2022-08-02 14:19:43.798840</span><br><span class="line">Database name                              = YKSPAS3</span><br><span class="line">Database path                              = /home/db2inst1/db2inst1/NODE0000/SQL00002/</span><br><span class="line">Input database alias                       = YKSPAS3</span><br><span class="line">Number of accessed tablespaces             = 15</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = SYSCATSPACE</span><br><span class="line">  Tablespace ID                            = 0</span><br><span class="line">  Tablespace Type                          = Database managed space</span><br><span class="line">  Tablespace Content Type                  = All permanent data. Regular table space.</span><br><span class="line">  Tablespace Page size (bytes)             = 4096</span><br><span class="line">  Tablespace Extent size (pages)           = 4</span><br><span class="line">  Automatic Prefetch size enabled          = Yes</span><br><span class="line">  Buffer pool ID currently in use          = 1</span><br><span class="line">  Buffer pool ID next startup              = 1</span><br><span class="line">  Using automatic storage                  = Yes</span><br><span class="line">  Auto-resize enabled                      = Yes</span><br><span class="line">  File system caching                      = No</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Tablespace Prefetch size (pages)         = 4</span><br><span class="line">  Total number of pages                    = 401408</span><br><span class="line">  Number of usable pages                   = 401404</span><br><span class="line">  Number of used pages                     = 398888</span><br><span class="line">  Number of pending free pages             = 0</span><br><span class="line">  Number of free pages                     = 2516</span><br><span class="line">  High water mark (pages)                  = 398888</span><br><span class="line">  Initial tablespace size (bytes)          = 33554432</span><br><span class="line">  Current tablespace size (bytes)          = 1644167168</span><br><span class="line">  Maximum tablespace size (bytes)          = NONE</span><br><span class="line">  Increase size (bytes)                    = AUTOMATIC</span><br><span class="line">  Time of last successful resize           =</span><br><span class="line">  Last resize attempt failed               = No</span><br><span class="line">  Rebalancer Mode                          = No Rebalancing</span><br><span class="line">  Storage paths have been dropped          = No</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 1</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/yksbf/db2inst1/NODE0000/YKSPAS3/T0000000/C0000000.CAT</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 401408</span><br><span class="line">      Usable Pages in Container            = 401404</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Table space map:</span><br><span class="line"></span><br><span class="line">   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers</span><br><span class="line">   Number Set    Offset  Extent      Page Stripe Stripe</span><br><span class="line">   [   0] [   0]      0  100350    401403      0 100350   0    1 (0)</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = SYSTOOLSTMPSPACE</span><br><span class="line">  Tablespace ID                            = 1</span><br><span class="line">  Tablespace Type                          = System managed space</span><br><span class="line">  Tablespace Content Type                  = User Temporary data</span><br><span class="line">  Tablespace Page size (bytes)             = 4096</span><br><span class="line">  Tablespace Extent size (pages)           = 4</span><br><span class="line">  Automatic Prefetch size enabled          = Yes</span><br><span class="line">  Buffer pool ID currently in use          = 1</span><br><span class="line">  Buffer pool ID next startup              = 1</span><br><span class="line">  Using automatic storage                  = Yes</span><br><span class="line">  File system caching                      = Yes</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Tablespace Prefetch size (pages)         = 4</span><br><span class="line">  Total number of pages                    = 0</span><br><span class="line">  Number of usable pages                   = 0</span><br><span class="line">  Number of used pages                     = 0</span><br><span class="line">  Storage paths have been dropped          = No</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 1</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/yksbf/db2inst1/NODE0000/YKSPAS3/T0000001/C0000000.UTM</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = Path</span><br><span class="line">      Total Pages in Container             = 0</span><br><span class="line">      Usable Pages in Container            = 0</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = TBS_MXZ</span><br><span class="line">  Tablespace ID                            = 2</span><br><span class="line">  Tablespace Type                          = Database managed space</span><br><span class="line">  Tablespace Content Type                  = All permanent data. Large table space.</span><br><span class="line">  Tablespace Page size (bytes)             = 8192</span><br><span class="line">  Tablespace Extent size (pages)           = 32</span><br><span class="line">  Automatic Prefetch size enabled          = No</span><br><span class="line">  Tablespace Prefetch size (pages)         = 256</span><br><span class="line">  Buffer pool ID currently in use          = 2</span><br><span class="line">  Buffer pool ID next startup              = 2</span><br><span class="line">  Using automatic storage                  = No</span><br><span class="line">  Auto-resize enabled                      = No</span><br><span class="line">  File system caching                      = No</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Total number of pages                    = 58982400</span><br><span class="line">  Number of usable pages                   = 58982112</span><br><span class="line">  Number of used pages                     = 55398464</span><br><span class="line">  Number of pending free pages             = 0</span><br><span class="line">  Number of free pages                     = 3583648</span><br><span class="line">  High water mark (pages)                  = 55398528</span><br><span class="line">  Current tablespace size (bytes)          = 483183820800</span><br><span class="line">  Rebalancer Mode                          = No Rebalancing</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 9</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ1</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ2</span><br><span class="line">      Container ID                         = 1</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ3</span><br><span class="line">      Container ID                         = 2</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ4</span><br><span class="line">      Container ID                         = 3</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ5</span><br><span class="line">      Container ID                         = 4</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ6</span><br><span class="line">      Container ID                         = 5</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 11796480</span><br><span class="line">      Usable Pages in Container            = 11796448</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ7</span><br><span class="line">      Container ID                         = 6</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 7864320</span><br><span class="line">      Usable Pages in Container            = 7864288</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ8</span><br><span class="line">      Container ID                         = 7</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 11796480</span><br><span class="line">      Usable Pages in Container            = 11796448</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/TBS_MXZ9</span><br><span class="line">      Container ID                         = 8</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 7864320</span><br><span class="line">      Usable Pages in Container            = 7864288</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Table space map:</span><br><span class="line"></span><br><span class="line">   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers</span><br><span class="line">   Number Set    Offset  Extent      Page Stripe Stripe</span><br><span class="line">   [   0] [   0]      0  983031  31457023      0 122878   0    8 (0,1,2,3,4,5,6,7)</span><br><span class="line">   [   1] [   0]      0  983034  31457119 122879 122879   0    3 (5,6,7)</span><br><span class="line">   [   2] [   0]      0 1474550  47185631 122880 245758   0    4 (5,6,7,8)</span><br><span class="line">   [   3] [   0]      0 1843190  58982111 245759 368638   0    3 (5,7,8)</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = SYSTOOLSPACE</span><br><span class="line">  Tablespace ID                            = 3</span><br><span class="line">  Tablespace Type                          = Database managed space</span><br><span class="line">  Tablespace Content Type                  = All permanent data. Large table space.</span><br><span class="line">  Tablespace Page size (bytes)             = 4096</span><br><span class="line">  Tablespace Extent size (pages)           = 4</span><br><span class="line">  Automatic Prefetch size enabled          = Yes</span><br><span class="line">  Buffer pool ID currently in use          = 1</span><br><span class="line">  Buffer pool ID next startup              = 1</span><br><span class="line">  Using automatic storage                  = Yes</span><br><span class="line">  Auto-resize enabled                      = Yes</span><br><span class="line">  File system caching                      = No</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Tablespace Prefetch size (pages)         = 4</span><br><span class="line">  Total number of pages                    = 8192</span><br><span class="line">  Number of usable pages                   = 8188</span><br><span class="line">  Number of used pages                     = 620</span><br><span class="line">  Number of pending free pages             = 0</span><br><span class="line">  Number of free pages                     = 7568</span><br><span class="line">  High water mark (pages)                  = 620</span><br><span class="line">  Initial tablespace size (bytes)          = 33554432</span><br><span class="line">  Current tablespace size (bytes)          = 33554432</span><br><span class="line">  Maximum tablespace size (bytes)          = NONE</span><br><span class="line">  Increase size (bytes)                    = AUTOMATIC</span><br><span class="line">  Time of last successful resize           =</span><br><span class="line">  Last resize attempt failed               = No</span><br><span class="line">  Rebalancer Mode                          = No Rebalancing</span><br><span class="line">  Storage paths have been dropped          = No</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 1</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/yksbf/db2inst1/NODE0000/YKSPAS3/T0000003/C0000000.LRG</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 8192</span><br><span class="line">      Usable Pages in Container            = 8188</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Table space map:</span><br><span class="line"></span><br><span class="line">   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers</span><br><span class="line">   Number Set    Offset  Extent      Page Stripe Stripe</span><br><span class="line">   [   0] [   0]      0    2046      8187      0   2046   0    1 (0)</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = TBS_PAS</span><br><span class="line">  Tablespace ID                            = 4</span><br><span class="line">  Tablespace Type                          = Database managed space</span><br><span class="line">  Tablespace Content Type                  = All permanent data. Large table space.</span><br><span class="line">  Tablespace Page size (bytes)             = 8192</span><br><span class="line">  Tablespace Extent size (pages)           = 32</span><br><span class="line">  Automatic Prefetch size enabled          = No</span><br><span class="line">  Tablespace Prefetch size (pages)         = 64</span><br><span class="line">  Buffer pool ID currently in use          = 2</span><br><span class="line">  Buffer pool ID next startup              = 2</span><br><span class="line">  Using automatic storage                  = No</span><br><span class="line">  Auto-resize enabled                      = No</span><br><span class="line">  File system caching                      = No</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Total number of pages                    = 7864320</span><br><span class="line">  Number of usable pages                   = 7864256</span><br><span class="line">  Number of used pages                     = 2028416</span><br><span class="line">  Number of pending free pages             = 0</span><br><span class="line">  Number of free pages                     = 5835840</span><br><span class="line">  High water mark (pages)                  = 2028416</span><br><span class="line">  Current tablespace size (bytes)          = 64424509440</span><br><span class="line">  Rebalancer Mode                          = No Rebalancing</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 2</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_PAS1</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_PAS2</span><br><span class="line">      Container ID                         = 1</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Table space map:</span><br><span class="line"></span><br><span class="line">   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers</span><br><span class="line">   Number Set    Offset  Extent      Page Stripe Stripe</span><br><span class="line">   [   0] [   0]      0  245757   7864255      0 122878   0    2 (0,1)</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = TBS_JKSJ</span><br><span class="line">  Tablespace ID                            = 5</span><br><span class="line">  Tablespace Type                          = Database managed space</span><br><span class="line">  Tablespace Content Type                  = All permanent data. Large table space.</span><br><span class="line">  Tablespace Page size (bytes)             = 8192</span><br><span class="line">  Tablespace Extent size (pages)           = 16</span><br><span class="line">  Automatic Prefetch size enabled          = No</span><br><span class="line">  Tablespace Prefetch size (pages)         = 32</span><br><span class="line">  Buffer pool ID currently in use          = 2</span><br><span class="line">  Buffer pool ID next startup              = 2</span><br><span class="line">  Using automatic storage                  = No</span><br><span class="line">  Auto-resize enabled                      = No</span><br><span class="line">  File system caching                      = No</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Total number of pages                    = 655360</span><br><span class="line">  Number of usable pages                   = 655344</span><br><span class="line">  Number of used pages                     = 508512</span><br><span class="line">  Number of pending free pages             = 0</span><br><span class="line">  Number of free pages                     = 146832</span><br><span class="line">  High water mark (pages)                  = 508912</span><br><span class="line">  Current tablespace size (bytes)          = 5368709120</span><br><span class="line">  Rebalancer Mode                          = No Rebalancing</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 1</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_JKSJ1</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 655360</span><br><span class="line">      Usable Pages in Container            = 655344</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Table space map:</span><br><span class="line"></span><br><span class="line">   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers</span><br><span class="line">   Number Set    Offset  Extent      Page Stripe Stripe</span><br><span class="line">   [   0] [   0]      0   40958    655343      0  40958   0    1 (0)</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = TBS_JXDX</span><br><span class="line">  Tablespace ID                            = 6</span><br><span class="line">  Tablespace Type                          = Database managed space</span><br><span class="line">  Tablespace Content Type                  = All permanent data. Large table space.</span><br><span class="line">  Tablespace Page size (bytes)             = 8192</span><br><span class="line">  Tablespace Extent size (pages)           = 32</span><br><span class="line">  Automatic Prefetch size enabled          = No</span><br><span class="line">  Tablespace Prefetch size (pages)         = 64</span><br><span class="line">  Buffer pool ID currently in use          = 2</span><br><span class="line">  Buffer pool ID next startup              = 2</span><br><span class="line">  Using automatic storage                  = No</span><br><span class="line">  Auto-resize enabled                      = No</span><br><span class="line">  File system caching                      = No</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Total number of pages                    = 7864320</span><br><span class="line">  Number of usable pages                   = 7864256</span><br><span class="line">  Number of used pages                     = 4821632</span><br><span class="line">  Number of pending free pages             = 0</span><br><span class="line">  Number of free pages                     = 3042624</span><br><span class="line">  High water mark (pages)                  = 4821632</span><br><span class="line">  Current tablespace size (bytes)          = 64424509440</span><br><span class="line">  Rebalancer Mode                          = No Rebalancing</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 2</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_JXDX1</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_JXDX2</span><br><span class="line">      Container ID                         = 1</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Table space map:</span><br><span class="line"></span><br><span class="line">   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers</span><br><span class="line">   Number Set    Offset  Extent      Page Stripe Stripe</span><br><span class="line">   [   0] [   0]      0  245757   7864255      0 122878   0    2 (0,1)</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = TBS_NBZZ</span><br><span class="line">  Tablespace ID                            = 7</span><br><span class="line">  Tablespace Type                          = Database managed space</span><br><span class="line">  Tablespace Content Type                  = All permanent data. Large table space.</span><br><span class="line">  Tablespace Page size (bytes)             = 8192</span><br><span class="line">  Tablespace Extent size (pages)           = 32</span><br><span class="line">  Automatic Prefetch size enabled          = No</span><br><span class="line">  Tablespace Prefetch size (pages)         = 64</span><br><span class="line">  Buffer pool ID currently in use          = 2</span><br><span class="line">  Buffer pool ID next startup              = 2</span><br><span class="line">  Using automatic storage                  = No</span><br><span class="line">  Auto-resize enabled                      = No</span><br><span class="line">  File system caching                      = No</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Total number of pages                    = 19660800</span><br><span class="line">  Number of usable pages                   = 19660640</span><br><span class="line">  Number of used pages                     = 17548480</span><br><span class="line">  Number of pending free pages             = 0</span><br><span class="line">  Number of free pages                     = 2112160</span><br><span class="line">  High water mark (pages)                  = 17548480</span><br><span class="line">  Current tablespace size (bytes)          = 161061273600</span><br><span class="line">  Rebalancer Mode                          = No Rebalancing</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 5</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ1</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ2</span><br><span class="line">      Container ID                         = 1</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ3</span><br><span class="line">      Container ID                         = 2</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ4</span><br><span class="line">      Container ID                         = 3</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_NBZZ5</span><br><span class="line">      Container ID                         = 4</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Table space map:</span><br><span class="line"></span><br><span class="line">   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers</span><br><span class="line">   Number Set    Offset  Extent      Page Stripe Stripe</span><br><span class="line">   [   0] [   0]      0  614394  19660639      0 122878   0    5 (0,1,2,3,4)</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = TBS_SYSTMP_32</span><br><span class="line">  Tablespace ID                            = 8</span><br><span class="line">  Tablespace Type                          = System managed space</span><br><span class="line">  Tablespace Content Type                  = System Temporary data</span><br><span class="line">  Tablespace Page size (bytes)             = 32768</span><br><span class="line">  Tablespace Extent size (pages)           = 32</span><br><span class="line">  Automatic Prefetch size enabled          = No</span><br><span class="line">  Tablespace Prefetch size (pages)         = 32</span><br><span class="line">  Buffer pool ID currently in use          = 3</span><br><span class="line">  Buffer pool ID next startup              = 3</span><br><span class="line">  Using automatic storage                  = No</span><br><span class="line">  File system caching                      = Yes</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Total number of pages                    = 0</span><br><span class="line">  Number of usable pages                   = 0</span><br><span class="line">  Number of used pages                     = 0</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 1</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_TMP/TBS_SYSTMP_32</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = Path</span><br><span class="line">      Total Pages in Container             = 0</span><br><span class="line">      Usable Pages in Container            = 0</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = TBS_IDX</span><br><span class="line">  Tablespace ID                            = 9</span><br><span class="line">  Tablespace Type                          = Database managed space</span><br><span class="line">  Tablespace Content Type                  = All permanent data. Large table space.</span><br><span class="line">  Tablespace Page size (bytes)             = 8192</span><br><span class="line">  Tablespace Extent size (pages)           = 32</span><br><span class="line">  Automatic Prefetch size enabled          = No</span><br><span class="line">  Tablespace Prefetch size (pages)         = 64</span><br><span class="line">  Buffer pool ID currently in use          = 2</span><br><span class="line">  Buffer pool ID next startup              = 2</span><br><span class="line">  Using automatic storage                  = No</span><br><span class="line">  Auto-resize enabled                      = No</span><br><span class="line">  File system caching                      = No</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Total number of pages                    = 10485760</span><br><span class="line">  Number of usable pages                   = 10485696</span><br><span class="line">  Number of used pages                     = 7891584</span><br><span class="line">  Number of pending free pages             = 0</span><br><span class="line">  Number of free pages                     = 2594112</span><br><span class="line">  High water mark (pages)                  = 7891584</span><br><span class="line">  Current tablespace size (bytes)          = 85899345920</span><br><span class="line">  Rebalancer Mode                          = No Rebalancing</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 2</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_IDX/TBS_IDX1</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 3932160</span><br><span class="line">      Usable Pages in Container            = 3932128</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_IDX/TBS_IDX2</span><br><span class="line">      Container ID                         = 1</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 6553600</span><br><span class="line">      Usable Pages in Container            = 6553568</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Table space map:</span><br><span class="line"></span><br><span class="line">   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers</span><br><span class="line">   Number Set    Offset  Extent      Page Stripe Stripe</span><br><span class="line">   [   0] [   0]      0  245757   7864255      0 122878   0    2 (0,1)</span><br><span class="line">   [   1] [   0]      0  327677  10485695 122879 204798   0    1 (1)</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = TBS_LSB</span><br><span class="line">  Tablespace ID                            = 10</span><br><span class="line">  Tablespace Type                          = Database managed space</span><br><span class="line">  Tablespace Content Type                  = All permanent data. Large table space.</span><br><span class="line">  Tablespace Page size (bytes)             = 8192</span><br><span class="line">  Tablespace Extent size (pages)           = 16</span><br><span class="line">  Automatic Prefetch size enabled          = No</span><br><span class="line">  Tablespace Prefetch size (pages)         = 32</span><br><span class="line">  Buffer pool ID currently in use          = 2</span><br><span class="line">  Buffer pool ID next startup              = 2</span><br><span class="line">  Using automatic storage                  = No</span><br><span class="line">  Auto-resize enabled                      = No</span><br><span class="line">  File system caching                      = No</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Total number of pages                    = 1310720</span><br><span class="line">  Number of usable pages                   = 1310704</span><br><span class="line">  Number of used pages                     = 74560</span><br><span class="line">  Number of pending free pages             = 0</span><br><span class="line">  Number of free pages                     = 1236144</span><br><span class="line">  High water mark (pages)                  = 77232</span><br><span class="line">  Current tablespace size (bytes)          = 10737418240</span><br><span class="line">  Rebalancer Mode                          = No Rebalancing</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 1</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_DATA/TBS_LSB1</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = File (extent sized tag)</span><br><span class="line">      Total Pages in Container             = 1310720</span><br><span class="line">      Usable Pages in Container            = 1310704</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Table space map:</span><br><span class="line"></span><br><span class="line">   Range  Stripe Stripe  Max         Max  Start  End    Adj.   Containers</span><br><span class="line">   Number Set    Offset  Extent      Page Stripe Stripe</span><br><span class="line">   [   0] [   0]      0   81918   1310703      0  81918   0    1 (0)</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = TBS_SYSTMP_04</span><br><span class="line">  Tablespace ID                            = 11</span><br><span class="line">  Tablespace Type                          = System managed space</span><br><span class="line">  Tablespace Content Type                  = System Temporary data</span><br><span class="line">  Tablespace Page size (bytes)             = 4096</span><br><span class="line">  Tablespace Extent size (pages)           = 16</span><br><span class="line">  Automatic Prefetch size enabled          = No</span><br><span class="line">  Tablespace Prefetch size (pages)         = 16</span><br><span class="line">  Buffer pool ID currently in use          = 1</span><br><span class="line">  Buffer pool ID next startup              = 1</span><br><span class="line">  Using automatic storage                  = No</span><br><span class="line">  File system caching                      = Yes</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Total number of pages                    = 0</span><br><span class="line">  Number of usable pages                   = 0</span><br><span class="line">  Number of used pages                     = 0</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 1</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_TMP/TBS_SYSTMP_04</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = Path</span><br><span class="line">      Total Pages in Container             = 0</span><br><span class="line">      Usable Pages in Container            = 0</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = TBS_SYSTMP_08</span><br><span class="line">  Tablespace ID                            = 12</span><br><span class="line">  Tablespace Type                          = System managed space</span><br><span class="line">  Tablespace Content Type                  = System Temporary data</span><br><span class="line">  Tablespace Page size (bytes)             = 8192</span><br><span class="line">  Tablespace Extent size (pages)           = 32</span><br><span class="line">  Automatic Prefetch size enabled          = No</span><br><span class="line">  Tablespace Prefetch size (pages)         = 32</span><br><span class="line">  Buffer pool ID currently in use          = 2</span><br><span class="line">  Buffer pool ID next startup              = 2</span><br><span class="line">  Using automatic storage                  = No</span><br><span class="line">  File system caching                      = Yes</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Total number of pages                    = 0</span><br><span class="line">  Number of usable pages                   = 0</span><br><span class="line">  Number of used pages                     = 0</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 1</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_TMP/TBS_SYSTMP_08</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = Path</span><br><span class="line">      Total Pages in Container             = 0</span><br><span class="line">      Usable Pages in Container            = 0</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = TBS_USERTMP_08</span><br><span class="line">  Tablespace ID                            = 13</span><br><span class="line">  Tablespace Type                          = System managed space</span><br><span class="line">  Tablespace Content Type                  = User Temporary data</span><br><span class="line">  Tablespace Page size (bytes)             = 8192</span><br><span class="line">  Tablespace Extent size (pages)           = 32</span><br><span class="line">  Automatic Prefetch size enabled          = No</span><br><span class="line">  Tablespace Prefetch size (pages)         = 32</span><br><span class="line">  Buffer pool ID currently in use          = 2</span><br><span class="line">  Buffer pool ID next startup              = 2</span><br><span class="line">  Using automatic storage                  = No</span><br><span class="line">  File system caching                      = Yes</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Total number of pages                    = 0</span><br><span class="line">  Number of usable pages                   = 0</span><br><span class="line">  Number of used pages                     = 0</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 1</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_TMP/TBS_USERTMP_08</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = Path</span><br><span class="line">      Total Pages in Container             = 0</span><br><span class="line">      Usable Pages in Container            = 0</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tablespace name                            = TBS_USERTMP_32</span><br><span class="line">  Tablespace ID                            = 14</span><br><span class="line">  Tablespace Type                          = System managed space</span><br><span class="line">  Tablespace Content Type                  = User Temporary data</span><br><span class="line">  Tablespace Page size (bytes)             = 32768</span><br><span class="line">  Tablespace Extent size (pages)           = 32</span><br><span class="line">  Automatic Prefetch size enabled          = No</span><br><span class="line">  Tablespace Prefetch size (pages)         = 32</span><br><span class="line">  Buffer pool ID currently in use          = 3</span><br><span class="line">  Buffer pool ID next startup              = 3</span><br><span class="line">  Using automatic storage                  = No</span><br><span class="line">  File system caching                      = Yes</span><br><span class="line">  Tablespace State                         = 0x&apos;00000000&apos;</span><br><span class="line">   Detailed explanation:</span><br><span class="line">     Normal</span><br><span class="line">  Total number of pages                    = 0</span><br><span class="line">  Number of usable pages                   = 0</span><br><span class="line">  Number of used pages                     = 0</span><br><span class="line">  Minimum Recovery Time                    =</span><br><span class="line">  Number of quiescers                      = 0</span><br><span class="line">  Number of containers                     = 1</span><br><span class="line"></span><br><span class="line">  Container Name                           = /home/db2inst1/YKSPAS3/PAS_DATA/PAS_SPACE_TMP/TBS_USERTMP_32</span><br><span class="line">      Container ID                         = 0</span><br><span class="line">      Container Type                       = Path</span><br><span class="line">      Total Pages in Container             = 0</span><br><span class="line">      Usable Pages in Container            = 0</span><br><span class="line">      Stripe Set                           = 0</span><br><span class="line">      Container is accessible              = Yes</span><br><span class="line"></span><br><span class="line">  Buffer pool data logical reads           = Not Collected</span><br><span class="line">  Buffer pool data physical reads          = Not Collected</span><br><span class="line">  Buffer pool temporary data logical reads   = Not Collected</span><br><span class="line">  Buffer pool temporary data physical reads  = Not Collected</span><br><span class="line">  Asynchronous pool data page reads        = Not Collected</span><br><span class="line">  Buffer pool data writes                  = Not Collected</span><br><span class="line">  Asynchronous pool data page writes       = Not Collected</span><br><span class="line">  Buffer pool index logical reads          = Not Collected</span><br><span class="line">  Buffer pool index physical reads         = Not Collected</span><br><span class="line">  Buffer pool temporary index logical reads  = Not Collected</span><br><span class="line">  Buffer pool temporary index physical reads = Not Collected</span><br><span class="line">  Asynchronous pool index page reads       = Not Collected</span><br><span class="line">  Buffer pool index writes                 = Not Collected</span><br><span class="line">  Asynchronous pool index page writes      = Not Collected</span><br><span class="line">  Total buffer pool read time (millisec)   = Not Collected</span><br><span class="line">  Total buffer pool write time (millisec)  = Not Collected</span><br><span class="line">  Total elapsed asynchronous read time     = Not Collected</span><br><span class="line">  Total elapsed asynchronous write time    = Not Collected</span><br><span class="line">  Asynchronous data read requests          = Not Collected</span><br><span class="line">  Asynchronous index read requests         = Not Collected</span><br><span class="line">  No victim buffers available              = Not Collected</span><br><span class="line">  Direct reads                             = Not Collected</span><br><span class="line">  Direct writes                            = Not Collected</span><br><span class="line">  Direct read requests                     = Not Collected</span><br><span class="line">  Direct write requests                    = Not Collected</span><br><span class="line">  Direct reads elapsed time (ms)           = Not Collected</span><br><span class="line">  Direct write elapsed time (ms)           = Not Collected</span><br><span class="line">  Number of files closed                   = Not Collected</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_db2.jpg&quot; alt&gt;&lt;/p&gt;
&lt;div class=&quot;note primary&quot;&gt;
            &lt;p&gt;表空间对于DB2来说，就像一个容器，数据需要灌到这个容器里面。早上去项目，发现表空间报警提示马上满了，一定要提前扩容，不然数据库数据写不进去了。对表空间操作方式有2种：ADD与RESIZE。&lt;/p&gt;
          &lt;/div&gt;
&lt;span class=&quot;label info&quot;&gt;DB2&lt;/span&gt; &lt;span class=&quot;label warning&quot;&gt;表空间&lt;/span&gt;
    
    </summary>
    
      <category term="数据库" scheme="http://pygo2.top/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="DB2" scheme="http://pygo2.top/tags/DB2/"/>
    
  </entry>
  
  <entry>
    <title>DB2数据库SQLCODE速查对应表</title>
    <link href="http://pygo2.top/articles/36398/"/>
    <id>http://pygo2.top/articles/36398/</id>
    <published>2022-06-27T13:07:12.000Z</published>
    <updated>2022-06-27T13:07:12.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_db2.jpg" alt></p><blockquote class="blockquote-center"><p>SQLCODE速查表</p></blockquote><span class="label primary">DB2</span> <span class="label info">SQLCODE</span><a id="more"></a><hr><table><thead><tr><th>sqlcode</th><th>sqlstate</th><th>DB2错误信息（按sqlcode排序）</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>SQL语句成功完成</td></tr><tr><td></td><td>01xxx</td><td>SQL语句成功完成，但是有警告</td></tr><tr><td>12</td><td>1545</td><td>未限定的列名被解释为一个有相互关系的引用</td></tr><tr><td>98</td><td>1568</td><td>动态SQL语句用分号结束</td></tr><tr><td>100</td><td>2000</td><td>没有找到满足SQL语句的行</td></tr><tr><td>110</td><td>1561</td><td>用DATA CAPTURE定义的表的更新操作不能发送到原来的子系统</td></tr><tr><td>111</td><td>1590</td><td>为2型索引设置了SUBPAGES语句</td></tr><tr><td>117</td><td>1525</td><td>要插入的值的个数不等于被插入表的列数</td></tr><tr><td>162</td><td>1514</td><td>指定的表空间被置为检查挂起状态</td></tr><tr><td>203</td><td>1552</td><td>使用非唯一的名字来解决命名的限定列</td></tr><tr><td>204</td><td>1532</td><td>命名的对象未在DB2中定义</td></tr><tr><td>206</td><td>1533</td><td>命名的列不在SQL语句中指定的任何表中存在</td></tr><tr><td>218</td><td>1537</td><td>因为SQL语句引用一个远程对象，不能为该SQL语句执行EXPLAIN</td></tr><tr><td>219</td><td>1532</td><td>命名的PLAN TABLE不存在</td></tr><tr><td>220</td><td>1546</td><td>不正确定义PLAN TABLE，检查命名列的定义</td></tr><tr><td>236</td><td>1005</td><td>SQLDA中的SQLN的值至少应于所描述的列的个数一样大</td></tr><tr><td>237</td><td>1594</td><td>至少有一个被描述的列应该是单值类型，因此扩展的SQLVAR条目需要另外的空间</td></tr><tr><td>238</td><td>1005</td><td>至少应有一个被描述的列是一个LOB，因此扩展的SQLVAR条目需要另外的空间</td></tr><tr><td>239</td><td>1005</td><td>至少应有一个被描述的列应是单值类型，因此扩展的SQLVAR条目需要另外的空间</td></tr><tr><td>304</td><td>1515</td><td>该值不能被分配给宿主变量，因为该值不再数据类型的范围之内</td></tr><tr><td>331</td><td>1520</td><td>不能被翻译的字符串，因此被设置为NULL</td></tr><tr><td>339</td><td>1569</td><td>由于与DB2 2.2版本的子系统连接，所以可能存在字符转换问题</td></tr><tr><td>394</td><td>1629</td><td>使用优化提示来选择访问路径</td></tr><tr><td>395</td><td>1628</td><td>设置了无效的优化提示，原因代码指定了为什么，忽略优化提示</td></tr><tr><td>402</td><td>1521</td><td>未知的位置</td></tr><tr><td>403</td><td>1522</td><td>本地不存在CREAT ALIAS对象</td></tr><tr><td>434</td><td>1608</td><td>在DB2未来发布的版本中将不支持指定的特性，IBM建议你停止使用这些特性</td></tr><tr><td>445</td><td>1004</td><td>值被CAST函数截取</td></tr><tr><td>462</td><td>01Hxx</td><td>由用户定义的函数或存储过程发出的警告</td></tr><tr><td>464</td><td>1609</td><td>命名的存储过程超出了它可能返回的查询结果集的个数限制</td></tr><tr><td>466</td><td>1610</td><td>指定由命名的存储过程返回的查询结果集的个数。成功完成</td></tr><tr><td>494</td><td>1614</td><td>由存储过程返回的结果集的个数超过了由ASSOCIATE LOCATORS语句指定的结果集定位器的个数</td></tr><tr><td>495</td><td>1616</td><td>因为倒台SQL的成本估算超出了在ELST中指定的警告阀值，所以发出警告</td></tr><tr><td>535</td><td>1591</td><td>请求一个主健的定位更新，或请求一个使用自我引出 约束的表的删除操作</td></tr><tr><td>541</td><td>1543</td><td>命名外健是一个重复的引用约束</td></tr><tr><td>551</td><td>1548</td><td>命名的授权ID缺少在命名的DB2对象上执行命名操作的权限</td></tr><tr><td>552</td><td>1542</td><td>命名的授权ID缺少执行命名操作的权限</td></tr><tr><td>558</td><td>1516</td><td>已经被授权该PUBLIC，因此WITH GRANT OPTION不可用</td></tr><tr><td>561</td><td>1523</td><td>对ALTER REFERENCES INDEX 和TRIGGER特权，PUBLIC AT ALL LOCATION无效</td></tr><tr><td>562</td><td>1560</td><td>因为GRANTEE已经拥有这些特权，所以一个或更多的特权被忽略</td></tr><tr><td>585</td><td>1625</td><td>模式名指定了不止一次</td></tr><tr><td>599</td><td>1596</td><td>没有为长字符数据类型（BLOB，CLOB和DBCLOB）建立比较函数</td></tr><tr><td>610</td><td>1566</td><td>由于建立了一个指定为DEFER YES的索引，指定的对象处于PENDING状态，或者因为使用了ALTER INDEX改变关键值的范围，所以指定的对象处于PENDING状态</td></tr><tr><td>625</td><td>1518</td><td>因为删除了主健索引，所以表定义被标注为不完整</td></tr><tr><td>626</td><td>1529</td><td>删除了加强UNIQUE约束的索引，唯一性不在被加强</td></tr><tr><td>645</td><td>1528</td><td>因为建立的索引中没有包含NULL，所以WHERE NOT NULL被忽略</td></tr><tr><td>650</td><td>1538</td><td>不能更改或者建立已命名的表为从属表</td></tr><tr><td>653</td><td>1551</td><td>在已指定的分区表空间中尚没有建立指定的分区索引，所以分区索引不可得</td></tr><tr><td>655</td><td>1597</td><td>为CREATE或ALTER STOGROUP语句指定特定或者非特定的卷ID，在DB2较新发布的版本中（版本6以后）将不再支持他们</td></tr><tr><td>658</td><td>1600</td><td>当建立目录索引时，不能指定SUBPAGES语句，SUBPAGES将被忽略，并缺省为1</td></tr><tr><td>664</td><td>1540</td><td>分区索引的限制关键字超出了最大值</td></tr><tr><td>738</td><td>1530</td><td>已命名的对象的更改可能像只读系统中对象的改变要求一样</td></tr><tr><td>799</td><td>157</td><td>SET语句中引用的特定寄存器不存在，将忽略 SET请求</td></tr><tr><td>802</td><td>1519</td><td>数据溢出或者因除法异常而引起的数据异常错误</td></tr><tr><td>806</td><td>1553</td><td>ISOLATION（RR）与LOCKSIZE PAGE 冲突</td></tr><tr><td>807</td><td>1554</td><td>由于十进制乘法导致溢出</td></tr><tr><td>863</td><td>1539</td><td>连接成功，但是只支持SBCS</td></tr><tr><td>2000</td><td>56094</td><td>SUBPAGES不等于1的1型索引不能成为数据共享环境中的缓冲池组依赖者</td></tr><tr><td>2002</td><td>1624</td><td>因为指定的缓冲池不允许超高速缓存，GNPCACHE指定被忽略</td></tr><tr><td>2007</td><td>1602</td><td>因为DB2子系统的参数禁用“提示(hiats）”所以不能指定优化提示</td></tr><tr><td>30100</td><td>1558</td><td>分布式协议错误被检测到，提供原来的SQLCODE和SQLSTATE</td></tr><tr><td>-7</td><td>42601</td><td>SQL语句中由非法字符</td></tr><tr><td>-10</td><td>42603</td><td>字符串常量非正常终止；检查到有遗漏的引号标志</td></tr><tr><td>-29</td><td>42601</td><td>需要INTO语句</td></tr><tr><td>-60</td><td>42815</td><td>某特定数据类型的长度或者标量规范无效</td></tr><tr><td>-84</td><td>42612</td><td>不能执行SQL语句，因为该语句对动态SQL无效或者对OS/390的DB2无效</td></tr><tr><td>-97</td><td>42601</td><td>在单位类型、用户自定义的函数以及过程中不能使用带有CAST的LONG VARCHAR或LONGVARGRAPHIC</td></tr><tr><td>-101</td><td>54001</td><td>SQL语句超出了已确定的DB2限制：例如，表的数目太多，语句中的字节太多</td></tr><tr><td>-102</td><td>54002</td><td>字符串常量太长</td></tr><tr><td>-103</td><td>42604</td><td>无效数学文字</td></tr><tr><td>-104</td><td>42601</td><td>SQL语句中遇到非法符号</td></tr><tr><td>-105</td><td>42604</td><td>无效的字符串格式；通常引用一个格式不正确的图形字符串</td></tr><tr><td>-107</td><td>42622</td><td>对象名太长</td></tr><tr><td>-108</td><td>42601</td><td>RENAME语句中指定的名字有错误，不能使用限定词</td></tr><tr><td>-109</td><td>42601</td><td>指定了无效语句；例如CREATE VIEW不能包含ORDER BY 语句</td></tr><tr><td>-110</td><td>42606</td><td>遇到了无效的十六进制的文字</td></tr><tr><td>-111</td><td>42901</td><td>指定的列函数没有给出列名</td></tr><tr><td>-112</td><td>42607</td><td>无效的列函数语法；列函数不能运行与其他的列函数之上</td></tr><tr><td>-113</td><td>42602</td><td>遇到无效字符</td></tr><tr><td>-114</td><td>42961</td><td>该语句的位置名称必须与当前服务器匹配，但是却没有匹配</td></tr><tr><td>-115</td><td>42601</td><td>因为比较运算符没有伴着一个表达式或者列表，遇到了无效谓词</td></tr><tr><td>-117</td><td>42802</td><td>待插入的数值的个数于被插入的行中的列数不相等</td></tr><tr><td>-118</td><td>42902</td><td>数据修改语句(UPDATE或DELETE）和FROM语句中的表和视图命名不合法</td></tr><tr><td>-119</td><td>42803</td><td>HAVING语句中的列的列表与GROUP BY语句中的列列表不匹配</td></tr><tr><td>-120</td><td>42903</td><td>不允许WHERE语句、SET语句、VALUES语句或者SET ASSIGNMENT语句引用列函数</td></tr><tr><td>-121</td><td>42701</td><td>在INSERT或UPDATE语句中，某一列被非法引用了两次</td></tr><tr><td>-122</td><td>42803</td><td>非法使用了列函数。因为没有用于一个列函数的所有列不再GROUP BY语句中</td></tr><tr><td>-123</td><td>42601</td><td>特定位置的参数必须是一个常数或者一个关键词</td></tr><tr><td>-125</td><td>42805</td><td>ORDER BY语句中指定了无效数字，该数字要么小于1要么大于选定的列数</td></tr><tr><td>-126</td><td>42829</td><td>不能为一个UPDATE语句指定ORDER BY语句</td></tr><tr><td>-127</td><td>42905</td><td>在子选择中DISTINCT只能指定一次</td></tr><tr><td>-128</td><td>42601</td><td>SQL谓词中NULL使用不当</td></tr><tr><td>-129</td><td>54004</td><td>SQL语句中包含的表多于15个</td></tr><tr><td>-130</td><td>22019</td><td>ESCAPE语句必须为一个字符</td></tr><tr><td></td><td>22025</td><td>无效的ESCAPE模式</td></tr><tr><td>-131</td><td>42818</td><td>LIKE谓词只能用于字符数据</td></tr><tr><td>-132</td><td>42824</td><td>LIKE语句、ESCAPE语句、LOCATE函数或POSSTR函数中有无效运算对象</td></tr><tr><td>-133</td><td>42906</td><td>无效相关子查询引用</td></tr><tr><td>-134</td><td>42907</td><td>大于255字节的列被不正确使用</td></tr><tr><td>-136</td><td>54005</td><td>排序关键字的长度大于4000字节</td></tr><tr><td>-137</td><td>54006</td><td>被连接的字符串太大；字符的最大值为32767；图形的最大值为16382</td></tr><tr><td>-138</td><td>22011</td><td>SUBSTR列函数的第二个或第三个操作符无效</td></tr><tr><td>-142</td><td>42612</td><td>不支持的SQL语句。该语句可能在另外的RDBMS上有效，也有可能在其他的上下文中有效（例如，VALUES只能在触发器中出现）</td></tr><tr><td>-144</td><td>58003</td><td>指定的段号无效</td></tr><tr><td>-147</td><td>42809</td><td>某一源函数不能更改。要改变源函数，必须删除该源函数并重新建立他</td></tr><tr><td>-148</td><td>42809</td><td>RENAME和ALTER无法执行。RENAME不能对视图或者活动RI.ST表重新命名。ALTER不能用于改变列的长度，因为该列参与了RI、一个用户退出程序、全局的临时表或打开DATACAPTURE CHANGES表的列</td></tr><tr><td>-150</td><td>42807</td><td>触发活动的INSERT，UPDATE或DELETE语句中指定了无效的视图更新或一个无效的转换表</td></tr><tr><td>-151</td><td>42808</td><td>试图更新一个不可更新的视图的列、一个DB2 CATALOG表的列或者一个ROWID列</td></tr><tr><td>-152</td><td>42809</td><td>DROP CHECK试图删除一个参照约束，或者DROP FOREIGN试图删除一个检查约束</td></tr><tr><td>-153</td><td>42908</td><td>无效的视图建立请求，必须为旋转列表中列出的列出的未命名的列或者重复的列提供一个名字</td></tr><tr><td>-154</td><td>42909</td><td>不能用UNION、UNION ALL或者一个远程表建立视图</td></tr><tr><td>-156</td><td>42809</td><td>在视图上建立索引是非法的，或者在ALTER TABLE，CREATE TRIGGER，DROP TABLE或LOCK TABLE语句上指定一个不是表的其他对象这是无效的</td></tr><tr><td>-157</td><td>42810</td><td>必须在FOREIGN KEY语句中指定一个表名</td></tr><tr><td>-158</td><td>42811</td><td>视图的列和选择列表中的列不相匹配</td></tr><tr><td>-159</td><td>42089</td><td>无效DROP或COMMENT ON语句</td></tr><tr><td>-160</td><td>42813</td><td>对该视图的WITH CHECK OPTION无效</td></tr><tr><td>-161</td><td>44000</td><td>正被更新的视图WITH CHECK OPTION语句使得这行不能被插入或更新</td></tr><tr><td>-164</td><td>42502</td><td>用户没有建立这个视图的权限</td></tr><tr><td>-170</td><td>42605</td><td>标量函数指定了无效的参数个数</td></tr><tr><td>-171</td><td>42815</td><td>标量函数指定了无效的数据类型长度或者无效数值</td></tr><tr><td>-173</td><td>42801</td><td>在非只读型的游标上不能指定隔离级别UR</td></tr><tr><td>-180</td><td>22007</td><td>DATE、TIME、TIMESTAMP值的字符串表示法的语法不对</td></tr><tr><td>-181</td><td>22001</td><td>不是有效的DATE、TIME、TIMESTAMP值</td></tr><tr><td>-182</td><td>42816</td><td>在算术表达式中的日期/时间值无效</td></tr><tr><td>-183</td><td>22008</td><td>在算术表达式中返回的日期/时间值的结果不在有效值的范围内</td></tr><tr><td>-184</td><td>42610</td><td>没有正确使用日期/时间值的参数标记</td></tr><tr><td>-185</td><td>57008</td><td>没有定义本定的日期/时间出口</td></tr><tr><td>-186</td><td>22505</td><td>改变本定的日期/时间出口引发这个程序的长度无效</td></tr><tr><td>-187</td><td>22506</td><td>MVS返回无效的当前日期/时间</td></tr><tr><td>-188</td><td>22503</td><td>字符串表示无效</td></tr><tr><td>-189</td><td>22522</td><td>指定的编码字符集的ID无效或没有定义</td></tr><tr><td>-190</td><td>42837</td><td>不能象所设定的那样改变（ALTER）列。只能改变（ALTER）VARCHAR列的长度</td></tr><tr><td>-191</td><td>22504</td><td>字符串中包含了无效的混合数据</td></tr><tr><td>-197</td><td>42877</td><td>当两个或多个表被联合在一起排序时，限定的列名不能在ORDER BY语句中使用</td></tr><tr><td>-198</td><td>42617</td><td>试图对空的字符串发布一个PREPARE或EXECUTE IMMEDIATE语句</td></tr><tr><td>-199</td><td>42601</td><td>SQL语句中使用了非法关键词</td></tr><tr><td>-203</td><td>42702</td><td>模糊列引用</td></tr><tr><td>-204</td><td>42704</td><td>没有定义的对象名</td></tr><tr><td>-205</td><td>42703</td><td>指定的表的列名无效</td></tr><tr><td>-206</td><td>42703</td><td>列名没有在FROM语句所引用的任何表中，或者没有在定义触发器所在的表中</td></tr><tr><td>-208</td><td>42707</td><td>不能ORDER BY指定列，应为该列不在选择列表中</td></tr><tr><td>-212</td><td>42712</td><td>指定的表名在触发器中不允许多次使用，只能使用一次</td></tr><tr><td>-214</td><td>42822</td><td>DISTINCT、ORDER BY 引起的无效表达式</td></tr><tr><td>-219</td><td>42704</td><td>因为PLAN_TABLE不存在，EXPLAIN无法执行</td></tr><tr><td>-220</td><td>55002</td><td>遇到无效的PLAN_TABLE列</td></tr><tr><td>-221</td><td>55002</td><td>如果为PLAN_TABLE定义了可供选择的列，那么，必须定义所有的列</td></tr><tr><td>-229</td><td>42708</td><td>指定的现场找不到</td></tr><tr><td>-240</td><td>428B4</td><td>LOCK TABLE语句的PART子句无效</td></tr><tr><td>-250</td><td>42718</td><td>没有定义本地位置名</td></tr><tr><td>-251</td><td>42602</td><td>记号无效</td></tr><tr><td>-300</td><td>22024</td><td>宿主变量或参数中的字符串不是以NULL为终止</td></tr><tr><td>-301</td><td>42895</td><td>无效的宿主变量数据类型</td></tr><tr><td>-302</td><td>22001</td><td>输入的变量值对指定的列无效</td></tr><tr><td></td><td>22003</td><td>输入的变量值对指定的列而言太大</td></tr><tr><td>-303</td><td>42806</td><td>因为数据类型不兼容，不能分配数值</td></tr><tr><td>-304</td><td>22003</td><td>因为数据超出了范围，不能分配数值</td></tr><tr><td>-305</td><td>22002</td><td>没有NULL指示符变量</td></tr><tr><td>-309</td><td>22512</td><td>因为引用的宿主变量被设置成NULL，所以谓词无效</td></tr><tr><td>-310</td><td>22501</td><td>十进制的宿主变量或参数包含非十进制数据</td></tr><tr><td>-311</td><td>22501</td><td>输入的宿主变量长度无效，或者时负值或者太大</td></tr><tr><td>-312</td><td>42618</td><td>没有定义宿主变量或者宿主变量不可用</td></tr><tr><td>-313</td><td>7001</td><td>宿主变量的个数不等于参数标识的个数</td></tr><tr><td>-314</td><td>42714</td><td>模糊的宿主变量引用</td></tr><tr><td>-327</td><td>22525</td><td>在最后分区的关键字范围内，不能插入行</td></tr><tr><td>-330</td><td>22021</td><td>不能成功的翻译字符串</td></tr><tr><td>-331</td><td>22021</td><td>字符串不能分配到宿主变量，因为其不能成功的被翻译</td></tr><tr><td>-332</td><td>57017</td><td>不能为两个命名的编码字符集的ID定义翻译规则</td></tr><tr><td>-333</td><td>56010</td><td>子类型无效导致翻译失败</td></tr><tr><td>-338</td><td>42972</td><td>ON语句无效，必须引用连接的列</td></tr><tr><td>-339</td><td>56082</td><td>访问DB2 2.2版本的子系统被拒绝，原因时ASCII到EBCDIC翻译不能进行</td></tr><tr><td>-350</td><td>42962</td><td>无效的大对象规范</td></tr><tr><td>-351</td><td>56084</td><td>SELECT列表中有不支持的数据类型</td></tr><tr><td>-352</td><td>56084</td><td>输入列表中有不支持的数据类型</td></tr><tr><td>-355</td><td>42993</td><td>LOB列太大，以至不能被记录在日志中</td></tr><tr><td>-372</td><td>428C1</td><td>每个表只允许有一个ROWID列</td></tr><tr><td>-390</td><td>42887</td><td>在上下文中指定的函数无效</td></tr><tr><td>-392</td><td>42855</td><td>自从前一次FETCH以来，指定游标的SQLDA已被不恰当的改变</td></tr><tr><td>-396</td><td>38505</td><td>在最后的访问过程中，视图执行SQL语句</td></tr><tr><td>-397</td><td>428D3</td><td>在某一列上不恰当的指定了GENERATED因为该列不是ROWID数据类型</td></tr><tr><td>-398</td><td>428D2</td><td>为某一个宿主变量请求LOCATOR，但是该宿主变量不是一个LOB</td></tr><tr><td>-399</td><td>22511</td><td>在INSERT语句中为ROWID列指定的值无效</td></tr><tr><td>-400</td><td>54027</td><td>在DB2编目中定义的用户自定义索引不能超过100个</td></tr><tr><td>-401</td><td>42818</td><td>算术操作符或比较操作符的操作对象不是兼容的</td></tr><tr><td>-402</td><td>42819</td><td>算术函数不能用于字符或日期时间数据</td></tr><tr><td>-404</td><td>22001</td><td>SQL语句指定的字符串太长</td></tr><tr><td>-405</td><td>42820</td><td>数值文字超出了范围</td></tr><tr><td>-406</td><td>22003</td><td>计算出的或者倒出的数值超出了范围</td></tr><tr><td>-407</td><td>23502</td><td>不能把NULL值插到定义为NOT NULL的列中</td></tr><tr><td>-408</td><td>42821</td><td>数值不能被更新或插入，因为他与列的数据类型不兼容</td></tr><tr><td>-409</td><td>42607</td><td>COUNT函数指定的运算对象无效</td></tr><tr><td>-410</td><td>42820</td><td>浮点文字笔30个字符的最大允许长度长</td></tr><tr><td>-411</td><td>56040</td><td>CURRENT SQLID使用无效</td></tr><tr><td>-412</td><td>42823</td><td>在子查询的选择列表中遇到了多个列</td></tr><tr><td>-413</td><td>22003</td><td>当转换为一个数字型数据类型时，数据溢出</td></tr><tr><td>-414</td><td>42824</td><td>LIKE谓词不能运行于用数字或日期时间类型定义的列</td></tr><tr><td>-415</td><td>42825</td><td>为UNION操作指定的选择列表不是联合兼容的</td></tr><tr><td>-416</td><td>42907</td><td>包含UNION操作符的SQL语句不允许有长的字符串列</td></tr><tr><td>-417</td><td>42609</td><td>两参数标识符作为运算对象被指定在同一谓词的两边</td></tr><tr><td>-418</td><td>42610</td><td>参数标识符使用无效</td></tr><tr><td>-419</td><td>42911</td><td>十进制除法无效</td></tr><tr><td>-420</td><td>22018</td><td>字符串自变量值不符合函数的要求</td></tr><tr><td>-421</td><td>42826</td><td>UNION操作的选择列表中没有提供相同数目的列</td></tr><tr><td>-423</td><td>0F001</td><td>为LOB或结果集定位器指定的值无效</td></tr><tr><td>-426</td><td>2D528</td><td>在不允许更新的应用服务器不允许执行COMMIT语句</td></tr><tr><td>-427</td><td>2D529</td><td>在不允许更新的应用服务器不允许执行ROLLBACK语句</td></tr><tr><td>-430</td><td>38503</td><td>在用户自定义的函数或存储过程中遇到了错误</td></tr><tr><td>-433</td><td>22001</td><td>指定的值太长</td></tr><tr><td>-435</td><td>428B3</td><td>无效的应用定义的SQLSTATE</td></tr><tr><td>-438</td><td>xxxxx</td><td>使用了RAISE_ERROR函数的应用发出了一个错误</td></tr><tr><td>-440</td><td>42884</td><td>存储过程或用户自定义函数的参数列表参数个数于预期的个数不匹配</td></tr><tr><td>-441</td><td>42601</td><td>与标量函数一起使用DISTINCT或ALL是不正确的用法</td></tr><tr><td>-443</td><td>42601</td><td>指定的外部函数返回错误的SQLSTATE</td></tr><tr><td>-444</td><td>42724</td><td>与被称为存储过程或用户自定义函数有关的程序不能找到</td></tr><tr><td>-449</td><td>42878</td><td>对存储过程或用户自定义的 函数，CREATE或ALTER语句不正确（缺失EXTERNAL NAME 子句)</td></tr><tr><td>-450</td><td>39501</td><td>存储过程或用户自定义函数写入存储器的值超过了参数声明的长度</td></tr><tr><td>-451</td><td>42815</td><td>CREATE FUNCTION中指定了不正确的数据类型</td></tr><tr><td>-453</td><td>42880</td><td>用户自定义函数中的RETURNS语句无效</td></tr><tr><td>-454</td><td>42723</td><td>指定的函数识别标记与已存在的另一函数的识别标记冲突</td></tr><tr><td>-455</td><td>42882</td><td>模式名不比配</td></tr><tr><td>-456</td><td>42710</td><td>为用户自定义函数指定的函数名已经存在</td></tr><tr><td>-457</td><td>42939</td><td>用户自定义函数或用户自定义类型正试图使用系统中定义的函数或者类型所用的名称</td></tr><tr><td>-458</td><td>42883</td><td>没有找到函数</td></tr><tr><td>-463</td><td>39001</td><td>特定的外部例程返回无效的SQLSTATE</td></tr><tr><td>-469</td><td>42886</td><td>参数定义为OUT或INOUT的CALL语句必须提供宿主变量</td></tr><tr><td>-470</td><td>39002</td><td>指定了NULL参数，但是该例程却不支持NULL</td></tr><tr><td>-471</td><td>55023</td><td>存储过程或用户自定义函数失败：提供原因代码</td></tr><tr><td>-472</td><td>24517</td><td>外部的函数程序使游标处于打开状态</td></tr><tr><td>-473</td><td>42918</td><td>用户自定义数据类型命名不能和系统定义的数据类型一样</td></tr><tr><td>-475</td><td>42866</td><td>结果类型不能被转换成RETURNS类型</td></tr><tr><td>-476</td><td>42725</td><td>在其模式中该函数不是独一无二的</td></tr><tr><td>-478</td><td>42893</td><td>不能DROP或REVOKE特定的对象，因为其他对象依赖于该对象</td></tr><tr><td>-480</td><td>51030</td><td>直到存储过程已经被CALL后，DESCRIBE PROCEDURE和ASSOCIATE LOCATORS才能被发布</td></tr><tr><td>-482</td><td>51030</td><td>存储过程不返回到任何一个定位器</td></tr><tr><td>-483</td><td>42885</td><td>CREATE FUNCTION语句中的参数个数与源函数中的参数个数不匹配</td></tr><tr><td>-487</td><td>38001</td><td>选择了NO SQL选项建立指定的存储过程或用户自定义函数，但却视图发布SQL语句</td></tr><tr><td>-491</td><td>42601</td><td>CREATE FUNCTION语句无效，因为该语句没有RETURNS语句或者因为该语句没有指定有效的SOURCE或者EXTERNAL语句</td></tr><tr><td>-492</td><td>42879</td><td>指定函数的指定参数的个数有错误</td></tr><tr><td>-495</td><td>57051</td><td>语句的估计处理器成本超出了资源限制</td></tr><tr><td>-496</td><td>51033</td><td>语句无法执行，因为当前服务器与调用存储过程的服务器不同</td></tr><tr><td>-497</td><td>54041</td><td>指定的数据库超过了32767 OBID的上限，或者CREATE DATABASE语句使之达到了32511DBID的上限</td></tr><tr><td>-499</td><td>24516</td><td>指定的游标已被分配到结果集，该结果集来自已经指定的存储过程</td></tr><tr><td>-500</td><td>24501</td><td>因为连接被破坏，WITH HOLD游标被关闭</td></tr><tr><td>-501</td><td>24501</td><td>在试图获取数据或关闭一个游标前必须打开一个游标</td></tr><tr><td>-502</td><td>24502</td><td>在没有关闭游标前不能再次打开游标</td></tr><tr><td>-503</td><td>42912</td><td>因为列在游标的FOR UPDATE OF语句中没有被指定，该游标用于获取该列，所以不能更新该列</td></tr><tr><td>-504</td><td>34000</td><td>不能引用一个游标，因为他不是定义到程序里的</td></tr><tr><td>-507</td><td>24501</td><td>在试图更新或者删除WHERE CURRENT OF前，必须打开游标</td></tr><tr><td>-508</td><td>24504</td><td>因为被引用的游标当前不是处于数据行上，所以不能被更新或删除</td></tr><tr><td>-509</td><td>42827</td><td>除了在游标上指定的那个表（该表由WHERE CURRENT OF语句引用的）以外，再也不能从别的表上更新数据</td></tr><tr><td>-510</td><td>42828</td><td>表或视图不能被修改</td></tr><tr><td>-511</td><td>42829</td><td>对不可修改的表或视图，FOR UPDATE OF语句无效</td></tr><tr><td>-512</td><td>56023</td><td>对远程对象的无效引用</td></tr><tr><td>-513</td><td>42924</td><td>一个别名不能再被定义成另外的别名</td></tr><tr><td>-514</td><td>26501</td><td>游标尚没有被准备</td></tr><tr><td>-516</td><td>26501</td><td>试图描述未准备好的SQL语句</td></tr><tr><td>-517</td><td>7005</td><td>因为SQL语句尚没有准备好，游标无效</td></tr><tr><td>-518</td><td>7003</td><td>试图执行尚没有准备好的SQL语句</td></tr><tr><td>-519</td><td>24506</td><td>当为游标的SQL语句发布一个准备语句是，游标不能是打开的</td></tr><tr><td>-525</td><td>51015</td><td>不能在已指定的程序包中执行SQL语句，因为在绑定时间内该程序包无效</td></tr><tr><td>-526</td><td>42995</td><td>在给定的上下文中，不能使用全局的临时表</td></tr><tr><td>-530</td><td>23503</td><td>对特定的约束名指定了无效的外健值</td></tr><tr><td>-531</td><td>23504</td><td>从版本5开始，父关键字的多行更新将试图删除一个外关键字依赖的父关键字值，在版本5以前，当引用主关键值外健值当前存在时，试图更新该主健值</td></tr><tr><td>-532</td><td>23504</td><td>删除操作违反了已指定的参照约束</td></tr><tr><td>-533</td><td>21501</td><td>多行插入无效，试图将多行插到自我引用的表中</td></tr><tr><td>-534</td><td>21502</td><td>可改变主健列值的更新语句不能在同一时刻用于更新多行</td></tr><tr><td>-535</td><td>21502</td><td>当从自我引用表中删除数据或者更新主健列时，不能指定WHERE CURRENT OF。不是版本5的子系统才调用该代码</td></tr><tr><td>-536</td><td>42914</td><td>因为某一特定表的参照约束存在，所以删除语句无效</td></tr><tr><td>-537</td><td>42709</td><td>在外健语句或主健语句的规范中，每个列的出现不能多于一次</td></tr><tr><td>-538</td><td>42830</td><td>无效的外健；不符合引用的表没有主健</td></tr><tr><td>-539</td><td>42888</td><td>不能定义外健，因为被引用的表没有主健</td></tr><tr><td>-540</td><td>57001</td><td>表定义不完整，直到为主健建立了唯一索引或UNIQUE语句、或者包含GENERATED BYDEFAULT属性的ROWID列</td></tr><tr><td>-542</td><td>42831</td><td>可以为空的列不允许作为主健的一部分包含在内</td></tr><tr><td>-543</td><td>23511</td><td>因为该表是指定了SET NULL删除规则的参照约束的父表而且检查约束不允许NULL，所以DELETE不能发生</td></tr><tr><td>-544</td><td>23512</td><td>不能用ALTER添加检查约束，因为已存在的某行与该检查约束冲突</td></tr><tr><td>-545</td><td>23513</td><td>INSERT或者UPDATE导致检查约束冲突</td></tr><tr><td>-546</td><td>42621</td><td>在CREATE或ALTER TABLE中指定的检查约束无效</td></tr><tr><td>-548</td><td>42621</td><td>因为指定的列而引起的检查约束无效</td></tr><tr><td>-549</td><td>42509</td><td>DYNAMICRULES（BIND）计划或程序包的无效SQL语句</td></tr><tr><td>-551</td><td>42501</td><td>用户试图对不拥有权限的特定的对象进行操作，或者表不存在</td></tr><tr><td>-552</td><td>42502</td><td>用户试图执行未被授权的操作</td></tr><tr><td>-553</td><td>42503</td><td>不能指定CURRENT SQLID，因为用户尚没有被允许改变那个ID</td></tr><tr><td>-554</td><td>42502</td><td>不能对你本身赋予一个权限</td></tr><tr><td>-555</td><td>42502</td><td>不能对你本身撤销一个权限</td></tr><tr><td>-556</td><td>42504</td><td>不能撤销用户没有拥有的权限</td></tr><tr><td>-557</td><td>42852</td><td>指定了不一致的授予或撤销关键词</td></tr><tr><td>-558</td><td>56025</td><td>为授予或撤销语句指定了无效的语句（一个或一组）</td></tr><tr><td>-559</td><td>57002</td><td>DB2权限机制已经禁用，授予或者撤销不能被发布</td></tr><tr><td>-567</td><td>42501</td><td>指定的权限ID缺少对指定的程序包的绑定权限</td></tr><tr><td>-571</td><td>25000</td><td>不允许多点更新</td></tr><tr><td>-573</td><td>42890</td><td>不能定义参照约束，因为已指定的父表中在指定的列上没有唯一健</td></tr><tr><td>-574</td><td>42864</td><td>指定的缺省与列定义冲突</td></tr><tr><td>-577</td><td>38002</td><td>试图修改用户自定义函数中的数据或者存储过程中的数据，但这些对象的建立没有选择MODIFIES SQL DATA选项</td></tr><tr><td>-579</td><td>38004</td><td>试图修改用户自定义函数中的数据或者存储过程中的数据，但这些对象的建立没有选择READ SQL DATA选项，也没有选择MODIFIES SQL DATA选项</td></tr><tr><td>-580</td><td>42625</td><td>CASE表达式中的结果表达式不能都是空的</td></tr><tr><td>-581</td><td>42804</td><td>CASE表达式中的结果表达式为不兼容的数据类型</td></tr><tr><td>-582</td><td>42625</td><td>SEARCHED－WHEN－CLAUSE中的查找条件指定了一个限定的、IN或EXISTS谓词</td></tr><tr><td>-583</td><td>42845</td><td>指定的函数失败，因为他不是决定性的，或者可能有外部动作</td></tr><tr><td>-585</td><td>42732</td><td>在当前路径中模式名不止一次出现</td></tr><tr><td>-586</td><td>42907</td><td>CURRENT PATH专用寄存器在长度上不能超过254字符</td></tr><tr><td>-587</td><td>428C6</td><td>项目引用的列表必须是同一个家族</td></tr><tr><td>-590</td><td>42734</td><td>在命名的存储过程或用户自定义的函数中的参数必须是独一无二的</td></tr><tr><td>-592</td><td>42510</td><td>没有授权权限，让你在WLM环境中建立的存储过程或者用户自定义函数</td></tr><tr><td>-601</td><td>42710</td><td>试图创建（或重命名）已经存在的对象</td></tr><tr><td>-602</td><td>54008</td><td>CREATE INDEX语句中指定的列太多</td></tr><tr><td>-603</td><td>23515</td><td>因为发现有重复值，所以不能建立唯一的索引</td></tr><tr><td>-604</td><td>42611</td><td>在CREATE或ALTER TABLE语句中的为数据类型指定的长度、精度以及标度无效</td></tr><tr><td>-607</td><td>42832</td><td>指定的INSERT、UPDATE或DELETE语句不能被发布，应为这些语句对DB2 CATLOG表执行写操作</td></tr><tr><td>-611</td><td>53088</td><td>当LOCKSIZE是TABLE或者TABLESPACE时，LOCKMAX必须为0</td></tr><tr><td>-612</td><td>42711</td><td>在同一个表、索引或试图中不允许有重复列名</td></tr><tr><td>-613</td><td>54008</td><td>主健或UNIQUE约束太长或者包含了太多的列</td></tr><tr><td>-614</td><td>54008</td><td>已经超过了索引的内部健长度的最大长度（255）限制</td></tr><tr><td>-615</td><td>55006</td><td>不能删除这个程序包，因为该程序包目前正在执行</td></tr><tr><td>-616</td><td>42893</td><td>指定的对象不能被删除，因为其他对象依赖于该对象</td></tr><tr><td>-617</td><td>56089</td><td>对于DB2版本6，1型索引无效。对于以前的版本，1型索引不能用LOCKSIZE ROW或LARGE表空间定义</td></tr><tr><td>-618</td><td>42832</td><td>对DB2 CATALOG表的请求操作时不允许的</td></tr><tr><td>-619</td><td>55011</td><td>DSNDB07不能修改，除非他先被停止了</td></tr><tr><td>-620</td><td>53001</td><td>对在DSNDB07中的表空间不允许指定该关键词</td></tr><tr><td>-621</td><td>58001</td><td>遇到了重复的DBID，遇到了系统问题</td></tr><tr><td>-622</td><td>56031</td><td>不能指定FOR MIXED DATA因为没有安装混合数据选项</td></tr><tr><td>-623</td><td>55012</td><td>不能为单一的表定义多个族索引</td></tr><tr><td>-624</td><td>42889</td><td>不能为单一的表定义多个主健</td></tr><tr><td>-625</td><td>55014</td><td>用主健定义的表要求唯一索引</td></tr><tr><td>-626</td><td>55015</td><td>不能发布ALTER语句来改变PRIQTY SECQTY或ERASE，除非先停止了表空间</td></tr><tr><td>-627</td><td>55016</td><td>不能发布ALTER语句来改变PRIQTY SECQTY或ERASE，除非先把表空间定义为使用存储器组的表空间</td></tr><tr><td>-628</td><td>42613</td><td>指定语句时相互排斥的（例如，不能分区一个分段的表空间）</td></tr><tr><td>-629</td><td>42834</td><td>因为该外健不能包含空值，所以SET NULL无效</td></tr><tr><td>-630</td><td>56089</td><td>不能为1型索引指定WHERE NOT NULL</td></tr><tr><td>-631</td><td>54008</td><td>无效的外健；要么是比254个字节长，要么包含的列数多于40</td></tr><tr><td>-632</td><td>42915</td><td>指定的删除规则禁止把这个表定义为已制定表的从属表</td></tr><tr><td>-633</td><td>42915</td><td>无效删除规则；必须使用特定的强制删除规则</td></tr><tr><td>-634</td><td>42915</td><td>在这种情况下，DELETE CASCADE不允许</td></tr><tr><td>-635</td><td>42915</td><td>删除规则不能有差异或者不能为SET NULL</td></tr><tr><td>-636</td><td>56016</td><td>在分区索引健的升序或降序规范中，分区所以必须与该规范一致</td></tr><tr><td>-637</td><td>42614</td><td>遇到重复的关键词</td></tr><tr><td>-638</td><td>42601</td><td>在CREATE TABLE语句中缺少列定义</td></tr><tr><td>-639</td><td>56027</td><td>带有SET NULL的删除规则的外健的可空列不能是分区索引的列</td></tr><tr><td>-640</td><td>56089</td><td>不能为这个表空间指定LOCKSIZE ROW，因为在该表空间中的表上定义了1型索引</td></tr><tr><td>-642</td><td>54021</td><td>唯一约束包含太多的列</td></tr><tr><td>-643</td><td>54024</td><td>检查约束超出了3800个字符的最大长度</td></tr><tr><td>-644</td><td>42615</td><td>在SQL语句中为关键词指定的值无效</td></tr><tr><td>-646</td><td>55017</td><td>在指定的分区表空间或者缺省表空间中不能创建表，因为指定的表空间已经包含了一个表</td></tr><tr><td>-647</td><td>57003</td><td>指定的缓冲池无效，因为他没有被激活</td></tr><tr><td>-650</td><td>56090</td><td>ALTER INDEX不能被执行；提供了原因代码</td></tr><tr><td>-651</td><td>54025</td><td>如果CREARE或ALTER TABLE被允许，表对象的描述词（object descriptor,OBD）将超过最大值（32KB）</td></tr><tr><td>-652</td><td>23506</td><td>遇到了EDITRPROC或VALIDPROC冲突</td></tr><tr><td>-653</td><td>57004</td><td>在分区表空间中的表不可用，因为分区索引尚未被创建</td></tr><tr><td>-655</td><td>56036</td><td>在卷的列表中，STOGROUP不能指定为特定的或不特定（“*”）的卷</td></tr><tr><td>-658</td><td>42917</td><td>当试图删除指定的对象时，无法删除该对象，该对象的删除必须通过删除与之相关联的对象完成</td></tr><tr><td>-660</td><td>53035</td><td>不正确的分区索引规范，必须为族索引定义有限制的关键字</td></tr><tr><td>-661</td><td>53036</td><td>分区索引没有指定恰当的分区数目</td></tr><tr><td>-662</td><td>53037</td><td>试图在未分区的表空间（分段的或简单的）上建立分区索引</td></tr><tr><td>-663</td><td>53038</td><td>为分区索引指定的关键字限制值是一个无效数字</td></tr><tr><td>-665</td><td>53039</td><td>为ALTER TABLESOACE语句指定了无效的PART语句</td></tr><tr><td>-666</td><td>57005</td><td>SQL语句不能被处理，因为指定的函数当前正处于进行过程中</td></tr><tr><td>-667</td><td>42917</td><td>不能明确的删除分区表空间的族索引，必须除去分区表空间来去掉分区索引</td></tr><tr><td>-668</td><td>56018</td><td>不能向用EDITPROC定义的表中添加列</td></tr><tr><td>-669</td><td>42917</td><td>不能显式的删除分区表空间中的表，必须删除分区表空间来删除表</td></tr><tr><td>-670</td><td>54010</td><td>表的记录长度超过了页面的大小</td></tr><tr><td>-671</td><td>53040</td><td>不能更改指定的表空间的缓冲池，因为这将改变表空间的页面大小</td></tr><tr><td>-672</td><td>55035</td><td>在命名的表上不允许DROP</td></tr><tr><td>-676</td><td>53041</td><td>只有4KB的缓冲池可被用于一个索引</td></tr><tr><td>-677</td><td>57011</td><td>缓冲池扩展失败，由于可用的虚拟内存的大小不足</td></tr><tr><td>-678</td><td>53045</td><td>为才分区索引中指定的限制健提供的值与数据类型不符</td></tr><tr><td>-679</td><td>57006</td><td>不能创建某一个特定对象，因为该对象的一个drop目前正在挂起</td></tr><tr><td>-680</td><td>54011</td><td>对DB2表不能超过750列</td></tr><tr><td>-681</td><td>23507</td><td>列违反了指定的FIELDPROC</td></tr><tr><td>-682</td><td>57010</td><td>不能载入FIELDPROC</td></tr><tr><td>-683</td><td>42842</td><td>列、单值类型、函数或者过程无效，因为不兼容语句。例如，指定的INTEGER具有FORBITDATA选项</td></tr><tr><td>-684</td><td>54012</td><td>指定的文字列表不能超过254个字节</td></tr><tr><td>-685</td><td>58002</td><td>FIELDPROC返回一个无效的域描述</td></tr><tr><td>-686</td><td>53043</td><td>用FIELDPROC定义的一个列不能与一个使用不同的FIELDPROC定义的列作比较</td></tr><tr><td>-687</td><td>53044</td><td>列不能与一个非兼容字段类型的列比较</td></tr><tr><td>-688</td><td>58002</td><td>返回不正确的数据</td></tr><tr><td>-689</td><td>54011</td><td>从属表定义了太多的列</td></tr><tr><td>-690</td><td>23508</td><td>数据定义的控制支持拒绝这个语句</td></tr><tr><td>-691</td><td>57018</td><td>命名的注册表不存在</td></tr><tr><td>-692</td><td>57018</td><td>命名的索引不存在，但命名的注册表需要该索引</td></tr><tr><td>-693</td><td>55003</td><td>命名的注册表/索引的命名列无效</td></tr><tr><td>-694</td><td>57023</td><td>DROP正在命名的注册表上挂起</td></tr><tr><td>-696</td><td>42898</td><td>由于相关的名字或者转换表的名字使用不正确，指定的触发器无效</td></tr><tr><td>-697</td><td>42899</td><td>FOR EACH语句被指定，因此与OLD合NEW相关的名字是不允许的，或者不能为一个BEFORE触发器指定OLD_TABLE和NEW_TABLE</td></tr><tr><td>-713</td><td>42815</td><td>指定的专用寄存器是无效的</td></tr><tr><td>-715</td><td>56064</td><td>命名的程序不能被运行，因为他依赖与你所安装的DB2版本的部件，但是你的数据中心没有安装这个部件</td></tr><tr><td>-716</td><td>56065</td><td>命名的程序使用这个版本的不正确的发行版本做了预编译</td></tr><tr><td>-717</td><td>56066</td><td>BIND失败，因为他依赖与你所安装的DB2版本的部件，但是你的数据中心没有安装这个部件</td></tr><tr><td>-718</td><td>56067</td><td>REBIND失败，因为IBMREQD列无效</td></tr><tr><td>-719</td><td>42710</td><td>不能BIND ADD一个已经存在的程序包</td></tr><tr><td>-720</td><td>42710</td><td>不能BIND REPLACE一个已经存在的程序包版本</td></tr><tr><td>-721</td><td>42710</td><td>程序包的一致性记号必须是独一无二的</td></tr><tr><td>-722</td><td>42704</td><td>绑定错误，因为指定的程序包不存在</td></tr><tr><td>-723</td><td>9000</td><td>一个触发的SQL语句接受到一个错误</td></tr><tr><td>-724</td><td>54038</td><td>达到了（16）级联间接的SQL语句的最大项目</td></tr><tr><td>-725</td><td>42721</td><td>对专门指定的寄存器提供了一个无效值</td></tr><tr><td>-726</td><td>55030</td><td>因为SYSPKSYSTEM条目，不能绑定这个程序包</td></tr><tr><td>-728</td><td>56080</td><td>指定的数据类型不能与私有协议发布一起使用</td></tr><tr><td>-729</td><td>429B1</td><td>用COMMIT ON RETURN定义的存储过程不能用作嵌套的CALL过程的目标</td></tr><tr><td>-730</td><td>56053</td><td>在只读的共享数据库中为表定义的参照完整性无效</td></tr><tr><td>-731</td><td>56054</td><td>VSAM数据集必须用SHAREOPTION（1.3）定义</td></tr><tr><td>-732</td><td>56055</td><td>被定义为只读型数据库却拥有没有定义空间或者索引空间的DB2子系统</td></tr><tr><td>-733</td><td>56056</td><td>只读共享数据库的定义不一致</td></tr><tr><td>-734</td><td>56057</td><td>一旦一个数据库被定义为ROSHARE READ，他将不能被更改为其他不同的ROSHARE状态</td></tr><tr><td>-735</td><td>55004</td><td>用DBID名称标识的数据库不再是一个只读共享数据库</td></tr><tr><td>-736</td><td>53014</td><td>命名的DBID无效</td></tr><tr><td>-737</td><td>53056</td><td>在这种状况下，不能建立一个隐含的表空间</td></tr><tr><td>-739</td><td>56088</td><td>因为同时指定了ALLOW PARALLEL和MODIELES SQL DATA这两个语句，因此已设定的函数将不能再被更改</td></tr><tr><td>-740</td><td>51034</td><td>在这种方式下不能用MODIELES SQL DATA定义指定的函数</td></tr><tr><td>-741</td><td>55030</td><td>已经为命名的共享组成员的数据定义了工作文件数据库</td></tr><tr><td>-742</td><td>53004</td><td>DSNDB07是隐含的工作文件数据库</td></tr><tr><td>-746</td><td>57053</td><td>在特定的触发器、存储过程或函数中的SQL语句违反嵌套SQL限制</td></tr><tr><td>-747</td><td>57054</td><td>指定的表是不可用的除非为LOB数据列建立起必须的辅助表</td></tr><tr><td>-748</td><td>54042</td><td>在指定的辅助表上已经有一个索引</td></tr><tr><td>-750</td><td>42986</td><td>不能对已指定的表重新命名,因为他至少在一个现存的视图或触发器中被引用</td></tr><tr><td>-751</td><td>42987</td><td>存储过程或用户自定义的函数试图执行一个不允许执行的SQL语句。DB2的线程被置于MUST_ROLLBACK状态</td></tr><tr><td>-752</td><td>0A001</td><td>无效CONNECT语句</td></tr><tr><td>-763</td><td>560A1</td><td>无效的表空间名</td></tr><tr><td>-764</td><td>560A2</td><td>LOB表空间必须与其相关的基表空间同在一个数据库中</td></tr><tr><td>-765</td><td>560A3</td><td>表和数据库不兼容</td></tr><tr><td>-766</td><td>560A4</td><td>不能对辅助表进行请求的操作</td></tr><tr><td>-767</td><td>42626</td><td>CREATE INDEX失败，因为在辅助表中为索引指定了列，或者因为没有为非辅助表的索引指定列</td></tr><tr><td>-768</td><td>560A50</td><td>不能为指定的列或者指定的分区建立辅助表，因为其辅助表已经存在</td></tr><tr><td>-769</td><td>53096</td><td>CREATE AUX TABLE的规格与基表不匹配</td></tr><tr><td>-770</td><td>530A6</td><td>指定的表必须有一个ROWID列，那么该表才可以包含一个LOB列</td></tr><tr><td>-771</td><td>428C7</td><td>无效的ROWID列规范</td></tr><tr><td>-797</td><td>42987</td><td>CREATE TRIGGER包含不被支持的语法</td></tr><tr><td>-798</td><td>428C9</td><td>不能把一个值插入到用GENERATED ALWAYS定义的ROWID列</td></tr><tr><td>-802</td><td>22012</td><td>某一特定操作发生了异常错误。被零除</td></tr><tr><td></td><td>22003</td><td>某一特定操作发生了异常错误。但不是被零除</td></tr><tr><td>-803</td><td>23505</td><td>不能插入行，因为这将违反唯一索引的约束</td></tr><tr><td>-804</td><td>7002</td><td>SQLDA的调用参数列表有误</td></tr><tr><td>-805</td><td>51002</td><td>在计划中没有发现DBRM或程序包名</td></tr><tr><td>-807</td><td>23509</td><td>对已指定的环境和连接，该程序包不可用</td></tr><tr><td>-808</td><td>8001</td><td>CONECT语句与程序中的第一个CONNECT语句不一致</td></tr><tr><td>-811</td><td>21000</td><td>当多行作为一内嵌的选择语句的返回结果是，必须使用游标</td></tr><tr><td>-812</td><td>22508</td><td>在CURRENT PACKAGESET中的ID集合是空白的，语句不能被执行</td></tr><tr><td>-815</td><td>42920</td><td>在一个内置选择语句或者一个基本谓词的子查询中，显式的或隐含的指定了GROUP BY或HAVING语句</td></tr><tr><td>-817</td><td>25000</td><td>执行SQL语句将可能导致禁止更新用户数据或DB2编目</td></tr><tr><td>-818</td><td>5103</td><td>计划&lt;－&gt;载入组件的时间戳不匹配，在执行计划中没有从同一个预编译中建立DBRM，该预编译是作为组件载入的</td></tr><tr><td>-819</td><td>58004</td><td>视图不能重建，因为在DB2编目中存储的分析树长度为0</td></tr><tr><td>-820</td><td>58004</td><td>在这个DB2版本的DB2编目中遇到了无效值</td></tr><tr><td>-822</td><td>51004</td><td>在SQLDA中遇到了无效地址</td></tr><tr><td>-840</td><td>54004</td><td>在选择列表或插入列表中返回的项目太多</td></tr><tr><td>-842</td><td>8002</td><td>到指定位置的连接已经存在</td></tr><tr><td>-843</td><td>8003</td><td>SET CONNECTION或RELEASE语句无法执行，因为连接不存在</td></tr><tr><td>-870</td><td>58026</td><td>宿主变量描述符的个数不等于语句中宿主变量的个数</td></tr><tr><td>-872</td><td>51302</td><td>这个子系统已指定了有效的CCSID</td></tr><tr><td>-873</td><td>53090</td><td>同一SQL语句中，不能同时引用EBCDIC表中的定义的列和ASCII表中定义的列</td></tr><tr><td>-874</td><td>53901</td><td>指定对象的编码方案与其表空间的编码方案不匹配</td></tr><tr><td>-875</td><td>42988</td><td>指定的操作符不能用于ASCII数据</td></tr><tr><td>-876</td><td>53092</td><td>不能为指定的原因创建对象：提供了原因代码</td></tr><tr><td>-877</td><td>53093</td><td>数据库或表空间不允许用ASCII，必须使用EBCDIC</td></tr><tr><td>-878</td><td>53094</td><td>该PLAN——TABLE不能是ASCII，必须使用EBCDIC</td></tr><tr><td>-879</td><td>53095</td><td>指定对象的CREATE或ALTER语句不能将列、单值类型，某个存储过程或用户自定义函数的参数定义为以下类型：MAXED DATA，GRAPHIC，VARGRAPHIC，LONGVARGRAPHIC，因为系统没有为指定的编码方案定义相应的CCSID</td></tr><tr><td>-900</td><td>8003</td><td>应用处理没有连接到应用服务器，语句不能被执行</td></tr><tr><td>-901</td><td>58004</td><td>遇到时断时续的系统错误，该错误不能抑制后继的SQL语句的执行</td></tr><tr><td>-902</td><td>58005</td><td>内部控制块的指针错误，要求重新绑定</td></tr><tr><td>-904</td><td>57011</td><td>指定的资源不可用</td></tr><tr><td>-905</td><td>57014</td><td>超出了资源上限</td></tr><tr><td>-906</td><td>51005</td><td>因为重大错误，SQL语句无法执行</td></tr><tr><td>-908</td><td>23510</td><td>当前资源限制设施的规范或者自动重绑定的系统参数不允许BIND，REBIND，AUTOREBIND</td></tr><tr><td>-909</td><td>57007</td><td>对象已被删除</td></tr><tr><td>-910</td><td>57007</td><td>因为在该对象上挂起DROP，所以不能访问该对象</td></tr><tr><td>-911</td><td>40001</td><td>当前工作单元已被回滚</td></tr><tr><td>-913</td><td>57033</td><td>因为死锁或超时导致不成功执行</td></tr><tr><td>-917</td><td>42969</td><td>绑定程序包已经失败</td></tr><tr><td>-918</td><td>51021</td><td>SQL语句不能被执行，因为连接丢失</td></tr><tr><td>-919</td><td>56045</td><td>需要一个ROLLBACK</td></tr><tr><td>-922</td><td>42505</td><td>连接权限失败。试图从TSO、CICS或IMS访问DB2，同时相应的连接设施处于非活动的状态</td></tr><tr><td>-923</td><td>57015</td><td>因为DB2不可用，所以不能建立连接</td></tr><tr><td>-924</td><td>58006</td><td>遇到了DB2内部的连接错误：提供了原因代码</td></tr><tr><td>-925</td><td>2D521</td><td>SQL的COMMIT语句不能从CICS或IMS/TM发布</td></tr><tr><td>-926</td><td>2D521</td><td>SQL的ROLLBACK语句不能从CICS或IMS/TM发布</td></tr><tr><td>-927</td><td>51006</td><td>当正在连接的环境没有建立时，语言接口被调用。利用DSN命令激发该程序</td></tr><tr><td>-929</td><td>58002</td><td>数据获取退出已经失败（DPROP）</td></tr><tr><td>-939</td><td>51021</td><td>由于远程服务器的未请求的回滚，要求一个回滚</td></tr><tr><td>-947</td><td>56038</td><td>SQL语句失败，因为更新不能被传播（DPROP）</td></tr><tr><td>-948</td><td>56062</td><td>DDF没有启动，分布式操作无效</td></tr><tr><td>-950</td><td>42705</td><td>在SQL语句中指定的位置在SYSIBM.LOCATIONS中没有定义</td></tr><tr><td>-965</td><td>51021</td><td>存储过程非正常终止（在DB2 6之前的版本）</td></tr><tr><td>-981</td><td>57015</td><td>当前不是处于允许SQL的状态时，试图在RRSAF中执行SQL</td></tr><tr><td>-991</td><td>57015</td><td>调用连接不能建立一个到DB2的隐含或开放连接</td></tr><tr><td>-2001</td><td>53089</td><td>为储存过程指定的宿主变量参数的个数不等于预期的参数个数</td></tr><tr><td>-20003</td><td>560A7</td><td>不能为GRECP中的表空间或索引指定GBPCACHE NONE</td></tr><tr><td>-20004</td><td>560A8</td><td>对于WORKFILE对象。8KB或16Kb的缓冲池页面大小无效</td></tr><tr><td>-20005</td><td>54035</td><td>指定的对象类型超出了内部的ID极限</td></tr><tr><td>-20006</td><td>53097</td><td>当没有指定WLM环境时，LOB不能被指定为参数</td></tr><tr><td>-20070</td><td>53098</td><td>不能非LOB列建立一个辅助表</td></tr><tr><td>-20071</td><td>53099</td><td>必须指定WLM环境名</td></tr><tr><td>-20072</td><td>56052</td><td>指定的权限ID不拥有在触发器程序包上执行BIND所需的权限</td></tr><tr><td>-20073</td><td>42927</td><td>不能按照指定的要求更改命名的函数，因为在现存的视图定义中引用了该函数</td></tr><tr><td>-20074</td><td>42939</td><td>不能建立指定的对象，因为“SYS”是一个保留的前缀</td></tr><tr><td>-20100</td><td>56059</td><td>在被触发的SQL语句中有BIND错误，指定了错误的SQLCODE和SQLSTATE</td></tr><tr><td>-20101</td><td>56059</td><td>由于指定的原因代码，该函数失败</td></tr><tr><td>-20102</td><td>42849</td><td>在CREATE或ALTER FUNCTION语句中不能使用指定的选项</td></tr><tr><td>-20104</td><td>42856</td><td>更改一个CCSID失败</td></tr><tr><td>-20106</td><td>42945</td><td>不能改变表空间或数据库的CCSID，因为现存的试图引用</td></tr><tr><td>-30000</td><td>58008</td><td>DRDA分布协议错误；处理可以继续</td></tr><tr><td>-30002</td><td>57057</td><td>使用DRDA的分布式客户把OPEN语句连接到PREPARE，但PREPARE接受到一个SQLCODE为＋495的警告</td></tr><tr><td>-30020</td><td>58009</td><td>DRDA分布协议错误；对话被解除</td></tr><tr><td>-30021</td><td>58010</td><td>DRDA分布协议错误；处理不能继续</td></tr><tr><td>-30030</td><td>58013</td><td>违反分布协议：COMMIT不成功，对话被解除（AS）</td></tr><tr><td>-30040</td><td>57012</td><td>因为不能得到资源，执行失败，处理可以继续（AS）</td></tr><tr><td>-30041</td><td>57013</td><td>因为不能得到资源，执行失败，处理不能成功的继续（AS）</td></tr><tr><td>-30050</td><td>58011</td><td>执行不成功，在BIND过程中不能执行语句</td></tr><tr><td>-30051</td><td>58012</td><td>特定的BIND过程不是处于活动状态（远程BIND），从而导致失败</td></tr><tr><td>-30052</td><td>42932</td><td>程序准备的假设错误</td></tr><tr><td>-30053</td><td>42506</td><td>程序包的拥有者遭遇授权失败</td></tr><tr><td>-30060</td><td>8004</td><td>RBD遭遇授权失败</td></tr><tr><td>-30061</td><td>8004</td><td>指定了无效或者没有存在的RDB</td></tr><tr><td>-30070</td><td>58014</td><td>目标子系统不支持这个命令</td></tr><tr><td>-30071</td><td>58015</td><td>目标子系统不支持这个对象</td></tr><tr><td>-30072</td><td>58016</td><td>目标子系统不支持这个参数</td></tr><tr><td>-30073</td><td>58017</td><td>目标子系统不支持这个参数值</td></tr><tr><td>-30074</td><td>58018</td><td>应答信息不被支持</td></tr><tr><td>-30080</td><td>8001</td><td>SNA通信错误</td></tr><tr><td>-30081</td><td>58019</td><td>TCP/IP通信错误</td></tr><tr><td>-30082</td><td>8001</td><td>由于安全冲突、通信失败：提供了原因代码</td></tr><tr><td>-30090</td><td>25000</td><td>指定的操作对远程执行失败</td></tr><tr><td>-30104</td><td>56095</td><td>在绑定选项与绑定值中有错误</td></tr><tr><td>-30105</td><td>56096</td><td>指定的绑定选项不兼容</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_db2.jpg&quot; alt&gt;&lt;/p&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;SQLCODE速查表&lt;/p&gt;
&lt;/blockquote&gt;
&lt;span class=&quot;label primary&quot;&gt;DB2&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;SQLCODE&lt;/span&gt;
    
    </summary>
    
      <category term="数据库" scheme="http://pygo2.top/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="DB2" scheme="http://pygo2.top/tags/DB2/"/>
    
  </entry>
  
  <entry>
    <title>Front-VUE-input只允许输入数字</title>
    <link href="http://pygo2.top/articles/18893/"/>
    <id>http://pygo2.top/articles/18893/</id>
    <published>2022-06-22T13:48:38.000Z</published>
    <updated>2022-06-22T13:48:38.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>DB2数据库备份记录查询</title>
    <link href="http://pygo2.top/articles/64563/"/>
    <id>http://pygo2.top/articles/64563/</id>
    <published>2022-06-17T13:05:52.000Z</published>
    <updated>2022-06-17T13:05:52.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_db2.jpg" alt></p><div class="note primary">            <p>有一天手动备份数据库，想看下数据库备份时间，于是找到了<strong><em>db2 list history backup all for 数据库</em></strong>命令。</p>          </div><span class="label primary">DB2</span> <span class="label danger">backup</span><a id="more"></a><hr><p>直接DB2CMD执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">db2 connect to 数据库 user pas using pas</span><br><span class="line">db2 list history backup all for 数据库</span><br></pre></td></tr></table></figure></p><p>结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Op Obj Timestamp+Sequence Type Dev Earliest Log Current Log  Backup ID</span><br><span class="line"> -- --- ------------------ ---- --- ------------ ------------ --------------</span><br><span class="line">  B  D  20220802175839001   F    D  S0000000.LOG S0000000.LOG</span><br><span class="line"> ----------------------------------------------------------------------------</span><br><span class="line">  Contains 9 tablespace(s):</span><br><span class="line"></span><br><span class="line"> 00001 SYSCATSPACE</span><br><span class="line"> 00002 TBS_MXZ</span><br><span class="line"> 00003 SYSTOOLSPACE</span><br><span class="line"> 00004 TBS_PAS</span><br><span class="line"> 00005 TBS_JKSJ</span><br><span class="line"> 00006 TBS_JXDX</span><br><span class="line"> 00007 TBS_NBZZ</span><br><span class="line"> 00008 TBS_IDX</span><br><span class="line"> 00009 TBS_LSB</span><br><span class="line"> ----------------------------------------------------------------------------</span><br><span class="line">    Comment: DB2 BACKUP YKSPAS3 OFFLINE</span><br><span class="line"> Start Time: 20220802175839</span><br><span class="line">   End Time: 20220802231447</span><br><span class="line">     Status: A</span><br><span class="line"> ----------------------------------------------------------------------------</span><br><span class="line">  EID: 48531 Location: /home/db2inst1/SNPAS/PAS_BACKUP/PAS_BACKUP20220731</span><br></pre></td></tr></table></figure></p><ul><li>Start Time: 开始时间</li><li>End Time: 结束时间</li></ul><div class="post_cus_note">拓展</div><p>查看数据库备份是否可用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db2ckbkp -h /home/db2inst1/SNPAS/PAS_BACKUP/PAS_BACKUP20220731</span><br></pre></td></tr></table></figure></p><p>-h 后面是数据库备份文件，如果是可用的备份文件最后会有successful。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_db2.jpg&quot; alt&gt;&lt;/p&gt;
&lt;div class=&quot;note primary&quot;&gt;
            &lt;p&gt;有一天手动备份数据库，想看下数据库备份时间，于是找到了&lt;strong&gt;&lt;em&gt;db2 list history backup all for 数据库&lt;/em&gt;&lt;/strong&gt;命令。&lt;/p&gt;
          &lt;/div&gt;
&lt;span class=&quot;label primary&quot;&gt;DB2&lt;/span&gt; &lt;span class=&quot;label danger&quot;&gt;backup&lt;/span&gt;
    
    </summary>
    
      <category term="数据库" scheme="http://pygo2.top/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="DB2" scheme="http://pygo2.top/tags/DB2/"/>
    
  </entry>
  
</feed>
